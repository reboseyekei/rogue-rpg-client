{"version":3,"sources":["assets/loading/donkey_web.gif","assets/skins sync /^/.*/.jpg$","assets/items sync /^/.*/.svg$","assets/loading/plus.jpg","assets/icons/cap.svg","assets/icons/stat.svg","assets/loading/large_donkey_web.gif","assets/skins/adventurer.jpg","assets/skins/anomaly_dread.jpg","assets/skins/anomaly_sea.jpg","assets/skins/archmage.jpg","assets/skins/avatar.jpg","assets/skins/axolotl.jpg","assets/skins/axolotl_divine.jpg","assets/skins/crab.jpg","assets/skins/crab_silver.jpg","assets/skins/fencer.jpg","assets/skins/highwayman.jpg","assets/skins/knight.jpg","assets/skins/kove.jpg","assets/skins/krab.jpg","assets/skins/kunoichi.jpg","assets/skins/mage.jpg","assets/skins/ninja.jpg","assets/skins/nymph_blood.jpg","assets/skins/nymph_water.jpg","assets/skins/paladin.jpg","assets/skins/recluse.jpg","assets/skins/retinue.jpg","assets/skins/ronin.jpg","assets/skins/scoundrel.jpg","assets/skins/scout.jpg","assets/skins/sorceress.jpg","assets/skins/swordman.jpg","assets/skins/templar.jpg","assets/skins/thief.jpg","assets/skins/treasure_bronze.jpg","assets/skins/treasure_iron.jpg","assets/skins/warlock.jpg","assets/skins/warrior.jpg","assets/skins/witch.jpg","assets/skins/wizard.jpg","assets/items/blue_test.svg","assets/items/brown_test.svg","assets/items/coldburst.svg","assets/items/cowl_test.svg","assets/items/crush.svg","assets/items/fireball.svg","assets/items/flee.svg","assets/items/gaze.svg","assets/items/green_test.svg","assets/items/minorsiphon.svg","assets/items/pinch.svg","assets/items/purple_test.svg","assets/items/red_test.svg","assets/items/ring_test.svg","assets/items/shell.svg","assets/items/slash.svg","assets/items/struggle.svg","assets/items/watercannon.svg","assets/items/yellow_test.svg","assets/icons sync /^/.*/.jpg$","assets/icons/crystal_crab_cove.jpg","serviceWorker.js","helper/auth.js","modules/major/login.js","modules/minor/charCreation.js","helper/place.js","modules/major/selection.js","modules/minor/modalheader.js","modules/minor/modal.js","helper/drag.js","helper/character.js","helper/helpers.js","modules/minor/item.js","modules/minor/inventory.js","modules/minor/stats.js","modules/minor/equipment.js","modules/minor/character.js","modules/minor/dungeon.js","modules/minor/players.js","modules/minor/occupant.js","modules/minor/abilityButton.js","modules/minor/dungeonui.js","modules/major/dungeon.js","modules/minor/partyDetail.js","modules/minor/party.js","modules/minor/venture.js","modules/major/settlement.js","pages/game.js","App.js","ApolloProvider.js","index.js"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Boolean","window","location","hostname","match","initialState","user","character","localStorage","getItem","decodedToken","jwtDecode","exp","Date","now","removeItem","AuthContext","createContext","login","data","logout","setCharacter","resetCharacter","authReducer","state","action","type","payload","AuthProvider","props","useReducer","dispatch","Provider","value","setItem","token","Login","context","useContext","useState","email","password","loginValues","setLoginValues","username","confirmPassword","registerValues","setRegisterValues","handleLoginChange","event","target","name","handleRegisterChange","loginErrors","setLoginErrors","registerErrors","setRegisterErrors","LOGIN_USER","gql","useMutation","update","_","userData","onError","err","graphQLErrors","extensions","exception","errors","variables","loginUser","loginLoad","loading","className","onSubmit","preventDefault","noValidate","htmlFor","onChange","src","Load","style","marginTop","alt","REGISTER_USER","register","console","log","addUser","registerLoad","height","borderColor","display","flexDirection","alignItems","Transition","React","forwardRef","ref","Slide","direction","CharCreation","open","handleClose","userId","charName","locationId","spiritId","values","setValues","handleChange","resetValues","setErrors","CREATE_CHARACTER","createCharacter","characterLoad","characterData","useQuery","FETCH_LOCATIONS","locationsLoad","locationsData","FETCH_SPIRITS","spiritsLoad","spiritsData","useEffect","passTime","ms","Promise","res","setTimeout","a","closeWindow","Dialog","fullScreen","onClose","TransitionComponent","PaperProps","backgroundColor","fontFamily","color","Grid","container","paddingLeft","paddingRight","item","xs","marginLeft","fontSize","textAlign","onClick","place","getLocations","key","lineHeight","abilityChoice","getSpirits","spirit","md","lg","marginBottom","placeId","desc","PlaceContext","reset","placeReducer","PlaceProvider","Selection","placeContext","setOpen","Math","random","setReset","FETCH_CHARACTERS","pollInterval","charactersLoad","charactersData","FETCH_PLACES","fetchPolicy","placesLoad","placesData","refetch","findPlace","places","indexOf","marginRight","float","getCharacters","getPlaces","skins","require","width","level","lvl","plus","ModalHeader","onDrag","title","subtitle","mouseDown","setMouseDown","handleMouseUp","addEventListener","handleMouseMove","movementX","movementY","removeEventListener","onMouseDown","cursor","userSelect","Modal","component","modalRef","useRef","modal","current","getBoundingClientRect","x","y","widthMultiplier","clientWidth","heightMultiplier","clientHeight","left","top","dragging","draggedFrom","draggedTo","draggedOn","isDragging","DragContext","start","over","drop","leave","dragReducer","firstTarget","firstAnchor","secondTarget","secondAnchor","DragProvider","characterId","owner","party","tags","titles","cap","alignment","humanity","attributes","buffs","debuffs","slots","abilitiesInv","cooldown","mind","body","soul","health","mana","stamina","shield","defRes","debuffRes","perks","effects","canEquip","equipment","inventory","familiar","abilities","slotOne","slotTwo","slotThree","slotFour","slotFive","slotSix","slotSeven","slotEight","slotNine","slotTen","slotEleven","slotThirteen","slotFourteen","slotFifteen","slotSixteen","slotSeventeen","slotEighteen","slotNineteen","slotTwenty","status","equipped","head","upperBody","leftHand","rightHand","lowerBody","feet","ringOne","ringTwo","lines","CharacterContext","equip","use","characterReducer","CharacterProvider","checkCategory","anchor","category","creation","destruction","projection","restoration","vitality","defense","strength","dexterity","luck","capacity","clarity","will","categoryDetails","itemId","details","push","margin","textDecoration","sum","ob1","ob2","parseEquip","parseEquipped","init","total","abilityArray","slotsToMap","parseDivision","division","max","parseCategory","scale","chosenCategory","parseAlter","anchorName","alter","default","mod","parseScalers","scalers","concat","space","time","death","life","fire","water","earth","air","parseAttributes","regen","dread","poison","scorch","cold","spark","reflect","taunt","flee","immortal","strong","warped","sniper","overcharged","scavenger","swift","parseBuffs","fear","burn","freeze","shock","toxin","decay","bleed","exhaustion","exploison","paralysis","frozen","scorched","sleep","parseDebuffs","scaled","parseModifier","modifier","parseEffect","effect","modifiers","i","length","parseModifiers","parseFields","fields","check","parseTarget","decision","dictionary","parse","j","parseEffects","parseScaleField","targetText","altName","scaleWords","split","totalMultiplier","scope","secondaryWord","toLowerCase","floor","tag","finalValue","parseField","extra","extraValues","words","totalRepeat","scopeTarget","repeatWords","selectedEffect","turns","slottedAbilityDetails","slot","ability","targets","summon","wellspring","wellpsring","explosion","parseTotalStats","Array","isArray","splice","slice","parseSlottedAbility","htmlExport","integers","scales","fieldCount","includes","borderRadius","modNum","modDetails","memo","enchantments","drag","setSlot","fetchedItem","setFetchedItem","fetchedAbility","setFetchedAbility","itemMailer","setItemMailer","FETCH_ITEM","itemLoad","itemData","useLazyQuery","FETCH_ABILITY","getAbility","abilityLoad","abilityData","tempItem","temp","abilityId","tempAbility","tempAbilities","path","el","heightCap","innerHeight","widthCap","innerWidth","cssText","typeText","detail","bodyGenerator","inventoryId","refreshEquips","FETCH_INVENTORY","SWITCH_ITEMS","switchItems","finishDrag","substring","backgroundCalculator","inv","getInventory","draggable","onDragStart","img","Image","dataTransfer","setDragImage","dragStart","onDragOver","onDragLeave","onDrop","Stats","refreshData","rerender","setRerender","capUsed","statUsed","stat","setStat","resetStat","newStat","changeCap","increment","tempAnchor","changeStat","disableCalc","UPDATE_CHARACTER_STATS","mindCap","bodyCap","soulCap","updateCharacterStats","stats","selected","setSelected","select","backgroundCalc","anchors","attributesTargets","statusAnchors","statusTargets","debuffResistance","justifyContent","paddingTop","Cap","Stat","padding","index","alignContent","textTransform","disabled","verticalAlign","Loading","equipmentId","FETCH_EQUIPMENT","dragOver","getEquipment","justify","border","spacing","FETCH_EQUIPS","equipmentLoad","equipmentData","FETCH_ABILITIES_INV","abilitiesInvId","abilitiesInvLoad","abilitiesInvData","CHANGE_SKIN","changeSkin","skinLoad","setSlots","skinIndex","storedAbilities","setStoredAbilities","tempEquipment","getEquips","getAbilitiesInv","healthMeasure","manaMeasure","staminaMeasure","shieldMeasure","relations","vanity","connections","colorCalc","healthMax","healthRegen","manaMax","manaRegen","staminaMax","staminaRegen","shieldMax","shieldRegen","highestStat","damageReduction","expCalc","align","xp","paddingBottom","data-total","data-value","background","minWidth","targetIndex","minHeight","field","word","string","charAt","toUpperCase","capitalize","skin","newValues","parseInt","Dungeon","charContext","FETCH_DUNGEON","dungeonId","dungeonLoad","dungeonData","FETCH_PLAYERS","playersLoad","playersData","dungeon","players","tokens","tokenCalc","getDungeon","getPlayers","boxShadow","tokenDistribution","totalTokens","Players","turn","calcHit","curr","playerDisplay","player","measures","getWidth","healthHit","manaHit","staminaHit","shieldHit","Occupant","occupant","healthWidth","setHealthWidth","maxWidth","SEND_ABILITY","sendAbility","loadingAbility","skip","DungeonUI","destination","votes","setVotes","ROOM_VOTE","roomVote","roomLoad","ACTION_VOTE","actionVote","actionLoad","narrator","loot","actions","records","isHostile","occupants","notFullHealth","notPassiveAlignment","notFriendlyAlignment","isLiving","alertText","currPlayerIndex","playerIds","currPlayer","room","lifespan","titleGenerator","isParty","hasVote","instantActions","notHostileActions","borderTopLeftRadius","borderTopRightRadius","pointerEvents","msg","setAction","leadingRooms","environment","vote","setRoom","verticaAlign","Settlement","setModal","toggleModal","toggle","isPlace","FETCH_CHARACTER","FETCH_DUNGEON_OUTPUT","tempCharacter","getCharacter","tempData","overflow","in","mountOnEnter","unmountOnExit","getDungeonOutput","borderLeft","partyId","kickable","kick","FETCH_PARTY","partyLoad","partyData","FETCH_MEMBERS","membersLoad","membersData","getParty","characters","getMembers","Party","FETCH_PARTIES","partiesLoad","partiesData","CREATE_PARTY","createParty","createPartyLoad","createPartySubmit","JOIN_PARTY","joinParty","LEAVE_PARTY","leaveParty","KICK_PARTY","kickParty","lookup","spellCheck","getParties","charting","FETCH_AREAS","areasLoad","areasData","CREATE_DUNGEON","createDungeon","areas","getAreas","isPartyLeader","area","icon","droprate","chaos","size","rooms","containment","generalText","starterText","containmentText","totalText","text","floorText","rarity","templateId","buttonText","vault","venture","FETCH_VAULTS","vaultLoad","vaultData","getUser","Game","App","httpLink","createHttpLink","uri","authLink","setContext","headers","Authorization","client","ApolloClient","link","cache","InMemoryCache","ReactDOM","render","ApolloProvider","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.ebc1968d.chunk.js","sourcesContent":["module.exports = \"data:image/gif;base64,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\"","var map = {\n\t\"./adventurer.jpg\": 123,\n\t\"./anomaly_dread.jpg\": 124,\n\t\"./anomaly_sea.jpg\": 125,\n\t\"./archmage.jpg\": 126,\n\t\"./avatar.jpg\": 127,\n\t\"./axolotl.jpg\": 128,\n\t\"./axolotl_divine.jpg\": 129,\n\t\"./crab.jpg\": 130,\n\t\"./crab_silver.jpg\": 131,\n\t\"./fencer.jpg\": 132,\n\t\"./highwayman.jpg\": 133,\n\t\"./knight.jpg\": 134,\n\t\"./kove.jpg\": 135,\n\t\"./krab.jpg\": 136,\n\t\"./kunoichi.jpg\": 137,\n\t\"./mage.jpg\": 138,\n\t\"./ninja.jpg\": 139,\n\t\"./nymph_blood.jpg\": 140,\n\t\"./nymph_water.jpg\": 141,\n\t\"./paladin.jpg\": 142,\n\t\"./recluse.jpg\": 143,\n\t\"./retinue.jpg\": 144,\n\t\"./ronin.jpg\": 145,\n\t\"./scoundrel.jpg\": 146,\n\t\"./scout.jpg\": 147,\n\t\"./sorceress.jpg\": 148,\n\t\"./swordman.jpg\": 149,\n\t\"./templar.jpg\": 150,\n\t\"./thief.jpg\": 151,\n\t\"./treasure_bronze.jpg\": 152,\n\t\"./treasure_iron.jpg\": 153,\n\t\"./warlock.jpg\": 154,\n\t\"./warrior.jpg\": 155,\n\t\"./witch.jpg\": 156,\n\t\"./wizard.jpg\": 157\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 44;","var map = {\n\t\"./blue_test.svg\": 158,\n\t\"./brown_test.svg\": 159,\n\t\"./coldburst.svg\": 160,\n\t\"./cowl_test.svg\": 161,\n\t\"./crush.svg\": 162,\n\t\"./fireball.svg\": 163,\n\t\"./flee.svg\": 164,\n\t\"./gaze.svg\": 165,\n\t\"./green_test.svg\": 166,\n\t\"./minorsiphon.svg\": 167,\n\t\"./pinch.svg\": 168,\n\t\"./purple_test.svg\": 169,\n\t\"./red_test.svg\": 170,\n\t\"./ring_test.svg\": 171,\n\t\"./shell.svg\": 172,\n\t\"./slash.svg\": 173,\n\t\"./struggle.svg\": 174,\n\t\"./watercannon.svg\": 175,\n\t\"./yellow_test.svg\": 176\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46;","module.exports = \"data:image/jpeg;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/cap.6f5b4c19.svg\";","module.exports = __webpack_public_path__ + \"static/media/stat.ce4e4264.svg\";","module.exports = __webpack_public_path__ + \"static/media/large_donkey_web.a134750c.gif\";","module.exports = __webpack_public_path__ + \"static/media/adventurer.fbd7dc38.jpg\";","module.exports = __webpack_public_path__ + \"static/media/anomaly_dread.cf6ae220.jpg\";","module.exports = __webpack_public_path__ + \"static/media/anomaly_sea.0ca7bb83.jpg\";","module.exports = __webpack_public_path__ + \"static/media/archmage.000bf236.jpg\";","module.exports = __webpack_public_path__ + \"static/media/avatar.d9024f00.jpg\";","module.exports = __webpack_public_path__ + \"static/media/axolotl.a6831171.jpg\";","module.exports = __webpack_public_path__ + \"static/media/axolotl_divine.bad1b0bf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/crab.ba46cada.jpg\";","module.exports = __webpack_public_path__ + \"static/media/crab_silver.75b36f4d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/fencer.2d3d598d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/highwayman.5237d5b4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/knight.da37b1e9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kove.73a11df8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/krab.51de844e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/kunoichi.1194c4b1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mage.44a7186e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ninja.b33c0495.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nymph_blood.92d1029c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/nymph_water.fb4ed112.jpg\";","module.exports = __webpack_public_path__ + \"static/media/paladin.3af3c7d2.jpg\";","module.exports = __webpack_public_path__ + \"static/media/recluse.ed14b479.jpg\";","module.exports = __webpack_public_path__ + \"static/media/retinue.89d8f4f8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ronin.c4d6c4fc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/scoundrel.b2735311.jpg\";","module.exports = __webpack_public_path__ + \"static/media/scout.df6fc220.jpg\";","module.exports = __webpack_public_path__ + \"static/media/sorceress.db0de544.jpg\";","module.exports = __webpack_public_path__ + \"static/media/swordman.5f0731a9.jpg\";","module.exports = __webpack_public_path__ + \"static/media/templar.d1641b5e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/thief.54ff0311.jpg\";","module.exports = __webpack_public_path__ + \"static/media/treasure_bronze.f25f2806.jpg\";","module.exports = __webpack_public_path__ + \"static/media/treasure_iron.c02c71cc.jpg\";","module.exports = __webpack_public_path__ + \"static/media/warlock.bd909d08.jpg\";","module.exports = __webpack_public_path__ + \"static/media/warrior.d0b4b1f6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/witch.698f279b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/wizard.371dd8fb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/blue_test.f961e523.svg\";","module.exports = __webpack_public_path__ + \"static/media/brown_test.12c5a210.svg\";","module.exports = __webpack_public_path__ + \"static/media/coldburst.8bdc8374.svg\";","module.exports = __webpack_public_path__ + \"static/media/cowl_test.45b32774.svg\";","module.exports = __webpack_public_path__ + \"static/media/crush.31984214.svg\";","module.exports = __webpack_public_path__ + \"static/media/fireball.7c092bcf.svg\";","module.exports = __webpack_public_path__ + \"static/media/flee.9dbc37ec.svg\";","module.exports = __webpack_public_path__ + \"static/media/gaze.4c4b8a14.svg\";","module.exports = __webpack_public_path__ + \"static/media/green_test.9ff23996.svg\";","module.exports = __webpack_public_path__ + \"static/media/minorsiphon.12bfa406.svg\";","module.exports = __webpack_public_path__ + \"static/media/pinch.87706157.svg\";","module.exports = __webpack_public_path__ + \"static/media/purple_test.b68f59f3.svg\";","module.exports = __webpack_public_path__ + \"static/media/red_test.eb3fb51d.svg\";","module.exports = __webpack_public_path__ + \"static/media/ring_test.2e48c1cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/shell.f561848d.svg\";","module.exports = __webpack_public_path__ + \"static/media/slash.986be1e5.svg\";","module.exports = __webpack_public_path__ + \"static/media/struggle.68c916d3.svg\";","module.exports = __webpack_public_path__ + \"static/media/watercannon.0adc9965.svg\";","module.exports = __webpack_public_path__ + \"static/media/yellow_test.df6057bd.svg\";","var map = {\n\t\"./crystal_crab_cove.jpg\": 178\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 177;","module.exports = __webpack_public_path__ + \"static/media/crystal_crab_cove.fb4a8ba0.jpg\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React, { useReducer, createContext } from \"react\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst initialState = {\r\n  user: null,\r\n  character: null,\r\n};\r\n\r\nif (localStorage.getItem(\"jwtToken\")) {\r\n  const decodedToken = jwtDecode(localStorage.getItem(\"jwtToken\"));\r\n\r\n  if (decodedToken.exp * 1000 < Date.now()) {\r\n    localStorage.removeItem(\"jwtToken\");\r\n  } else {\r\n    initialState.user = decodedToken;\r\n  }\r\n}\r\n\r\nconst AuthContext = createContext({\r\n  user: null,\r\n  character: null,\r\n  login: (data) => { },\r\n  logout: () => { },\r\n  setCharacter: (data) => { },\r\n  resetCharacter: () => { },\r\n});\r\n\r\nfunction authReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"LOGIN\":\r\n      return {\r\n        ...state,\r\n        user: action.payload,\r\n      };\r\n    case \"LOGOUT\":\r\n      return {\r\n        ...state,\r\n        user: null,\r\n      };\r\n    case \"SET_CHARACTER\":\r\n      return {\r\n        ...state,\r\n        character: action.payload,\r\n      };\r\n    case \"RESET_CHARACTER\":\r\n      return {\r\n        ...state,\r\n        character: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction AuthProvider(props) {\r\n  const [state, dispatch] = useReducer(authReducer, initialState);\r\n\r\n  function login(data) {\r\n    localStorage.setItem(\"jwtToken\", data.token);\r\n    dispatch({\r\n      type: \"LOGIN\",\r\n      payload: data,\r\n    });\r\n  }\r\n\r\n  function logout() {\r\n    localStorage.removeItem(\"jwtToken\");\r\n    dispatch({ type: \"LOGOUT\" });\r\n  }\r\n\r\n  function setCharacter(data) {\r\n    dispatch({\r\n      type: \"SET_CHARACTER\",\r\n      payload: data,\r\n    });\r\n  }\r\n\r\n  function resetCharacter() {\r\n    dispatch({ type: \"RESET_CHARACTER\" });\r\n  }\r\n\r\n  return <AuthContext.Provider value={{ user: state.user, character: state.character, login, logout, setCharacter, resetCharacter }} {...props} />;\r\n}\r\n\r\nexport { AuthContext, AuthProvider };\r\n","//General Imports\r\nimport React, { useState, useContext } from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Contexts\r\nimport { AuthContext } from \"../../helper/auth\";\r\n\r\n//Style\r\nimport \"../styles/base.css\";\r\n\r\n//Images\r\nimport Load from \"../../assets/loading/donkey_web.gif\";\r\n\r\n//&&&&&===============================*** REGISTRATION AND LOGIN MAIN FUNCTION ***===============================&&&&&//\r\nexport default function Login() {\r\n  const context = useContext(AuthContext);\r\n\r\n  //===============================*** LOGIN/REGISTER VALUE MANAGEMENT ***===============================//\r\n  const [loginValues, setLoginValues] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [registerValues, setRegisterValues] = useState({\r\n    email: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n  });\r\n\r\n  const handleLoginChange = (event) => {\r\n    setLoginValues({ ...loginValues, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleRegisterChange = (event) => {\r\n    setRegisterValues({ ...registerValues, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  //Holds errors received from server\r\n  const [loginErrors, setLoginErrors] = useState({});\r\n  const [registerErrors, setRegisterErrors] = useState({});\r\n\r\n  //===============================*** LOGIN ***===============================//\r\n\r\n  const LOGIN_USER = gql`\r\n    mutation login($email: String!, $password: String!) {\r\n      login(loginInput: { email: $email, password: $password }) {\r\n        id\r\n        username\r\n        purity\r\n        wisdom\r\n        locations\r\n        spirits\r\n        vault\r\n        token\r\n      }\r\n    }\r\n  `;\r\n\r\n  const [loginUser, { loading: loginLoad }] = useMutation(LOGIN_USER, {\r\n    update(_, { data: { login: userData } }) {\r\n      context.login(userData);\r\n    },\r\n    onError(err) {\r\n      setLoginErrors(err.graphQLErrors[0].extensions.exception.errors);\r\n    },\r\n    variables: loginValues,\r\n  });\r\n\r\n  const loginSubmit = (event) => {\r\n    event.preventDefault();\r\n    loginUser();\r\n  };\r\n\r\n  const login = (\r\n    <div className=\"rpg-form\">\r\n      <form onSubmit={loginSubmit} noValidate>\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input className={registerErrors.email ? \"error\" : \"\"} type=\"email\" id=\"email\" name=\"email\" onChange={handleLoginChange} />\r\n        <p>{loginErrors.email}</p>\r\n        <label htmlFor=\"username\">Password</label>\r\n        <input className={registerErrors.password ? \"error\" : \"\"} type=\"text\" id=\"password\" name=\"password\" onChange={handleLoginChange} />\r\n        <p>{loginErrors.password}</p>\r\n        <button className=\"submit-button\">{loginLoad ? <img src={Load} style={{ marginTop: \"-10px\" }} alt=\"loading\" /> : \"login\"}</button>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  //===============================*** REGISTRATION ***===============================//\r\n  const REGISTER_USER = gql`\r\n    mutation register($email: String!, $username: String!, $password: String!, $confirmPassword: String!) {\r\n      register(registerInput: { email: $email, username: $username, password: $password, confirmPassword: $confirmPassword }) {\r\n        id\r\n        username\r\n        purity\r\n        wisdom\r\n        locations\r\n        spirits\r\n        vault\r\n        token\r\n      }\r\n    }\r\n  `;\r\n\r\n  const [addUser, { loading: registerLoad }] = useMutation(REGISTER_USER, {\r\n    update(_, { data: { register: userData } }) {\r\n      context.login(userData);\r\n    },\r\n    onError(err) {\r\n      console.log(err);\r\n      setRegisterErrors(err.graphQLErrors[0].extensions.exception.errors);\r\n    },\r\n    variables: registerValues,\r\n  });\r\n\r\n  const registerSubmit = (event) => {\r\n    event.preventDefault();\r\n    console.log(registerValues);\r\n    addUser();\r\n  };\r\n\r\n  const register = (\r\n    <div className=\"rpg-form\">\r\n      <form onSubmit={registerSubmit} noValidate>\r\n        <label htmlFor=\"email\">Email</label>\r\n        <input className={registerErrors.email ? \"error\" : \"\"} type=\"email\" id=\"email\" name=\"email\" onChange={handleRegisterChange} />\r\n        <p>{registerErrors.email}</p>\r\n        <label htmlFor=\"username\">Username</label>\r\n        <input className={registerErrors.username ? \"error\" : \"\"} type=\"text\" id=\"username\" name=\"username\" onChange={handleRegisterChange} />\r\n        <p>{registerErrors.username}</p>\r\n        <label htmlFor=\"password\">Password</label>\r\n        <input className={registerErrors.password ? \"error\" : \"\"} type=\"text\" id=\"password\" name=\"password\" onChange={handleRegisterChange} />\r\n        <label htmlFor=\"confirmPassword\" style={{ marginTop: \"2px\" }}>\r\n          Confirm password\r\n        </label>\r\n        <input\r\n          className={registerErrors.confirmPassword ? \"error\" : \"\"}\r\n          type=\"text\"\r\n          id=\"confirmPassword\"\r\n          name=\"confirmPassword\"\r\n          onChange={handleRegisterChange}\r\n        />\r\n        <p style={{ height: \"30px\" }}>{registerErrors.confirmPassword || registerErrors.password}</p>\r\n        <button className=\"submit-button\" style={{ borderColor: registerLoad ? \"#ab9d48\" : \"#bbb\" }}>\r\n          {registerLoad ? <img src={Load} alt=\"loading\" style={{ marginTop: \"-10px\" }} /> : \"register\"}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  //===============================*** COMPILED ***===============================//\r\n\r\n  return (\r\n    <div>\r\n      <h1 className=\"title\">ROGUE RPG</h1>\r\n      <div className=\"container\" style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n        {login}\r\n        {register}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","//General\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\n//Assets\r\nimport Load from \"../../assets/loading/donkey_web.gif\";\r\n\r\n//Contexts\r\nimport { AuthContext } from \"../../helper/auth\";\r\n\r\n//Transition\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default function CharCreation({ open, handleClose}) {\r\n  const context = useContext(AuthContext);\r\n  const userId = context.user.id;\r\n\r\n  //NEW CHARACTER VALUES\r\n  const [values, setValues] = useState({\r\n    charName: \"\",\r\n    locationId: \"\",\r\n    spiritId: \"\",\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const resetValues = () => {\r\n    setValues({\r\n      charName: \"\",\r\n      locationId: \"\",\r\n      spiritId: \"\",\r\n    });\r\n    setErrors({});\r\n  };\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [createCharacter, { loading: characterLoad, data: characterData }] = useMutation(CREATE_CHARACTER, {\r\n    onError(err) {\r\n      setErrors(err.graphQLErrors[0].extensions.exception.errors);\r\n    },\r\n    variables: values,\r\n  });\r\n\r\n  const createCharacterSubmit = (event) => {\r\n    event.preventDefault();\r\n    createCharacter();\r\n  };\r\n\r\n  const { loading: locationsLoad, data: locationsData } = useQuery(FETCH_LOCATIONS, { variables: { userId } });\r\n  const { loading: spiritsLoad, data: spiritsData } = useQuery(FETCH_SPIRITS, { variables: { userId } });\r\n\r\n  useEffect(() => {\r\n    const passTime = (ms) => new Promise((res) => setTimeout(res, ms));\r\n    async function closeWindow() {\r\n      resetValues();\r\n      await passTime(1000);\r\n      handleClose();\r\n    }\r\n\r\n    if(!characterLoad && characterData) {\r\n      closeWindow();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [characterData]);\r\n\r\n  const dialog = (\r\n    <Dialog\r\n      fullScreen\r\n      open={open}\r\n      onClose={handleClose}\r\n      TransitionComponent={Transition}\r\n      PaperProps={{ style: { backgroundColor: \"#000\", fontFamily: \"Press Start 2P\", color: \"white\" } }}\r\n    >\r\n      <Grid container style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n        <Grid item xs={11}>\r\n          <p style={{ color: \"white\", marginLeft: \"20px\", fontSize: \"1.5em\", marginTop: \"30px\", textAlign: \"center\" }}>Create a Character</p>\r\n        </Grid>\r\n        <Grid item xs={1}>\r\n          <button className=\"null-button\" onClick={handleClose}>\r\n            <h1>X</h1>\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <label htmlFor=\"characterName\">Character name</label>\r\n          <input type=\"text\" id=\"characterName\" name=\"charName\" value={values.charName} onChange={handleChange} />\r\n          <p>{!errors.charName ? \"\" : errors.charName}</p>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <label htmlFor=\"locationSelect\">Spawn place</label>\r\n          <select id=\"locationSelect\" name=\"locationId\" value={values.place} onChange={handleChange}>\r\n            <option value=\"\"></option>\r\n            {!locationsLoad && locationsData\r\n              ? locationsData.getLocations.map((location) => <option key={location.id} value={location.id}>{`${location.name}`}</option>)\r\n              : \"\"}\r\n          </select>\r\n          <div>\r\n            <p style={{ color: \"white\", lineHeight: \"1.6\", height: \"auto\" }}>\r\n              Your spawning place decides where your character starts. Certain classes can only be selected in certain spawn places. Dangerous starts will be\r\n              colored.\r\n            </p>\r\n          </div>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <label htmlFor=\"spiritSelect\">Class select</label>\r\n          <select id=\"spiritSelect\" name=\"spiritId\" value={values.abilityChoice} onChange={handleChange}>\r\n            <option value=\"\"></option>\r\n            {!spiritsLoad && spiritsData ? spiritsData.getSpirits.map((spirit) => <option key={spirit.id} value={spirit.id}>{`${spirit.name}`}</option>) : \"\"}\r\n          </select>\r\n          <p style={{ color: \"white\", lineHeight: \"1.6\", height: \"auto\" }}>\r\n            Classes can influence how you play the game, but aren't hard limitations on what your character can do\r\n          </p>\r\n        </Grid>\r\n        <Grid item xs={10} md={5} lg={3}>\r\n          <button className=\"submit-button\" onClick={createCharacterSubmit} style={{ borderColor: characterLoad ? \"#ab9d48\" : \"#bbb\", marginBottom: \"10px\" }}>\r\n            {characterLoad ? <img src={Load} alt=\"loading\" style={{ marginTop: \"-10px\" }} /> : \"Create Character\"}\r\n          </button>\r\n        </Grid>\r\n      </Grid>\r\n    </Dialog>\r\n  );\r\n  return dialog;\r\n}\r\n\r\nconst CREATE_CHARACTER = gql`\r\n  mutation createCharacter($charName: String!, $locationId: String!, $spiritId: String!) {\r\n    createCharacter(createCharacterInput: { charName: $charName, locationId: $locationId, spiritId: $spiritId }) {\r\n      id\r\n      skins\r\n      name\r\n      place\r\n      level {\r\n        lvl\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_LOCATIONS = gql`\r\n  query($userId: ID!) {\r\n    getLocations(userId: $userId) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_SPIRITS = gql`\r\n  query($userId: ID!) {\r\n    getSpirits(userId: $userId) {\r\n      id\r\n      name\r\n      desc\r\n    }\r\n  }\r\n`;\r\n","import React, { useReducer, createContext } from \"react\";\r\n\r\nconst initialState = {\r\n    placeId: null,\r\n    type: null,\r\n    name: null,\r\n    desc: null,\r\n};\r\n\r\nconst PlaceContext = createContext({\r\n    placeId: null,\r\n    type: null,\r\n    name: null,\r\n    desc: null,\r\n    place: (data) => { },\r\n    reset: () => { },\r\n});\r\n\r\nfunction placeReducer(state, action) {\r\n    switch (action.type) {\r\n        case \"PLACE\":\r\n            return {\r\n                ...state,\r\n                placeId: action.payload.placeId,\r\n                type: action.payload.type,\r\n                name: action.payload.name,\r\n                desc: action.payload.desc,\r\n            }\r\n        case \"RESET\":\r\n            return {\r\n                placeId: null,\r\n                type: null,\r\n                name: null,\r\n                desc: null,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nfunction PlaceProvider(props) {\r\n    const [state, dispatch] = useReducer(placeReducer, initialState);\r\n\r\n    function place(data) {\r\n        dispatch({\r\n            type: \"PLACE\",\r\n            payload: data,\r\n        })\r\n    }\r\n\r\n    function reset() {\r\n        dispatch({\r\n            type: \"RESET\",\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PlaceContext.Provider\r\n            value={{\r\n                placeId: state.placeId,\r\n                type: state.type,\r\n                name: state.name,\r\n                desc: state.desc,\r\n                place,\r\n                reset,\r\n            }}\r\n            {...props}\r\n        />\r\n    );\r\n}\r\n\r\nexport { PlaceContext, PlaceProvider };\r\n","//General\r\nimport React, { useState, useContext, useEffect } from \"react\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Minor Modules\r\nimport CharCreation from \"../minor/charCreation\";\r\n\r\n//Contexts\r\nimport { AuthContext } from \"../../helper/auth\";\r\nimport { PlaceContext } from \"../../helper/place\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\n//Assets\r\nimport plus from \"../../assets/loading/plus.jpg\";\r\n\r\n//Transition\r\n\r\nexport default function Selection() {\r\n  //GENERAL VALUES\r\n  const context = useContext(AuthContext);\r\n  const userId = context.user.id;\r\n  const placeContext = useContext(PlaceContext);\r\n\r\n  //GRAPHICAL MANAGEMENT\r\n  const [open, setOpen] = useState(false);\r\n  const [reset, setReset] = useState(Math.random());\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  //GRAPHQL FUNCTIONS\r\n  const { loading: charactersLoad, data: charactersData } = useQuery(FETCH_CHARACTERS, { variables: { userId }, pollInterval: 500 });\r\n  const { loading: placesLoad, data: placesData, refetch } = useQuery(FETCH_PLACES, { variables: { userId }, fetchPolicy: \"no-cache\" });\r\n\r\n  useEffect(() => {\r\n    setReset(Math.random());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [placesData]);\r\n\r\n  useEffect(() => {\r\n    refetch();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [charactersData]);\r\n\r\n  const findPlace = (places, place) => {\r\n    const index = places.places.indexOf(place);\r\n    return index;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Grid container>\r\n        <Grid item xs={8} md={11}>\r\n          <h1 className=\"title\">ROGUE RPG</h1>\r\n        </Grid>\r\n        <Grid item xs={4} md={1}>\r\n          <button className=\"base-button\" onClick={context.logout} style={{ fontFamily: \"Piazzolla\", height: \"100%\", marginRight: \"auto\", float: \"right\" }}>\r\n            <h1>LOGOUT</h1>\r\n          </button>\r\n        </Grid>\r\n      </Grid>\r\n      <section className=\"basic-grid\" key={reset}>\r\n        {charactersLoad && placesLoad\r\n          ? \"\"\r\n          : !charactersLoad &&\r\n            charactersData.getCharacters &&\r\n            !placesLoad &&\r\n            placesData.getPlaces &&\r\n            !open &&\r\n            charactersData.getCharacters.map((character) => (\r\n              <div\r\n                className=\"card\"\r\n                key={character.id}\r\n                onClick={() => {\r\n                  if (placesData.getPlaces.data[findPlace(placesData.getPlaces, character.place)]) {\r\n                    context.setCharacter({ id: character.id, skins: character.skins, place: character.place });\r\n                    let places = placesData.getPlaces;\r\n                    placeContext.place({\r\n                      placeId: character.place,\r\n                      type: places.data[findPlace(places, character.place)].desc ? \"location\" : \"dungeon\",\r\n                      name: places.data[findPlace(places, character.place)].name,\r\n                      desc: places.data[findPlace(places, character.place)].desc,\r\n                    });\r\n                  }\r\n                }}\r\n              >\r\n                <img\r\n                  src={require(`../../assets/skins/${character.skins[0]}.jpg`)}\r\n                  style={{ width: \"300px\", height: \"300px\" }}\r\n                  alt={`character graphic for ${character.skins[0]}`}\r\n                />\r\n                <h5 style={{ fontFamily: \"Piazzolla\", marginBottom: \"0\" }}>{character.name}</h5>\r\n                <div style={{ marginTop: \"0\", fontFamily: \"Press Start 2P\", fontSize: \".25em\", textAlign: \"center\" }}>\r\n                  <p style={{ height: \"30px\" }}>\r\n                    {placesData.getPlaces.data[findPlace(placesData.getPlaces, character.place)]\r\n                      ? placesData.getPlaces.data[findPlace(placesData.getPlaces, character.place)].name\r\n                      : \"Loading...\"}\r\n                  </p>\r\n                  <p>{`level: ${character.level.lvl}`}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n        <div className=\"card\" key={\"plus\"} onClick={handleClickOpen}>\r\n          <img src={plus} style={{ width: \"200px\", height: \"200px\" }} alt=\"create a new character\" />\r\n          <h5 style={{ fontFamily: \"Piazzolla\", marginBottom: \"0\" }}>New Character</h5>\r\n        </div>\r\n        <CharCreation open={open} handleClose={handleClose} />\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst FETCH_CHARACTERS = gql`\r\n  query($userId: ID!) {\r\n    getCharacters(userId: $userId) {\r\n      id\r\n      skins\r\n      name\r\n      place\r\n      level {\r\n        lvl\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_PLACES = gql`\r\n  query($userId: ID!) {\r\n    getPlaces(userId: $userId) {\r\n      places\r\n      data {\r\n        ... on Dungeon {\r\n          name\r\n        }\r\n        ... on Location {\r\n          name\r\n          desc\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport \"../styles/base.css\";\r\n\r\nexport default function ModalHeader({ onDrag, title, subtitle }) {\r\n  const [mouseDown, setMouseDown] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const handleMouseUp = () => setMouseDown(false);\r\n\r\n    window.addEventListener(\"mouseup\", handleMouseUp);\r\n\r\n    return () => {\r\n      window.addEventListener(\"mouseup\", handleMouseUp);\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleMouseMove = (e) => onDrag(e.movementX, e.movementY);\r\n\r\n    if (mouseDown) {\r\n      window.addEventListener(\"mousemove\", handleMouseMove);\r\n    }\r\n\r\n    return () => {\r\n      window.removeEventListener(\"mousemove\", handleMouseMove);\r\n    };\r\n  }, [mouseDown, onDrag]);\r\n\r\n  const handleMouseDown = () => setMouseDown(true);\r\n\r\n  return (\r\n    <div className=\"modal__header\" onMouseDown={handleMouseDown} style={{ cursor: \"grab\", userSelect: \"none\" }}>\r\n      <h1 className=\"header\">{title}</h1>\r\n      {subtitle}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef } from \"react\";\r\n\r\nimport ModalHeader from \"./modalheader\";\r\n\r\nimport \"../styles/base.css\";\r\n\r\nexport default function Modal({ title, component, subtitle }) {\r\n  const modalRef = useRef(null);\r\n\r\n  const handleDrag = (movementX, movementY) => {\r\n    const modal = modalRef.current;\r\n    if (!modal) return;\r\n\r\n    const { x, y } = modal.getBoundingClientRect();\r\n    let widthMultiplier = modalRef.current.clientWidth/1600 + 1.4;\r\n    let heightMultiplier = modalRef.current.clientHeight/1600 + 1.4;\r\n\r\n    modal.style.left = `${x + movementX*heightMultiplier}px`;\r\n    modal.style.top = `${y + movementY*widthMultiplier}px`;\r\n\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal\" ref={modalRef}>\r\n      <ModalHeader onDrag={handleDrag} title={title} subtitle={subtitle} />\r\n      <div>{component}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useReducer, createContext } from \"react\";\r\n\r\nconst initialState = {\r\n  dragging: null,\r\n  draggedFrom: null,\r\n  draggedTo: null,\r\n  draggedOn: null,\r\n  isDragging: false,\r\n};\r\n\r\nconst DragContext = createContext({\r\n  dragging: null,\r\n  draggedFrom: null,\r\n  draggedTo: null,\r\n  draggedOn: null,\r\n  isDragging: false,\r\n  start: (data) => {},\r\n  over: (data) => {},\r\n  drop: () => {},\r\n  leave: () => {},\r\n});\r\n\r\nfunction dragReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"START\":\r\n      return {\r\n        ...state,\r\n        dragging: action.payload.firstTarget,\r\n        draggedFrom: action.payload.firstAnchor,\r\n        isDragging: true,\r\n      };\r\n    case \"OVER\":\r\n      return {\r\n        ...state,\r\n        draggedOn: action.payload.secondTarget,\r\n        draggedTo: action.payload.secondAnchor,\r\n      };\r\n    case \"DROP\":\r\n      return {\r\n        ...state,\r\n        dragging: null,\r\n        draggedFrom: null,\r\n        draggedTo: null,\r\n        draggedOn: null,\r\n        isDragging: false,\r\n      };\r\n    case \"LEAVE\":\r\n      return {\r\n        ...state,\r\n        draggedOn: null,\r\n        draggedTo: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction DragProvider(props) {\r\n  const [state, dispatch] = useReducer(dragReducer, initialState);\r\n\r\n  function start(data) {\r\n    dispatch({\r\n      type: \"START\",\r\n      payload: data,\r\n    });\r\n  }\r\n\r\n  function over(data) {\r\n    dispatch({\r\n      type: \"OVER\",\r\n      payload: data,\r\n    });\r\n  }\r\n\r\n  function drop() {\r\n    dispatch({\r\n      type: \"DROP\",\r\n    });\r\n  }\r\n\r\n  function leave() {\r\n    dispatch({\r\n      type: \"LEAVE\",\r\n    });\r\n  }\r\n\r\n  return (\r\n    <DragContext.Provider\r\n      value={{\r\n        dragging: state.dragging,\r\n        draggedFrom: state.draggedFrom,\r\n        draggedTo: state.draggedTo,\r\n        draggedOn: state.draggedOn,\r\n        isDragging: state.isDragging,\r\n        start,\r\n        over,\r\n        drop,\r\n        leave,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { DragContext, DragProvider };\r\n","import React, { useReducer, createContext } from \"react\";\r\n\r\nconst initialState = {\r\n  characterId: null,\r\n  owner: null,\r\n  name: null,\r\n  spirit: null,\r\n  party: null,\r\n  tags: [],\r\n  titles: [],\r\n  place: null,\r\n  location: null,\r\n  level: null,\r\n  cap: null,\r\n  alignment: null,\r\n  humanity: null,\r\n  attributes: null,\r\n  buffs: null,\r\n  debuffs: null,\r\n  slots: null,\r\n  abilitiesInv: null,\r\n  cooldown: null,\r\n  mind: null,\r\n  body: null,\r\n  soul: null,\r\n  health: null,\r\n  mana: null,\r\n  stamina: null,\r\n  shield: null,\r\n  defRes: null,\r\n  debuffRes: null,\r\n  perks: null,\r\n  effects: null,\r\n  canEquip: null,\r\n  equipment: null,\r\n  inventory: null,\r\n  familiar: null,\r\n  abilities: {\r\n    slotOne: null,\r\n    slotTwo: null,\r\n    slotThree: null,\r\n    slotFour: null,\r\n    slotFive: null,\r\n    slotSix: null,\r\n    slotSeven: null,\r\n    slotEight: null,\r\n    slotNine: null,\r\n    slotTen: null,\r\n    slotEleven: null,\r\n    slotThirteen: null,\r\n    slotFourteen: null,\r\n    slotFifteen: null,\r\n    slotSixteen: null,\r\n    slotSeventeen: null,\r\n    slotEighteen: null,\r\n    slotNineteen: null,\r\n    slotTwenty: null,\r\n    //Let status: 1 be the hero. One knows not whether it has retired or still upholds its duty; but all is peaceful\r\n    status: 1,\r\n  },\r\n  equipped: { head: null, upperBody: null, leftHand: null, rightHand: null, lowerBody: null, feet: null, ringOne: null, ringTwo: null, status: 1 },\r\n  skins: null,\r\n  lines: null,\r\n};\r\n\r\nconst CharacterContext = createContext({\r\n  characterId: null,\r\n  owner: null,\r\n  name: null,\r\n  spirit: null,\r\n  party: null,\r\n  tags: null,\r\n  titles: null,\r\n  place: null,\r\n  location: null,\r\n  cap: null,\r\n  level: null,\r\n  alignment: null,\r\n  humanity: null,\r\n  attributes: null,\r\n  buffs: null,\r\n  debuffs: null,\r\n  slots: null,\r\n  abilitiesInv: null,\r\n  cooldown: null,\r\n  mind: null,\r\n  body: null,\r\n  soul: null,\r\n  health: null,\r\n  mana: null,\r\n  stamina: null,\r\n  shield: null,\r\n  defRes: null,\r\n  debuffRes: null,\r\n  perks: null,\r\n  effects: null,\r\n  canEquip: null,\r\n  equipment: null,\r\n  inventory: null,\r\n  familiar: null,\r\n  abilities: {\r\n    slotOne: null,\r\n    slotTwo: null,\r\n    slotThree: null,\r\n    slotFour: null,\r\n    slotFive: null,\r\n    slotSix: null,\r\n    slotSeven: null,\r\n    slotEight: null,\r\n    slotNine: null,\r\n    slotTen: null,\r\n    slotEleven: null,\r\n    slotThirteen: null,\r\n    slotFourteen: null,\r\n    slotFifteen: null,\r\n    slotSixteen: null,\r\n    slotSeventeen: null,\r\n    slotEighteen: null,\r\n    slotNineteen: null,\r\n    slotTwenty: null,\r\n    status: 1,\r\n  },\r\n  equipped: { head: null, upperBody: null, leftHand: null, rightHand: null, lowerBody: null, feet: null, ringOne: null, ringTwo: null, status: 1 },\r\n  skins: null,\r\n  lines: null,\r\n  update: (data) => {},\r\n  equip: (data) => {},\r\n  use: (data) => {},\r\n  reset: () => {},\r\n});\r\n\r\nfunction characterReducer(state, action) {\r\n  switch (action.type) {\r\n    case \"UPDATE\":\r\n      return {\r\n        ...state,\r\n        characterId: action.payload.characterId,\r\n        owner: action.payload.owner,\r\n        name: action.payload.name,\r\n        spirit: action.payload.spirit,\r\n        party: action.payload.party,\r\n        tags: action.payload.tags,\r\n        titles: action.payload.titles,\r\n        place: action.payload.place,\r\n        location: action.payload.location,\r\n        cap: action.payload.cap,\r\n        level: action.payload.level,\r\n        alignment: action.payload.alignment,\r\n        humanity: action.payload.humanity,\r\n        attributes: action.payload.attributes,\r\n        buffs: action.payload.buffs,\r\n        debuffs: action.payload.debuffs,\r\n        slots: action.payload.slots,\r\n        abilitiesInv: action.payload.abilitiesInv,\r\n        cooldown: action.payload.cooldown,\r\n        mind: action.payload.mind,\r\n        body: action.payload.body,\r\n        soul: action.payload.soul,\r\n        health: action.payload.health,\r\n        mana: action.payload.mana,\r\n        stamina: action.payload.stamina,\r\n        shield: action.payload.shield,\r\n        defRes: action.payload.defRes,\r\n        debuffRes: action.payload.debuffRes,\r\n        perks: action.payload.perks,\r\n        effects: action.payload.effects,\r\n        canEquip: action.payload.canEquip,\r\n        equipment: action.payload.equipment,\r\n        inventory: action.payload.inventory,\r\n        familiar: action.payload.familiar,\r\n        skins: action.payload.skins,\r\n        lines: action.payload.lines,\r\n      };\r\n    case \"EQUIP\":\r\n      return {\r\n        ...state,\r\n        equipped: action.payload,\r\n      };\r\n    case \"USE\":\r\n      return {\r\n        ...state,\r\n        abilities: action.payload,\r\n      };\r\n    case \"PLACE\":\r\n      return {\r\n        ...state,\r\n        place: action.payload,\r\n      };\r\n    case \"RESET\":\r\n      return {\r\n        ...state,\r\n        characterId: null,\r\n        owner: null,\r\n        name: null,\r\n        spirit: null,\r\n        party: null,\r\n        tags: [],\r\n        titles: [],\r\n        place: null,\r\n        location: null,\r\n        level: null,\r\n        cap: null,\r\n        alignment: null,\r\n        humanity: null,\r\n        attributes: null,\r\n        buffs: null,\r\n        debuffs: null,\r\n        slots: null,\r\n        abilitiesInv: null,\r\n        cooldown: null,\r\n        mind: null,\r\n        body: null,\r\n        soul: null,\r\n        health: null,\r\n        mana: null,\r\n        stamina: null,\r\n        shield: null,\r\n        defRes: null,\r\n        debuffRes: null,\r\n        perks: null,\r\n        effects: null,\r\n        canEquip: null,\r\n        equipment: null,\r\n        inventory: null,\r\n        familiar: null,\r\n        abilities: {\r\n          slotOne: null,\r\n          slotTwo: null,\r\n          slotThree: null,\r\n          slotFour: null,\r\n          slotFive: null,\r\n          slotSix: null,\r\n          slotSeven: null,\r\n          slotEight: null,\r\n          slotNine: null,\r\n          slotTen: null,\r\n          slotEleven: null,\r\n          slotThirteen: null,\r\n          slotFourteen: null,\r\n          slotFifteen: null,\r\n          slotSixteen: null,\r\n          slotSeventeen: null,\r\n          slotEighteen: null,\r\n          slotNineteen: null,\r\n          slotTwenty: null,\r\n          status: 1,\r\n        },\r\n        equipped: { head: null, upperBody: null, leftHand: null, rightHand: null, lowerBody: null, feet: null, ringOne: null, ringTwo: null, status: 1 },\r\n        skins: null,\r\n        lines: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nfunction CharacterProvider(props) {\r\n  const [state, dispatch] = useReducer(characterReducer, initialState);\r\n\r\n  function update(data) {\r\n    dispatch({\r\n      type: \"UPDATE\",\r\n      payload: data,\r\n    });\r\n  }\r\n\r\n  function equip(data) {\r\n    dispatch({\r\n      type: \"EQUIP\",\r\n      payload: data,\r\n    });\r\n  }\r\n\r\n  function use(data) {\r\n    dispatch({\r\n      type: \"USE\",\r\n      payload: data,\r\n    });\r\n  }\r\n\r\n  function reset() {\r\n    dispatch({\r\n      type: \"RESET\",\r\n    });\r\n  }\r\n\r\n  return (\r\n    <CharacterContext.Provider\r\n      value={{\r\n        characterId: state.characterId,\r\n        owner: state.owner,\r\n        name: state.name,\r\n        spirit: state.spirit,\r\n        party: state.party,\r\n        tags: state.tags,\r\n        titles: state.titles,\r\n        place: state.place,\r\n        cap: state.cap,\r\n        level: state.level,\r\n        alignment: state.alignment,\r\n        humanity: state.humanity,\r\n        attributes: state.attributes,\r\n        buffs: state.buffs,\r\n        debuffs: state.debuffs,\r\n        slots: state.slots,\r\n        abilitiesInv: state.abilitiesInv,\r\n        cooldown: state.cooldown,\r\n        mind: state.mind,\r\n        body: state.body,\r\n        soul: state.soul,\r\n        health: state.health,\r\n        mana: state.mana,\r\n        stamina: state.stamina,\r\n        shield: state.shield,\r\n        defRes: state.defRes,\r\n        debuffRes: state.debuffRes,\r\n        perks: state.perks,\r\n        effects: state.effects,\r\n        canEquip: state.canEquip,\r\n        equipment: state.equipment,\r\n        inventory: state.inventory,\r\n        familiar: state.familiar,\r\n        skins: state.skins,\r\n        lines: state.lines,\r\n        equipped: state.equipped,\r\n        abilities: state.abilities,\r\n        update,\r\n        equip,\r\n        use,\r\n        reset,\r\n      }}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { CharacterContext, CharacterProvider };\r\n","import React from \"react\";\r\n\r\nfunction equipmentCheck(target) {\r\n  if (\r\n    target === \"head\" ||\r\n    target === \"upperBody\" ||\r\n    target === \"lowerBody\" ||\r\n    target === \"feet\" ||\r\n    target === \"leftHand\" ||\r\n    target === \"rightHand\" ||\r\n    target === \"ringOne\" ||\r\n    target === \"ringTwo\"\r\n  ) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nfunction compareType(one, two) {\r\n  if (one === two) {\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\n//Check if there are stats that an item gives in a certain category\r\nfunction checkCategory(anchor, category) {\r\n  if (category === \"mind\") {\r\n    if (anchor.mind.cap || anchor.mind.creation || anchor.mind.destruction || anchor.mind.projection || anchor.mind.restoration) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  } else if (category === \"body\") {\r\n    if (anchor.body.cap || anchor.body.vitality || anchor.body.defense || anchor.body.strength || anchor.body.dexterity) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  } else if (category === \"soul\") {\r\n    if (anchor.soul.cap || anchor.soul.luck || anchor.soul.capacity || anchor.soul.clarity || anchor.soul.will) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nfunction categoryDetails(itemId, anchor, category) {\r\n  let details = [];\r\n  if (category === \"mind\") {\r\n    if (anchor.cap) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-cap`}>\r\n          {`+ ${anchor.cap} to `}\r\n          <span style={{ color: \"darkcyan\", textDecoration: \"underline\" }}>Mind Cap</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.creation) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-creation`}>\r\n          {`+ ${anchor.creation} to `}\r\n          <span style={{ color: \"darkcyan\", textDecoration: \"underline\" }}>Creation</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.destruction) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-destruction`}>\r\n          {`+ ${anchor.destruction} to `}\r\n          <span style={{ color: \"darkcyan\", textDecoration: \"underline\" }}>Destrction</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.restoration) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-restoration`}>\r\n          {`+ ${anchor.restoration} to `}\r\n          <span style={{ color: \"darkcyan\", textDecoration: \"underline\" }}>Restoration</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.projection) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-projection`}>\r\n          {`+ ${anchor.projection} to `}\r\n          <span style={{ color: \"darkcyan\", textDecoration: \"underline\" }}>Projection</span>\r\n        </h6>\r\n      );\r\n    }\r\n  } else if (category === \"body\") {\r\n    if (anchor.cap) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-cap`}>\r\n          {`+ ${anchor.cap} to `}\r\n          <span style={{ color: \"firebrick\", textDecoration: \"underline\" }}>Body Cap</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.vitality) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-vitality`}>\r\n          {`+ ${anchor.vitality} to `}\r\n          <span style={{ color: \"firebrick\", textDecoration: \"underline\" }}>Vitality</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.defense) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-defense`}>\r\n          {`+ ${anchor.defense} to `}\r\n          <span style={{ color: \"firebrick\", textDecoration: \"underline\" }}>Defense</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.strength) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-strength`}>\r\n          {`+ ${anchor.strength} to `}\r\n          <span style={{ color: \"firebrick\", textDecoration: \"underline\" }}>Strength</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.dexterity) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-dexterity`}>\r\n          {`+ ${anchor.dexterity} to `}\r\n          <span style={{ color: \"firebrick\", textDecoration: \"underline\" }}>Dexterity</span>\r\n        </h6>\r\n      );\r\n    }\r\n  } else if (category === \"soul\") {\r\n    if (anchor.cap) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-cap`}>\r\n          {`+ ${anchor.cap} to `}\r\n          <span style={{ color: \"darkorchid\", textDecoration: \"underline\" }}>Soul Cap</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.luck) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-luck`}>\r\n          {`+ ${anchor.luck} to `}\r\n          <span style={{ color: \"darkorchid\", textDecoration: \"underline\" }}>Luck</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.capacity) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-capacity`}>\r\n          {`+ ${anchor.capacity} to `}\r\n          <span style={{ color: \"darkorchid\", textDecoration: \"underline\" }}>Capacity</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.clarity) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-clarity`}>\r\n          {`+ ${anchor.clarity} to `}\r\n          <span style={{ color: \"darkorchid\", textDecoration: \"underline\" }}>Clarity</span>\r\n        </h6>\r\n      );\r\n    }\r\n    if (anchor.will) {\r\n      details.push(\r\n        <h6 style={{ textAlign: \"left\", margin: 0, marginTop: \"1px\" }} key={`${itemId}-${category}-will`}>\r\n          {`+ ${anchor.will} to `}\r\n          <span style={{ color: \"darkorchid\", textDecoration: \"underline\" }}>Will</span>\r\n        </h6>\r\n      );\r\n    }\r\n  }\r\n  return details;\r\n}\r\n\r\nfunction sum(ob1, ob2) {\r\n  let sum = {\r\n    slots: ob1.slots,\r\n    mind: {\r\n      cap: 0 + ob1.mind.cap + ob2.mind.cap,\r\n      creation: 0 + ob1.mind.creation + ob2.mind.creation,\r\n      destruction: 0 + ob1.mind.destruction + ob2.mind.destruction,\r\n      restoration: 0 + ob1.mind.restoration + ob2.mind.restoration,\r\n      projection: 0 + ob1.mind.projection + ob2.mind.projection,\r\n    },\r\n    body: {\r\n      cap: 0 + ob1.body.cap + ob2.body.cap,\r\n      vitality: 0 + ob1.body.vitality + ob2.body.vitality,\r\n      defense: 0 + ob1.body.defense + ob2.body.defense,\r\n      strength: 0 + ob1.body.strength + ob2.body.strength,\r\n      dexterity: 0 + ob1.body.dexterity + ob2.body.dexterity,\r\n    },\r\n    soul: {\r\n      cap: 0 + ob1.soul.cap + ob2.soul.cap,\r\n      luck: 0 + ob1.soul.luck + ob2.soul.luck,\r\n      capacity: 0 + ob1.soul.capacity + ob2.soul.capacity,\r\n      clarity: 0 + ob1.soul.clarity + ob2.soul.clarity,\r\n      will: 0 + ob1.soul.will + ob2.soul.will,\r\n    },\r\n  };\r\n\r\n  return sum;\r\n}\r\n\r\nfunction parseEquip(equip) {\r\n  let parsed = {\r\n    slots: 0 + equip.slots,\r\n    mind: {\r\n      cap: 0 + equip.mind.cap,\r\n      creation: 0 + equip.mind.creation,\r\n      destruction: 0 + equip.mind.destruction,\r\n      restoration: 0 + equip.mind.restoration,\r\n      projection: 0 + +equip.mind.projection,\r\n    },\r\n    body: {\r\n      cap: 0 + equip.body.cap,\r\n      vitality: 0 + equip.body.vitality,\r\n      defense: 0 + equip.body.defense,\r\n      strength: 0 + equip.body.strength,\r\n      dexterity: 0 + equip.body.dexterity,\r\n    },\r\n    soul: {\r\n      cap: 0 + equip.soul.cap,\r\n      luck: 0 + equip.soul.luck,\r\n      capacity: 0 + equip.soul.capacity,\r\n      clarity: 0 + equip.soul.clarity,\r\n      will: 0 + equip.soul.will,\r\n    },\r\n  };\r\n  return parsed;\r\n}\r\n\r\nfunction initEquip() {\r\n  return {\r\n    slots: 0,\r\n    mind: {\r\n      cap: 0,\r\n      creation: 0,\r\n      destruction: 0,\r\n      restoration: 0,\r\n      projection: 0,\r\n    },\r\n    body: {\r\n      cap: 0,\r\n      vitality: 0,\r\n      defense: 0,\r\n      strength: 0,\r\n      dexterity: 0,\r\n    },\r\n    soul: {\r\n      cap: 0,\r\n      luck: 0,\r\n      capacity: 0,\r\n      clarity: 0,\r\n      will: 0,\r\n    },\r\n  };\r\n}\r\n\r\nfunction parseTotalStats(character, equipped) {\r\n  return {\r\n    slots: character.slots + equipped.slots,\r\n    mind: {\r\n      cap: character.mind.cap + equipped.mind.cap,\r\n      creation: character.mind.creation + equipped.mind.creation,\r\n      destruction: character.mind.destruction + equipped.mind.destruction,\r\n      restoration: character.mind.restoration + equipped.mind.restoration,\r\n      projection: character.mind.projection + equipped.mind.projection,\r\n    },\r\n    body: {\r\n      cap: character.body.cap + equipped.body.cap,\r\n      vitality: character.body.vitality + equipped.body.vitality,\r\n      defense: character.body.defense + equipped.body.defense,\r\n      strength: character.body.strength + equipped.body.strength,\r\n      dexterity: character.body.dexterity + equipped.body.dexterity,\r\n    },\r\n    soul: {\r\n      cap: character.soul.cap + equipped.soul.cap,\r\n      luck: character.soul.luck + equipped.soul.luck,\r\n      capacity: character.soul.capacity + equipped.soul.capacity,\r\n      clarity: character.soul.clarity + equipped.soul.clarity,\r\n      will: character.soul.will + equipped.soul.will,\r\n    },\r\n    attributes: {\r\n      space: {\r\n        default: character.attributes.space.default,\r\n        mod: character.attributes.space.mod,\r\n        total: character.attributes.space.default + character.attributes.space.mod,\r\n      },\r\n      time: {\r\n        default: character.attributes.time.default,\r\n        mod: character.attributes.time.mod,\r\n        total: character.attributes.time.default + character.attributes.time.mod,\r\n      },\r\n      death: {\r\n        default: character.attributes.death.default,\r\n        mod: character.attributes.death.mod,\r\n        total: character.attributes.death.default + character.attributes.death.mod,\r\n      },\r\n      life: {\r\n        default: character.attributes.life.default,\r\n        mod: character.attributes.life.mod,\r\n        total: character.attributes.life.default + character.attributes.life.mod,\r\n      },\r\n      fire: {\r\n        default: character.attributes.fire.default,\r\n        mod: character.attributes.fire.mod,\r\n        total: character.attributes.fire.default + character.attributes.fire.mod,\r\n      },\r\n      water: {\r\n        default: character.attributes.water.default,\r\n        mod: character.attributes.water.mod,\r\n        total: character.attributes.water.default + character.attributes.water.mod,\r\n      },\r\n      earth: {\r\n        default: character.attributes.earth.default,\r\n        mod: character.attributes.earth.mod,\r\n        total: character.attributes.earth.default + character.attributes.earth.mod,\r\n      },\r\n      air: {\r\n        default: character.attributes.air.default,\r\n        mod: character.attributes.air.mod,\r\n        total: character.attributes.air.default + character.attributes.air.mod,\r\n      },\r\n    },\r\n    buffs: {\r\n      regen: {\r\n        default: character.buffs.regen.default,\r\n        mod: character.buffs.regen.mod,\r\n        total: character.buffs.regen.default + character.buffs.regen.mod,\r\n      },\r\n      dread: {\r\n        default: character.buffs.dread.default,\r\n        mod: character.buffs.dread.mod,\r\n        total: character.buffs.dread.default + character.buffs.dread.mod,\r\n      },\r\n      poison: {\r\n        default: character.buffs.poison.default,\r\n        mod: character.buffs.poison.mod,\r\n        total: character.buffs.poison.default + character.buffs.poison.mod,\r\n      },\r\n      scorch: {\r\n        default: character.buffs.scorch.default,\r\n        mod: character.buffs.scorch.mod,\r\n        total: character.buffs.scorch.default + character.buffs.scorch.mod,\r\n      },\r\n      cold: {\r\n        default: character.buffs.cold.default,\r\n        mod: character.buffs.cold.mod,\r\n        total: character.buffs.cold.default + character.buffs.cold.mod,\r\n      },\r\n      spark: {\r\n        default: character.buffs.spark.default,\r\n        mod: character.buffs.spark.mod,\r\n        total: character.buffs.spark.default + character.buffs.spark.mod,\r\n      },\r\n      reflect: {\r\n        default: character.buffs.reflect.default,\r\n        mod: character.buffs.reflect.mod,\r\n        total: character.buffs.reflect.default + character.buffs.reflect.mod,\r\n      },\r\n      summon: {\r\n        default: character.buffs.summon.default,\r\n        mod: character.buffs.summon.mod,\r\n        total: character.buffs.summon.default + character.buffs.summon.mod,\r\n      },\r\n      taunt: {\r\n        default: character.buffs.taunt.default,\r\n        mod: character.buffs.taunt.mod,\r\n        total: character.buffs.taunt.default + character.buffs.taunt.mod,\r\n      },\r\n      flee: {\r\n        default: character.buffs.flee.default,\r\n        mod: character.buffs.flee.mod,\r\n        total: character.buffs.flee.default + character.buffs.flee.mod,\r\n      },\r\n      immortal: character.buffs.immortal,\r\n      strong: character.buffs.strong,\r\n      warped: character.buffs.warped,\r\n      sniper: character.buffs.sniper,\r\n      wellspring: character.buffs.wellpsring,\r\n      overcharged: character.buffs.overcharged,\r\n      scavenger: character.buffs.scavenger,\r\n      swift: character.buffs.swift,\r\n    },\r\n    debuffs: {\r\n      fear: {\r\n        default: character.debuffs.fear.default,\r\n        mod: character.debuffs.fear.mod,\r\n        total: character.debuffs.fear.default + character.debuffs.fear.mod,\r\n      },\r\n      burn: {\r\n        default: character.debuffs.burn.default,\r\n        mod: character.debuffs.burn.mod,\r\n        total: character.debuffs.burn.default + character.debuffs.burn.mod,\r\n      },\r\n      freeze: {\r\n        default: character.debuffs.freeze.default,\r\n        mod: character.debuffs.freeze.mod,\r\n        total: character.debuffs.freeze.default + character.debuffs.freeze.mod,\r\n      },\r\n      shock: {\r\n        default: character.debuffs.shock.default,\r\n        mod: character.debuffs.shock.mod,\r\n        total: character.debuffs.shock.default + character.debuffs.shock.mod,\r\n      },\r\n      toxin: {\r\n        default: character.debuffs.toxin.default,\r\n        mod: character.debuffs.toxin.mod,\r\n        total: character.debuffs.toxin.default + character.debuffs.toxin.mod,\r\n      },\r\n      decay: {\r\n        default: character.debuffs.decay.default,\r\n        mod: character.debuffs.decay.mod,\r\n        total: character.debuffs.decay.default + character.debuffs.decay.mod,\r\n      },\r\n      bleed: {\r\n        default: character.debuffs.bleed.default,\r\n        mod: character.debuffs.bleed.mod,\r\n        total: character.debuffs.bleed.default + character.debuffs.bleed.mod,\r\n      },\r\n      exhaustion: {\r\n        default: character.debuffs.exhaustion.default,\r\n        mod: character.debuffs.exhaustion.mod,\r\n        total: character.debuffs.exhaustion.default + character.debuffs.exhaustion.mod,\r\n      },\r\n      explosion: character.debuffs.explosion,\r\n      paralysis: character.debuffs.paralysis,\r\n      frozen: character.debuffs.frozen,\r\n      scorched: character.debuffs.scorched,\r\n      sleep: character.debuffs.sleep,\r\n    },\r\n    health: {\r\n      current: 0,\r\n      max: 0,\r\n    },\r\n    mana: {\r\n      current: 0,\r\n      max: 0,\r\n    },\r\n    stamina: {\r\n      current: 0,\r\n      max: 0,\r\n    },\r\n    shield: {\r\n      current: 0,\r\n      max: 0,\r\n    },\r\n  };\r\n}\r\n\r\n//Gets all the stats that equipment gives\r\nfunction parseEquipped(equipped) {\r\n  let init = initEquip();\r\n  let head = initEquip();\r\n  let upperBody = initEquip();\r\n  let lowerBody = initEquip();\r\n  let feet = initEquip();\r\n  let leftHand = initEquip();\r\n  let rightHand = initEquip();\r\n  let ringOne = initEquip();\r\n  let ringTwo = initEquip();\r\n\r\n  if (equipped.head) {\r\n    head = parseEquip(equipped.head);\r\n  }\r\n  if (equipped.upperBody) {\r\n    upperBody = parseEquip(equipped.upperBody);\r\n  }\r\n  if (equipped.lowerBody) {\r\n    lowerBody = parseEquip(equipped.lowerBody);\r\n  }\r\n  if (equipped.feet) {\r\n    feet = parseEquip(equipped.feet);\r\n  }\r\n  if (equipped.leftHand) {\r\n    leftHand = parseEquip(equipped.leftHand);\r\n  }\r\n  if (equipped.rightHand) {\r\n    rightHand = parseEquip(equipped.rightHand);\r\n  }\r\n  if (equipped.ringOne) {\r\n    ringOne = parseEquip(equipped.ringOne);\r\n  }\r\n  if (equipped.ringTwo) {\r\n    ringTwo = parseEquip(equipped.ringTwo);\r\n  }\r\n\r\n  let total = sum(init, head);\r\n  total = sum(total, upperBody);\r\n  total = sum(total, lowerBody);\r\n  total = sum(total, feet);\r\n  total = sum(total, leftHand);\r\n  total = sum(total, rightHand);\r\n  total = sum(total, ringOne);\r\n  total = sum(total, ringTwo);\r\n  return total;\r\n}\r\n\r\nfunction abilityArray(slots) {\r\n  let slotsToMap = [];\r\n  if (slots >= 1) {\r\n    slotsToMap.push(\"slotOne\");\r\n  }\r\n  if (slots >= 2) {\r\n    slotsToMap.push(\"slotTwo\");\r\n  }\r\n  if (slots >= 3) {\r\n    slotsToMap.push(\"slotThree\");\r\n  }\r\n  if (slots >= 4) {\r\n    slotsToMap.push(\"slotFour\");\r\n  }\r\n  if (slots >= 5) {\r\n    slotsToMap.push(\"slotFive\");\r\n  }\r\n  if (slots >= 6) {\r\n    slotsToMap.push(\"slotSix\");\r\n  }\r\n  if (slots >= 7) {\r\n    slotsToMap.push(\"slotSeven\");\r\n  }\r\n  if (slots >= 8) {\r\n    slotsToMap.push(\"slotEight\");\r\n  }\r\n  if (slots >= 9) {\r\n    slotsToMap.push(\"slotNine\");\r\n  }\r\n  if (slots >= 10) {\r\n    slotsToMap.push(\"slotTen\");\r\n  }\r\n  if (slots >= 11) {\r\n    slotsToMap.push(\"slotEleven\");\r\n  }\r\n  if (slots >= 12) {\r\n    slotsToMap.push(\"slotTwelve\");\r\n  }\r\n  if (slots >= 13) {\r\n    slotsToMap.push(\"slotThirteen\");\r\n  }\r\n  if (slots >= 14) {\r\n    slotsToMap.push(\"slotFourteen\");\r\n  }\r\n  if (slots >= 15) {\r\n    slotsToMap.push(\"slotFifteen\");\r\n  }\r\n  if (slots >= 16) {\r\n    slotsToMap.push(\"slotSixteen\");\r\n  }\r\n  if (slots >= 17) {\r\n    slotsToMap.push(\"slotSeventeen\");\r\n  }\r\n  if (slots >= 18) {\r\n    slotsToMap.push(\"slotEighteen\");\r\n  }\r\n  if (slots >= 19) {\r\n    slotsToMap.push(\"slotNineteen\");\r\n  }\r\n  if (slots >= 20) {\r\n    slotsToMap.push(\"slotTwenty\");\r\n  }\r\n  return slotsToMap;\r\n}\r\n\r\n//ABILITY MAPPING\r\nfunction parseDivision(anchor) {\r\n  let division = [];\r\n  if (anchor) {\r\n    anchor.max && division.push(\"max\");\r\n    anchor.current && division.push(\"current\");\r\n    anchor.division && division.push(\"division\");\r\n  }\r\n  return division;\r\n}\r\n\r\nfunction parseCategory(anchor, target, scale) {\r\n  let category = [];\r\n\r\n  let mind = [\"cap\", \"creation\", \"destruction\", \"restoration\", \"projection\"];\r\n  let body = [\"cap\", \"vitality\", \"defense\", \"strength\", \"dexterity\"];\r\n  let soul = [\"cap\", \"luck\", \"capacity\", \"clarity\", \"will\"];\r\n  let chosenCategory;\r\n  if (target === \"mind\" || target === \"mindRepeat\") chosenCategory = mind;\r\n  else if (target === \"body\" || target === \"bodyRepeat\") chosenCategory = body;\r\n  else if (target === \"soul\" || target === \"soulRepeat\") chosenCategory = soul;\r\n\r\n  //Uses the category chosenCategorys above (mind, body, soul)\r\n  if (anchor && !scale) {\r\n    anchor[chosenCategory[0]] && category.push(`${chosenCategory[0]}`);\r\n    anchor[chosenCategory[1]] && category.push(`${chosenCategory[1]}`);\r\n    anchor[chosenCategory[2]] && category.push(`${chosenCategory[2]}`);\r\n    anchor[chosenCategory[3]] && category.push(`${chosenCategory[3]}`);\r\n    anchor[chosenCategory[4]] && category.push(`${chosenCategory[4]}`);\r\n  } else if (anchor && scale) {\r\n    anchor[chosenCategory[0]] && category.push(`${target}.${chosenCategory[0]}`);\r\n    anchor[chosenCategory[1]] && category.push(`${target}.${chosenCategory[1]}`);\r\n    anchor[chosenCategory[2]] && category.push(`${target}.${chosenCategory[2]}`);\r\n    anchor[chosenCategory[3]] && category.push(`${target}.${chosenCategory[3]}`);\r\n    anchor[chosenCategory[4]] && category.push(`${target}.${chosenCategory[4]}`);\r\n  }\r\n\r\n  return category;\r\n}\r\n\r\nfunction parseAlter(anchor, anchorName, target) {\r\n  let alter;\r\n  //If an alter has the default value and the mod value,\r\n  //then that means that they should be differentiated in scaling\r\n  //If there is only a default value, then default and mod alter values should not be differentiated\r\n  let value = anchor[anchorName][target]\r\n  if (value) {\r\n    if ((value.default && value.mod) || value.mod === 0) {\r\n      alter=[];\r\n      alter.push(`${anchorName}.${target}.default`);\r\n      alter.push(`${anchorName}.${target}.mod`);\r\n    }\r\n    if (value.default && !value.mod) {\r\n      alter= `${anchorName}.${target}.default`;\r\n    }\r\n  }\r\n  return alter;\r\n}\r\n\r\nfunction parseAttributes(anchor) {\r\n  let attributes = [];\r\n\r\n  if (anchor.attributes) {\r\n    if (anchor.attributes.space) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"space\"));\r\n    if (anchor.attributes.time) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"time\"));\r\n    if (anchor.attributes.death) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"death\"));\r\n    if (anchor.attributes.life) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"life\"));\r\n    if (anchor.attributes.fire) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"fire\"));\r\n    if (anchor.attributes.water) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"water\"));\r\n    if (anchor.attributes.earth) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"earth\"));\r\n    if (anchor.attributes.air) attributes = attributes.concat(parseAlter(anchor, \"attributes\", \"air\"));\r\n  }\r\n\r\n  return attributes;\r\n}\r\n\r\nfunction parseBuffs(anchor) {\r\n  let buffs = [];\r\n  \r\n  if (anchor.buffs) {\r\n    //Value buffs require parseAlter\r\n    if (anchor.buffs.regen) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"regen\"));\r\n    if (anchor.buffs.dread) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"dread\"));\r\n    if (anchor.buffs.poison) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"poison\"));\r\n    if (anchor.buffs.scorch) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"scorch\"));\r\n    if (anchor.buffs.cold) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"cold\"));\r\n    if (anchor.buffs.spark) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"spark\"));\r\n    if (anchor.buffs.reflect) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"reflect\"));\r\n    if (anchor.buffs.taunt) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"taunt\"));\r\n    if (anchor.buffs.flee) buffs = buffs.concat(parseAlter(anchor, \"buffs\", \"flee\"));\r\n\r\n    //Timed buffs are just ints\r\n    anchor.buffs.immortal && buffs.push(`buffs.immortal`);\r\n    anchor.buffs.strong && buffs.push(`buffs.strong`);\r\n    anchor.buffs.warped && buffs.push(`buffs.warped`);\r\n    anchor.buffs.sniper && buffs.push(`buffs.sniper`);\r\n    anchor.buffs.overcharged && buffs.push(`buffs.overcharged`);\r\n    anchor.buffs.scavenger && buffs.push(`buffs.scavenger`);\r\n    anchor.buffs.swift && buffs.push(`buffs.swift`);\r\n  }\r\n\r\n  return buffs;\r\n}\r\n\r\nfunction parseDebuffs(anchor) {\r\n  let debuffs = [];\r\n\r\n  if (anchor.debuffs) {\r\n    //Value debuffs require parseAlter\r\n    if (anchor.debuffs.fear) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"fear\"));\r\n    if (anchor.debuffs.burn) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"burn\"));\r\n    if (anchor.debuffs.freeze) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"freeze\"));\r\n    if (anchor.debuffs.shock) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"shock\"));\r\n    if (anchor.debuffs.toxin) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"toxin\"));\r\n    if (anchor.debuffs.decay) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"decay\"));\r\n    if (anchor.debuffs.bleed) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"bleed\"));\r\n    if (anchor.debuffs.exhaustion) debuffs = debuffs.concat(parseAlter(anchor, \"debuffs\", \"exhaustion\"));\r\n\r\n    //Timed debuffs are just ints\r\n    anchor.debuffs.exploison && debuffs.push(`debuffs.exploison`);\r\n    anchor.debuffs.paralysis && debuffs.push(`debuffs.paralysis`);\r\n    anchor.debuffs.frozen && debuffs.push(`debuffs.frozen`);\r\n    anchor.debuffs.scorched && debuffs.push(`debuffs.scorched`);\r\n    anchor.debuffs.sleep && debuffs.push(`debuffs.sleep`);\r\n  }\r\n\r\n  return debuffs;\r\n}\r\n\r\nfunction parseScalers(anchor) {\r\n  let scalers = [];\r\n  if (anchor.health) scalers = scalers.concat(parseDivision(anchor.health));\r\n  if (anchor.shield) scalers = scalers.concat(parseDivision(anchor.shield));\r\n  if (anchor.mana) scalers = scalers.concat(parseDivision(anchor.mana));\r\n  if (anchor.stamina) scalers = scalers.concat(parseDivision(anchor.stamina));\r\n  if (anchor.mind) scalers = scalers.concat(parseCategory(anchor.mind, \"mind\", true));\r\n  if (anchor.body) scalers = scalers.concat(parseCategory(anchor.body, \"body\", true));\r\n  if (anchor.soul) scalers = scalers.concat(parseCategory(anchor.soul, \"soul\", true));\r\n\r\n  //For attributes, buffs, and debuffs, make sure to submit the anchor[target] instead of just anchor as parameters\r\n  if (anchor.attributes) scalers = scalers.concat(parseAttributes(anchor));\r\n  if (anchor.buffs) scalers = scalers.concat(parseBuffs(anchor));\r\n  if (anchor.debuffs) scalers = scalers.concat(parseDebuffs(anchor));\r\n\r\n  if (anchor.scaled) scalers.push(\"scaled\");\r\n  if (anchor.value) scalers.push(\"value\");\r\n\r\n  return scalers;\r\n}\r\n\r\nfunction parseModifier(anchor, target) {\r\n  let modifier = [];\r\n  anchor.target && modifier.push(\"target\");\r\n  anchor.scale && modifier.push(parseScalers(anchor.scale));\r\n  return modifier;\r\n}\r\n\r\nfunction parseModifiers(anchor, target) {\r\n  let modifiers = [];\r\n  for (let i = 0; i < anchor.length; i++) {\r\n    if (anchor[i]) modifiers[i] = parseModifier(anchor[i]);\r\n  }\r\n  return modifiers;\r\n}\r\n\r\nfunction parseEffect(anchor) {\r\n  //anchor is ability.effects while target is the index\r\n  let effect = [];\r\n  effect.push(`name`);\r\n  effect.push(`target`);\r\n  effect.push(`turns`);\r\n\r\n  //Passing down the string onto parseModifiers, so it can store the location further down\r\n  if (anchor.modifiers) effect.push(parseModifiers(anchor.modifiers));\r\n  return effect;\r\n}\r\n\r\nfunction parseEffects(anchor) {\r\n  let effects = [];\r\n  for (let i = 0; i < anchor.length; i++) {\r\n    if (anchor[i]) effects.push(parseEffect(anchor[i]));\r\n  }\r\n  return effects;\r\n}\r\n\r\nfunction parseFields(anchor) {\r\n  let fields = [];\r\n  let check = [\r\n    \"healthCost\",\r\n    \"manaCost\",\r\n    \"staminaCost\",\r\n    \"shieldCost\",\r\n    \"mindReq\",\r\n    \"bodyReq\",\r\n    \"soulReq\",\r\n    \"damage\",\r\n    \"health\",\r\n    \"healthGain\",\r\n    \"manaGain\",\r\n    \"staminaGain\",\r\n    \"shieldGain\",\r\n    \"mana\",\r\n    \"stamina\",\r\n    \"shield\",\r\n    \"repeatable\",\r\n    \"mindRepeat\",\r\n    \"bodyRepeat\",\r\n    \"soulRepeat\",\r\n    \"effects\",\r\n  ];\r\n\r\n  for (let i = 0; i < check.length; i++) {\r\n    if(check[i] === \"effects\"){\r\n      anchor[check[i]].length > 0 && fields.push(check[i])\r\n    } else {\r\n      anchor[check[i]] && fields.push(check[i]);\r\n    }\r\n  }\r\n  return fields;\r\n}\r\n\r\nfunction parseTarget(anchor, target) {\r\n  let integers = [\"healthCost\", \"manaCost\", \"staminaCost\", \"shieldCost\", \"mindReq\", \"bodyReq\", \"soulReq\"];\r\n  let divisions = [\"repeatable\"];\r\n  let categories = [\"mindRepeat\", \"bodyRepeat\", \"soulRepeat\"];\r\n  let effects = [\"effects\"];\r\n  let scales = [\"damage\", \"healthGain\", \"manaGain\", \"staminaGain\", \"shieldGain\"];\r\n\r\n  let dictionary = [integers, scales, divisions, categories, effects];\r\n  let decision;\r\n  let parse = [];\r\n\r\n  for (let i = 0; i < dictionary.length; i++) {\r\n    for (let j = 0; j < dictionary[i].length; j++) {\r\n      if (target === dictionary[i][j]) {\r\n        //i is a reference to the category in the dictionary array, used below\r\n        decision = i;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (decision === 0) {\r\n    //If it's an integer we'll just send the integer back, no need to parse\r\n    if (anchor[target]) return anchor[target];\r\n  } else if (decision === 1) {\r\n    //It was a scale\r\n    if (anchor[target]) parse = parse.concat(parseScalers(anchor[target]));\r\n  } else if (decision === 2) {\r\n    //If it was a division\r\n    if (anchor[target]) parse = parse.concat(parseDivision(anchor[target]));\r\n  } else if (decision === 3) {\r\n    //If it was a category (mind, body soul)\r\n    if (anchor[target]) parse = parse.concat(parseCategory(anchor[target], target, false));\r\n  } else if (decision === 4) {\r\n    //If it was a effect\r\n    if (anchor[target]) parse = parse.concat(parseEffects(anchor[target]));\r\n  }\r\n\r\n  return parse;\r\n}\r\n\r\nfunction parseScaleField(anchor, target, values, total, targetText, altName) {\r\n  let details = [\"\", []];\r\n  //checks to see if its a healthGain, manaGain, etc instead of damage scale. scaleWords[1] === \"Gain\", means its the former\r\n  let scaleWords = target.split(/(?=[A-Z])/);\r\n  let totalMultiplier = 1;\r\n  let alt = target;\r\n  if (altName) alt = altName;\r\n  for (let scope = 0; scope < values.length; scope++) {\r\n    //scaled checks if a scale has scaling values\r\n    if (!anchor[target].scaled && values[scope] === \"value\") {\r\n      //ex: Restores 5 health on self.\r\n      if (scaleWords[1] === \"Gain\" && anchor[target].value > 0) details[0] = `Restores ${anchor[target].value} ${alt}.`;\r\n      //ex: Destroys 5 health on self.\r\n      else if (scaleWords[1] === \"Gain\" && anchor[target].value < 0) details[0] = `Destroys ${anchor[target].value} ${alt}.`;\r\n      //ex: - applies 5 fear on self.\r\n      else if (altName) details[0] = `- applies ${anchor[target].value} ${alt} on ${targetText}.`;\r\n      //ex: Deals 5 damage on self.\r\n      else details[0] = `Deals ${anchor[target].value} ${alt} on ${targetText}`;\r\n    } else if (anchor[target].scaled && values[scope] === \"value\") {\r\n      //ex: Restores a minimum of 5 health.\r\n      if (scaleWords[1] === \"Gain\" && anchor[target].value > 0) details[0] = `Restores a minimum of ${anchor[target].value} ${scaleWords[0]}.`;\r\n      //ex: Destroys a minimum of 5 health.\r\n      else if (scaleWords[1] === \"Gain\" && anchor[target].value < 0) details[0] = `Destroys a minimum of ${anchor[target].value} ${scaleWords[0]}.`;\r\n      //ex: - applies a minimum of 5 fear.\r\n      else if (altName) details[0] = `- applies a minimum of ${anchor[target].value} ${alt} on ${targetText}.`;\r\n      //ex: Deals a minimum of 5 damage.\r\n      else details[0] = `Deals a minimum of ${anchor[target].value} ${alt} on ${targetText}.`;\r\n    } else if (anchor[target].scaled && values[scope] !== \"value\" && values[scope] !== \"scaled\") {\r\n      //Splits words like mind.cap and so on\r\n      let scale = values[scope].split(\".\");\r\n      //ex: + 1x fireball damage multiplier for every 10 mind cap\r\n      if(scaleWords.length > 1) {\r\n        let secondaryWord = scaleWords[1].toLowerCase() + \"ed\";\r\n        details[1].push(`+ 1x ${scaleWords[0]} ${secondaryWord} for every ${anchor[target][scale[0]][scale[1]]} ${scale[0]} ${scale[1]}.`);\r\n        totalMultiplier += Math.floor(total[scale[0]][scale[1]] / anchor[target][scale[0]][scale[1]]);\r\n      }\r\n      else if(scale.length === 2){\r\n        details[1].push(`+ 1x ${alt ? alt : anchor.tag} multiplier for every ${anchor[target][scale[0]][scale[1]]} ${scale[0]} ${scale[1]}.`);\r\n        totalMultiplier += Math.floor(total[scale[0]][scale[1]] / anchor[target][scale[0]][scale[1]]);\r\n      } else if(scale.length === 3) {\r\n        details[1].push(`+ 1x ${alt ? alt : anchor.tag} multiplier for every ${anchor[target][scale[0]][scale[1]][scale[2]]} points in ${scale[1]} (${scale[0]}).`);\r\n        totalMultiplier += Math.floor(total[scale[0]][scale[1]][scale[2]] / anchor[target][scale[0]][scale[1]][scale[2]]);\r\n      }\r\n\r\n    }\r\n    if (totalMultiplier > 1) {\r\n      let finalValue = totalMultiplier * anchor[target].value;\r\n      if (scaleWords[1] === \"Gain\" && anchor[target].value > 0) details[0] = details[0] + ` Will restore ${finalValue} ${alt}`;\r\n      if (scaleWords[1] === \"Gain\" && anchor[target].value < 0) details[0] = details[0] + ` Will destroy ${finalValue} ${alt}`;\r\n      if (altName) details[0] = details[0] + ` Will apply ${finalValue} ${alt}`;\r\n      else details[0] = details[0] + ` Will deal ${finalValue} ${alt}`;\r\n    }\r\n  }\r\n\r\n  return details;\r\n}\r\n\r\nfunction parseField(anchor, target, values, total, extra, extraValues) {\r\n  //Function explanation:\r\n  //This function uses the processed fields and targets from parseTarget and parseFields, to generate the actual text that will be displayed\r\n\r\n  //Parameter explanation:\r\n  //anchor is character.abilities[slot].ability; it is the actual data\r\n  //target is the string which classifies what we want out of the anchor\r\n  //ex: target = \"healthCost\", anchor[target] is equivalent to character.abilities[slot].ability.healthCost\r\n\r\n  //values is all the possible fields associated with the target, that we should check\r\n  //ex: target=\"repeatable\", values = [\"max\", \"current\"]\r\n\r\n  //extra is the associated targets that are deeply related to the target\r\n  //ex: target=\"repeatable\", extra=\"mindRepeat\"\r\n\r\n  //Lists what targets are in certain fields\r\n  let integers = [\"healthCost\", \"manaCost\", \"staminaCost\", \"shieldCost\", \"mindReq\", \"bodyReq\", \"soulReq\"];\r\n  let divisions = [\"repeatable\"];\r\n  let effects = [\"effects\"];\r\n  let scales = [\"damage\", \"healthGain\", \"manaGain\", \"staminaGain\", \"shieldGain\"];\r\n  let dictionary = [integers, scales, divisions, effects];\r\n\r\n  //Stores data from above\r\n  let decision;\r\n\r\n  //Finds what kind of field a target is\r\n  for (let i = 0; i < dictionary.length; i++) {\r\n    for (let j = 0; j < dictionary[i].length; j++) {\r\n      if (target === dictionary[i][j]) {\r\n        decision = i;\r\n      }\r\n    }\r\n  }\r\n\r\n  //details is what is returned, it will typically have two arrays inside.\r\n  //One with the main details that correspond to target while the other is the auxillary details that correspond to extra\r\n  let details = [];\r\n\r\n  //Goes through each field, if target was it, it will parse the data and store it in details\r\n  //extra details:\r\n  // anchor usually represents the data, like character.abilities in this case it's character.abilities[slot].ability\r\n  // target usually represents the string that grabs from the details as so: anchor[target]\r\n  // scope is what is taken out of the target, if the target has many underlying fields\r\n  if (decision === 0) {\r\n    //is an integer\r\n    let words = target.split(/(?=[A-Z])/);\r\n    if (words[1] === \"Cost\") {\r\n      //ex: Costs 5 stamina\r\n      return `Costs ${anchor[target]} ${words[0]}`;\r\n    } else if (words[1] === \"Req\") {\r\n      //ex: 10 mind cap is required to properly use this ability\r\n      return `${anchor[target]} ${words[1]} cap is required to properly use this ability`;\r\n    }\r\n  } else if (decision === 1) {\r\n    //is a scale\r\n    let targetText = anchor.target === 2 ? \"all enemies\" : (anchor.target === 1 ? \"target\" : \"self\");\r\n    details = parseScaleField(anchor, target, values, total, targetText);\r\n  } else if (decision === 2) {\r\n    //is a repeatable\r\n    details = [\"\", []];\r\n    if (target === \"repeatable\") {\r\n      // keeps track of how many times the ability repeats\r\n      let totalRepeat = 0;\r\n      let max = \"\";\r\n      let current = \"\";\r\n      for (let scope = 0; scope < values.length; scope++) {\r\n        if (values[scope] === \"current\") {\r\n          //ex: This ability repeats 2 times\r\n          current = `This ability repeats ${anchor[target][values[scope]]} times`;\r\n          totalRepeat += anchor[target][values[scope]];\r\n        }\r\n        if (values[scope] === \"max\") {\r\n          //ex: This ability repeats 2 times by default, but can repeat up to 10 times;\r\n          max = ` by default, but can repeat up to ${anchor[target][values[scope]]} times.`;\r\n        }\r\n      }\r\n      details[0] = current + max;\r\n      details[1] = [];\r\n      for (let scope = 0; scope < extra.length; scope++) {\r\n        for (let scopeTarget = 0; scopeTarget < extraValues[scope].length; scopeTarget++) {\r\n          //ex: a multiplier is recieved for every 10 points in mind cap\r\n          //code ex: a multiplier is recieved for every character.abilities[slot].ability.mindRepeat.cap points...\r\n\r\n          //repeatWords splits something like mindRepeat into \"mind\" and \"Repeat\"\r\n          let repeatWords = extra[scope].split(/(?=[A-Z])/);\r\n          details[1].push(\r\n            `- an extra repeat is recieved for every ${anchor[extra[scope]][extraValues[scope][scopeTarget]]} points in ${repeatWords[0]} ${\r\n              extraValues[scope][scopeTarget]\r\n            }.`\r\n          );\r\n          //code ex for adding to totalRepeat: Math.floor(total.mind.cap/anchor.mindRepeat.cap)\r\n          totalRepeat += Math.floor(total[repeatWords[0]][extraValues[scope][scopeTarget]] / anchor[extra[scope]][extraValues[scope][scopeTarget]]);\r\n        }\r\n      }\r\n      if (max) details[0] += ` Will repeat ${totalRepeat} times`;\r\n    }\r\n  } else if (decision === 3) {\r\n    //is an effect\r\n    details = [[\"\", []]];\r\n    for (let selectedEffect = 0; selectedEffect < anchor[target].length; selectedEffect++) {\r\n      let targetText = anchor[target][selectedEffect].target === 2 ? \"all enemies\" : (anchor[target][selectedEffect].target ? \"target\" : \"self\");\r\n      details[selectedEffect][0] = `${anchor[target][selectedEffect].name}`;\r\n      details[selectedEffect][1].push(`effects ${targetText} for ${anchor[target][selectedEffect].turns} turns`);\r\n      for (let scope = 0; scope < anchor[target][selectedEffect].modifiers.length; scope++) {\r\n        let modifier = anchor[target][selectedEffect].modifiers[scope];\r\n        if(modifier.scale) {\r\n          details[selectedEffect][1].push(parseScaleField(modifier, \"scale\", values[selectedEffect][3][scope][1], total, targetText, modifier.target));\r\n        } else {\r\n          details[selectedEffect][1].push([`- applies ${modifier.target} for ${anchor[target][selectedEffect].turns} turns on ${targetText}`])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return details;\r\n}\r\n\r\nfunction parseSlottedAbility(slot, character, equipped) {\r\n  let fields = parseFields(slot.ability);\r\n  let targets = [];\r\n  let details = [];\r\n  let total = parseTotalStats(character, equipped);\r\n\r\n  //Getting targets array setup, targets contains the values that the field would contain\r\n  for (let i = 0; i < fields.length; i++) {\r\n    targets.push(parseTarget(slot.ability, fields[i]));\r\n  }\r\n\r\n  //Looping through each field\r\n  for (let i = 0; i < fields.length; i++) {\r\n    if (Array.isArray(targets[i])) {\r\n      if (fields[i] === \"repeatable\") {\r\n        let extra = [];\r\n        let extraValues = [];\r\n        console.log(extra);\r\n        console.log(extraValues)\r\n        for (let scope = 0; scope < fields.length; scope++) {\r\n          if (fields[scope] === \"mindRepeat\" || fields[scope] === \"bodyRepeat\" || fields[scope] === \"soulRepeat\") {\r\n            extra.push(fields[scope]);\r\n            extraValues.push(targets[scope]);\r\n            fields.splice(scope, 1);\r\n            targets.splice(scope, 1);\r\n          }\r\n        }\r\n        details = details.concat(parseField(slot.ability, fields[i], targets[i], total, extra, extraValues));\r\n      } else if (fields[i] === \"effects\") {\r\n        details = details.concat(parseField(slot.ability, fields[i], targets[i], total));\r\n      } else if (fields[i] === \"damage\" || fields[i].slice(-4) === \"Gain\") {\r\n        details = details.concat(parseField(slot.ability, fields[i], targets[i], total));\r\n      }\r\n    } else {\r\n      //If it is an integer\r\n      if (slot.ability[fields[i]]) details = details.concat(parseField(slot.ability, fields[i], targets[i], total));\r\n    }\r\n  }\r\n\r\n\r\n\r\n  return details;\r\n}\r\n\r\nfunction slottedAbilityDetails(slot, character, equipped) {\r\n  let details = parseSlottedAbility(slot, character, equipped);\r\n  let fields = parseFields(slot.ability);\r\n  let htmlExport = [];\r\n\r\n  let integers = [\"healthCost\", \"manaCost\", \"staminaCost\", \"shieldCost\", \"mindReq\", \"bodyReq\", \"soulReq\"];\r\n  let scales = [\"damage\", \"mana\", \"stamina\", \"shield\", \"healthGain\", \"manaGain\", \"staminaGain\", \"shieldGain\"];\r\n\r\n  for (let i = 0; i < fields.length; i++) {\r\n    if (fields[i] === \"mindRepeat\" || fields[i] === \"bodyRepeat\" || fields[i] === \"soulRepeat\") {\r\n      fields.splice(i, 1);\r\n    }\r\n  }\r\n\r\n  let fieldCount = 0;\r\n\r\n  for (let i = 0; i < details.length; i++) {\r\n    if (integers.includes(fields[fieldCount])) {\r\n      htmlExport.push(\r\n        <span\r\n          className=\"subheader\"\r\n          style={{\r\n            fontSize: \"14px\",\r\n            textAlign: \"center\",\r\n            marginTop: \"2px\",\r\n            fontFamily: \"Piazzolla\",\r\n            marginRight: \"6px\",\r\n            backgroundColor: \"#222\",\r\n            borderRadius: \"2px\",\r\n            paddingLeft: \"4px\",\r\n            paddingRight: \"4px\",\r\n          }}\r\n          key={`${i}-${Math.random()}`}\r\n        >\r\n          {details[i]}\r\n        </span>\r\n      );\r\n    } else if (scales.includes(fields[fieldCount]) || fields[fieldCount] === \"repeatable\") {\r\n      htmlExport.push(\r\n        <h1\r\n          className=\"subheader\"\r\n          style={{\r\n            fontSize: \"14px\",\r\n            textAlign: \"left\",\r\n            marginTop: \"5px\",\r\n            fontFamily: \"Piazzolla\",\r\n          }}\r\n          key={`${i}-${Math.random()}`}\r\n        >\r\n          {details[i]}\r\n        </h1>\r\n      );\r\n      i++;\r\n      for (let scope = 0; scope < details[i].length; scope++) {\r\n          htmlExport.push(\r\n            <h1\r\n              className=\"subheader\"\r\n              style={{\r\n                fontSize: \"12px\",\r\n                textAlign: \"left\",\r\n                marginTop: \"1px\",\r\n                marginLeft: \"5px\",\r\n                fontFamily: \"Piazzolla\",\r\n                marginBottom: scope + 1 === details[i].length ? \"20px\" : \"\",\r\n              }}\r\n              key={`${i}-${Math.random()}`}\r\n            >\r\n              {details[i][scope]}\r\n            </h1>\r\n          );\r\n      }\r\n    } else if (fields[fieldCount] === \"effects\") {\r\n      htmlExport.push(\r\n        <h1\r\n          className=\"subheader\"\r\n          style={{\r\n            fontSize: \"14px\",\r\n            textAlign: \"left\",\r\n            marginTop: \"5px\",\r\n            fontFamily: \"Piazzolla\",\r\n          }}\r\n          key={`${i}-${Math.random()}`}\r\n        >\r\n          {`${details[i][0]} - ${details[i][1][0]}`}\r\n        </h1>\r\n      );\r\n\r\n      for (let modNum = 1; modNum < details[i][1].length; modNum++) {\r\n        htmlExport.push(\r\n          <h1\r\n            className=\"subheader\"\r\n            style={{\r\n              fontSize: \"12px\",\r\n              textAlign: \"left\",\r\n              marginTop: \"1px\",\r\n              marginLeft: \"5px\",\r\n              fontFamily: \"Piazzolla\",\r\n            }}\r\n            key={`${i}-${Math.random()}`}\r\n          >\r\n            {details[i][1][modNum][0]}\r\n          </h1>\r\n        );\r\n        if (details[i][1][modNum].length > 1 && details[i][1][modNum][1].length > 0) {\r\n          for (let modDetails = 0; modDetails < details[i][1][modNum][1].length; modDetails++) {\r\n            htmlExport.push(\r\n              <h1\r\n                className=\"subheader\"\r\n                style={{\r\n                  fontSize: \"12px\",\r\n                  textAlign: \"left\",\r\n                  marginTop: \"1px\",\r\n                  marginLeft: \"5px\",\r\n                  fontFamily: \"Piazzolla\",\r\n                  marginBottom: modDetails + 1 === details[i][1][1][1].length ? \"20px\" : \"\",\r\n                }}\r\n                key={`${i}-${Math.random()}`}\r\n              >\r\n                {details[i][1][modNum][1][modDetails]}\r\n              </h1>\r\n            );\r\n          }\r\n        }\r\n      }\r\n    }\r\n    fieldCount++;\r\n  }\r\n\r\n  return htmlExport;\r\n}\r\n\r\nexport {\r\n  equipmentCheck,\r\n  compareType,\r\n  checkCategory,\r\n  categoryDetails,\r\n  parseEquipped,\r\n  abilityArray,\r\n  parseFields,\r\n  parseTarget,\r\n  parseSlottedAbility,\r\n  slottedAbilityDetails,\r\n};\r\n","//General\r\nimport React, { memo, useContext, useEffect, useState } from \"react\";\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Contexts\r\nimport { DragContext } from \"../../helper/drag\";\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Helper Functions\r\nimport { checkCategory, categoryDetails } from \"../../helper/helpers\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nfunction Item({ itemId, enchantments, status, type, slot, setSlot }) {\r\n  //Context\r\n  const drag = useContext(DragContext);\r\n  const character = useContext(CharacterContext);\r\n\r\n  //Data\r\n  const [fetchedItem, setFetchedItem] = useState();\r\n  const [fetchedAbility, setFetchedAbility] = useState();\r\n  const [itemMailer, setItemMailer] = useState({});\r\n\r\n  //Get Item\r\n  const { loading: itemLoad, data: itemData } = useQuery(FETCH_ITEM, { variables: { itemId } });\r\n\r\n  //Getting ability off of item\r\n  const [getAbility, { loading: abilityLoad, data: abilityData }] = useLazyQuery(FETCH_ABILITY);\r\n\r\n  const bodyGenerator = (item) => {\r\n    let typeText = \"\";\r\n    let details = [];\r\n\r\n    switch (item.type) {\r\n      case \"consumable_cap\":\r\n        typeText = (\r\n          <h5 style={{ fontFamily: \"Piazzolla\", margin: 0, marginTop: \"2px\", textAlign: \"center\", color: \"orchid\" }} key={`${itemId}-type`}>\r\n            Potential Gem\r\n          </h5>\r\n        );\r\n        if (item.mind.cap)\r\n          details.push(\r\n            <h6 style={{ margin: 0, marginTop: \"1px\" }} key={`${itemId}-mind-cap`}>\r\n              {`+ ${item.mind.cap} to `}\r\n              <span style={{ color: \"darkcyan\", textDecoration: \"underline\" }}>Mind cap</span>\r\n            </h6>\r\n          );\r\n        if (item.body.cap)\r\n          details.push(\r\n            <h6 style={{ margin: 0, marginTop: \"1px\" }} key={`${itemId}-body-cap`}>\r\n              {`+ ${item.body.cap} to `}\r\n              <span style={{ color: \"firebrick\", textDecoration: \"underline\" }}>Body cap</span>\r\n            </h6>\r\n          );\r\n        if (item.soul.cap)\r\n          details.push(\r\n            <h6 style={{ margin: 0, marginTop: \"1px\" }} key={`${itemId}-soul-cap`}>\r\n              {`+ ${item.soul.cap} to `}\r\n              <span style={{ color: \"darkorchid\", textDecoration: \"underline\" }}>Soul cap</span>\r\n            </h6>\r\n          );\r\n        if (item.slots) details.push(`+ ${item.slots} slots`);\r\n        break;\r\n      case \"head\":\r\n        typeText = (\r\n          <h5 style={{ fontFamily: \"Piazzolla\", margin: 0, marginTop: \"2px\", textAlign: \"center\", color: \"crimson\" }} key={`${itemId}-type`}>\r\n            Head\r\n          </h5>\r\n        );\r\n        if (checkCategory(item, \"mind\")) details = details.concat(categoryDetails(itemId, item.mind, \"mind\"));\r\n        if (checkCategory(item, \"body\")) details = details.concat(categoryDetails(itemId, item.body, \"body\"));\r\n        if (checkCategory(item, \"soul\")) details = details.concat(categoryDetails(itemId, item.soul, \"soul\"));\r\n        break;\r\n      case \"ring\":\r\n        typeText = (\r\n          <h5 style={{ fontFamily: \"Piazzolla\", margin: 0, marginTop: \"2px\", textAlign: \"center\", color: \"crimson\" }} key={`${itemId}-type`}>\r\n            Ring\r\n          </h5>\r\n        );\r\n        if (checkCategory(item, \"mind\")) details = details.concat(categoryDetails(itemId, item.mind, \"mind\"));\r\n        if (checkCategory(item, \"body\")) details = details.concat(categoryDetails(itemId, item.body, \"body\"));\r\n        if (checkCategory(item, \"soul\")) details = details.concat(categoryDetails(itemId, item.soul, \"soul\"));\r\n        break;\r\n      default:\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className={fetchedItem.ability ? \"\" : \"divider\"}></div>\r\n        {typeText}\r\n        {details.map((detail) => detail)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (itemData && !itemLoad) {\r\n      let tempItem = itemData.getItem;\r\n      setFetchedItem(tempItem);\r\n      if (status === \"equip\") {\r\n        let temp = character.equipped;\r\n        temp[type] = fetchedItem;\r\n        character.equip(temp);\r\n      }\r\n      if (tempItem.type === \"ability\" && tempItem.ability) {\r\n        getAbility({ variables: { abilityId: tempItem.ability } });\r\n        setItemMailer({ ...itemMailer, name: tempItem.name, desc: tempItem.desc });\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [itemData]);\r\n\r\n  useEffect(() => {\r\n    if (abilityData && !abilityLoad) {\r\n      let tempAbility = abilityData.getAbility;\r\n      if (status === \"slottedAbility\") {\r\n        let tempAbilities = character.abilities;\r\n        tempAbilities[slot] = { ...itemMailer, ability: tempAbility };\r\n        character.use(tempAbilities);\r\n        setFetchedAbility(tempAbility);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [abilityData]);\r\n\r\n  if (!itemLoad && itemData && fetchedItem) {\r\n    if (status === \"slottedAbility\") {\r\n      return (\r\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <object\r\n            className=\"item\"\r\n            style={{ height: \"48px\", width: \"48px\", cursor: \"grab\" }}\r\n            data={require(`../../assets/items/${fetchedItem.path}.svg`)}\r\n            type=\"image/svg+xml\"\r\n          >\r\n            <img src={require(`../../assets/items/${fetchedItem.path}.svg`)} alt={fetchedItem.name} />\r\n          </object>\r\n        </div>\r\n      );\r\n    } else {\r\n      return (\r\n        <div className=\"tooltip\" style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <object\r\n            className=\"item\"\r\n            style={{ height: \"48px\", width: \"48px\", cursor: \"grab\" }}\r\n            data={require(`../../assets/items/${fetchedItem.path}.svg`)}\r\n            type=\"image/svg+xml\"\r\n          >\r\n            <img src={require(`../../assets/items/${fetchedItem.path}.svg`)} alt={fetchedItem.name} />\r\n          </object>\r\n          {!drag.isDragging ? (\r\n            <div\r\n              ref={(el) => {\r\n                if (!el) return null;\r\n                let left = el.getBoundingClientRect().x;\r\n                let top = el.getBoundingClientRect().y;\r\n                let heightCap = (window.innerHeight * 2) / 4;\r\n                let widthCap = (window.innerWidth * 2) / 4;\r\n                if (top < heightCap) {\r\n                  el.style.cssText = \"top: 60%; left: 50%;\";\r\n                  if (left < 0) {\r\n                    el.style.cssText = \"top: 60%; left: 106%;\";\r\n                  }\r\n                  if (left > widthCap) {\r\n                    el.style.cssText = \"top: 60%; left: -6%\";\r\n                  }\r\n                }\r\n                if (top > heightCap) {\r\n                  el.style.cssText = \"bottom: 60%; left: 50%\";\r\n                  if (left < 0) {\r\n                    el.style.cssText = \"bottom: 60%; left: 106%\";\r\n                  }\r\n                  if (left > widthCap) {\r\n                    el.style.cssText = \"bottom: 60%; left: -6%\";\r\n                  }\r\n                }\r\n              }}\r\n              className=\"tooltiptext\"\r\n            >\r\n              <h4 key={fetchedAbility ? \"placeholder\" : \"random\"} style={{ fontFamily: \"Piazzolla\", margin: 0, textAlign: \"center\", color: \"gold\" }}>{fetchedItem.name}</h4>\r\n              <h6 style={{ margin: 0, marginBottom: \"2px\" }}>{fetchedItem.desc}</h6>\r\n              {bodyGenerator(fetchedItem)}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n}\r\n\r\nexport default memo(Item);\r\n\r\nconst FETCH_ITEM = gql`\r\n  query($itemId: ID!) {\r\n    getItem(itemId: $itemId) {\r\n      name\r\n      desc\r\n      path\r\n      type\r\n      ability\r\n      slots\r\n      mind {\r\n        cap\r\n        creation\r\n        restoration\r\n        destruction\r\n        projection\r\n      }\r\n      body {\r\n        cap\r\n        vitality\r\n        defense\r\n        strength\r\n        dexterity\r\n      }\r\n      soul {\r\n        luck\r\n        capacity\r\n        clarity\r\n        will\r\n      }\r\n      essence {\r\n        focus\r\n        value\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_ABILITY = gql`\r\n  query($abilityId: ID!) {\r\n    getAbility(abilityId: $abilityId) {\r\n      id\r\n      tag\r\n      lvl\r\n      target\r\n      healthCost\r\n      manaCost\r\n      staminaCost\r\n      shieldCost\r\n      mindReq\r\n      bodyReq\r\n      soulReq\r\n      repeatable {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      mindRepeat {\r\n        cap\r\n        creation\r\n        destruction\r\n        restoration\r\n        projection\r\n      }\r\n      bodyRepeat {\r\n        cap\r\n        vitality\r\n        defense\r\n        strength\r\n        dexterity\r\n      }\r\n      soulRepeat {\r\n        cap\r\n        luck\r\n        capacity\r\n        clarity\r\n        will\r\n      }\r\n      effects {\r\n        name\r\n        target\r\n        turns\r\n        modifiers {\r\n          target\r\n          scale {\r\n            health {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            stamina {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            mana {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            shield {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            mind {\r\n              cap\r\n              creation\r\n              destruction\r\n              restoration\r\n              projection\r\n            }\r\n            body {\r\n              cap\r\n              vitality\r\n              defense\r\n              strength\r\n              dexterity\r\n            }\r\n            soul {\r\n              cap\r\n              luck\r\n              capacity\r\n              clarity\r\n              will\r\n            }\r\n            attributes {\r\n              space {\r\n                default\r\n                mod\r\n              }\r\n              time {\r\n                default\r\n                mod\r\n              }\r\n              death {\r\n                default\r\n                mod\r\n              }\r\n              life {\r\n                default\r\n                mod\r\n              }\r\n              fire {\r\n                default\r\n                mod\r\n              }\r\n              water {\r\n                default\r\n                mod\r\n              }\r\n              earth {\r\n                default\r\n                mod\r\n              }\r\n              air {\r\n                default\r\n                mod\r\n              }\r\n            }\r\n            debuffs {\r\n              fear {\r\n                default\r\n                mod\r\n              }\r\n              burn {\r\n                default\r\n                mod\r\n              }\r\n              freeze {\r\n                default\r\n                mod\r\n              }\r\n              shock {\r\n                default\r\n                mod\r\n              }\r\n              toxin {\r\n                default\r\n                mod\r\n              }\r\n              decay {\r\n                default\r\n                mod\r\n              }\r\n              bleed {\r\n                default\r\n                mod\r\n              }\r\n              exhaustion {\r\n                default\r\n                mod\r\n              }\r\n              explosion\r\n              paralysis\r\n              frozen\r\n              scorched\r\n            }\r\n            buffs {\r\n              regen {\r\n                default\r\n                mod\r\n              }\r\n              dread {\r\n                default\r\n                mod\r\n              }\r\n              poison {\r\n                default\r\n                mod\r\n              }\r\n              scorch {\r\n                default\r\n                mod\r\n              }\r\n              cold {\r\n                default\r\n                mod\r\n              }\r\n              spark {\r\n                default\r\n                mod\r\n              }\r\n              reflect {\r\n                default\r\n                mod\r\n              }\r\n              summon {\r\n                default\r\n                mod\r\n              }\r\n              taunt {\r\n                default\r\n                mod\r\n              }\r\n              flee {\r\n                default\r\n                mod\r\n              }\r\n              immortal\r\n              strong\r\n              warped\r\n              sniper\r\n              wellspring\r\n              overcharged\r\n              scavenger\r\n              swift\r\n            }\r\n            scaled\r\n            value\r\n          }\r\n        }\r\n      }\r\n      damage {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      healthGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      manaGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      staminaGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      shieldGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, memo } from \"react\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Minor Modules\r\nimport Item from \"./item\";\r\n\r\n//Contexts\r\nimport { DragContext } from \"../../helper/drag\";\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nfunction Inventory({ inventoryId, refreshEquips }) {\r\n  //General\r\n  const drag = useContext(DragContext);\r\n  const character = useContext(CharacterContext);\r\n\r\n  //Get Inventories\r\n  const { loading, data, refetch } = useQuery(FETCH_INVENTORY, { variables: { inventoryId }, pollInterval: 200 });\r\n\r\n  //Switch Items\r\n  const [switchItems] = useMutation(SWITCH_ITEMS, {\r\n    variables: { firstAnchor: drag.draggedFrom, secondAnchor: drag.draggedTo, firstTarget: drag.dragging, secondTarget: drag.draggedOn },\r\n  });\r\n\r\n  //Dragging\r\n  const dragStart = (event, target) => {\r\n    let img = new Image();\r\n    img.src = \"\";\r\n    event.dataTransfer.setDragImage(img, 0, 0);\r\n    drag.start({ firstAnchor: inventoryId, firstTarget: target });\r\n  };\r\n\r\n  const dragOver = (event, target) => {\r\n    event.preventDefault();\r\n    drag.over({ secondAnchor: inventoryId, secondTarget: target });\r\n  };\r\n\r\n  const finishDrag = async () => {\r\n    if (drag.draggedFrom && drag.draggedOn) {\r\n      if (drag.dragging.substring(0, 4) === \"slot\") {\r\n        let tempAbilities = character.abilities;\r\n        tempAbilities[drag.dragging] = null;\r\n        character.use(tempAbilities);\r\n      }\r\n      switchItems();\r\n      refetch();\r\n    }\r\n    drag.drop();\r\n  };\r\n\r\n  const backgroundCalculator = (slot) => {\r\n    if (drag.isDragging) {\r\n      if (slot === drag.dragging && inventoryId === drag.draggedFrom) {\r\n        return \"#000\";\r\n      }\r\n      if (slot === drag.draggedOn && inventoryId === drag.draggedTo) {\r\n        return \"#111\";\r\n      }\r\n    } else {\r\n      return \"#333\";\r\n    }\r\n  };\r\n\r\n  if (!loading) {\r\n    const inv = data.getInventory;\r\n    const slots = [\"one\", \"two\", \"three\", \"four\", \"five\", \"six\", \"seven\", \"eight\", \"nine\", \"ten\", \"eleven\", \"twelve\", \"thirteen\", \"fourteen\", \"fifteen\"];\r\n\r\n    return (\r\n      <div className=\"inventory\">\r\n        {slots.map((slot) => (\r\n          <li\r\n            style={{ backgroundColor: backgroundCalculator(slot), cursor: inv[slot].item ? \"grab\" : \"default\" }}\r\n            className=\"slot\"\r\n            draggable={inv[slot].item ? true : false}\r\n            key={`${inventoryId}-${slot}`}\r\n            onDragStart={(e) => dragStart(e, slot)}\r\n            onDragOver={(e) => dragOver(e, slot)}\r\n            onDragLeave={drag.leave}\r\n            onDrop={finishDrag}\r\n          >\r\n            {inv[slot].item ? <Item itemId={inv[slot].item} /> : null}\r\n          </li>\r\n        ))}\r\n      </div>\r\n    );\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport default memo(Inventory);\r\n\r\nconst SWITCH_ITEMS = gql`\r\n  mutation switchItems($firstAnchor: ID!, $secondAnchor: ID!, $firstTarget: String!, $secondTarget: String!) {\r\n    switchItems(switchItemsInput: { firstAnchor: $firstAnchor, secondAnchor: $secondAnchor, firstTarget: $firstTarget, secondTarget: $secondTarget })\r\n  }\r\n`;\r\n\r\nconst FETCH_INVENTORY = gql`\r\n  query($inventoryId: ID!) {\r\n    getInventory(inventoryId: $inventoryId) {\r\n      one {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      two {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      three {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      four {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      five {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      six {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      seven {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      eight {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      nine {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      ten {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      eleven {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      twelve {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      thirteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      fourteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      fifteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useState, useContext, useEffect} from \"react\";\r\nimport { useMutation } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Contexts\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Assets\r\nimport Cap from \"../../assets/icons/cap.svg\";\r\nimport Stat from \"../../assets/icons/stat.svg\";\r\nimport Loading from \"../../assets/loading/donkey_web.gif\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nexport default function Stats({ characterId, refetch, refreshData }) {\r\n  //TODO add perks\r\n  const character = useContext(CharacterContext);\r\n\r\n  //Calculations\r\n  const [rerender, setRerender] = useState(Math.random());\r\n  const [stat, setStat] = useState({\r\n    capUsed: 0,\r\n    statUsed: 0,\r\n    mind: {\r\n      capUsed: character.mind.creation + character.mind.destruction + character.mind.restoration + character.mind.projection,\r\n      cap: 0,\r\n      creation: 0,\r\n      destruction: 0,\r\n      restoration: 0,\r\n      projection: 0,\r\n    },\r\n    body: {\r\n      capUsed: character.body.vitality + character.body.defense + character.body.strength + character.body.dexterity,\r\n      cap: 0,\r\n      vitality: 0,\r\n      defense: 0,\r\n      strength: 0,\r\n      dexterity: 0,\r\n    },\r\n    soul: {\r\n      capUsed: character.soul.luck + character.soul.capacity + character.soul.clarity + character.soul.will,\r\n      cap: 0,\r\n      luck: 0,\r\n      capacity: 0,\r\n      clarity: 0,\r\n      will: 0,\r\n    },\r\n  });\r\n\r\n  const resetStat = () => {\r\n    let newStat = {\r\n      capUsed: 0,\r\n      statUsed: 0,\r\n      mind: {\r\n        capUsed: character.mind.creation + character.mind.destruction + character.mind.restoration + character.mind.projection,\r\n        cap: 0,\r\n        creation: 0,\r\n        destruction: 0,\r\n        restoration: 0,\r\n        projection: 0,\r\n      },\r\n      body: {\r\n        capUsed: character.body.vitality + character.body.defense + character.body.strength + character.body.dexterity,\r\n        cap: 0,\r\n        vitality: 0,\r\n        defense: 0,\r\n        strength: 0,\r\n        dexterity: 0,\r\n      },\r\n      soul: {\r\n        capUsed: character.soul.luck + character.soul.capacity + character.soul.clarity + character.soul.will,\r\n        cap: 0,\r\n        luck: 0,\r\n        capacity: 0,\r\n        clarity: 0,\r\n        will: 0,\r\n      },\r\n    };\r\n    setStat(newStat);\r\n  };\r\n\r\n  const changeCap = (anchor, increment) => {\r\n    let temp = stat;\r\n    let tempAnchor = temp[anchor];\r\n\r\n    temp.capUsed += increment;\r\n    tempAnchor.cap += increment;\r\n    temp[anchor] = tempAnchor;\r\n    setStat(temp);\r\n    setStat({ ...stat });\r\n  };\r\n\r\n  const changeStat = (anchor, target, increment) => {\r\n    let temp = stat;\r\n    let tempAnchor = temp[anchor];\r\n\r\n    temp.statUsed += increment;\r\n    tempAnchor[target] += increment;\r\n    tempAnchor.capUsed += increment;\r\n    temp[anchor] = tempAnchor;\r\n    setStat(temp);\r\n    setStat({ ...stat });\r\n  };\r\n\r\n  const disableCalc = (type, anchor, target, increment) => {\r\n    if (type === \"cap\") {\r\n      if (increment === 1) {\r\n        return character.level.cap <= stat.capUsed ? true : false;\r\n      } else if (increment === -1) {\r\n        return stat.capUsed === 0 || stat[anchor].cap === 0 ? true : false;\r\n      }\r\n    } else if (type === \"stat\") {\r\n      if (increment === 1) {\r\n        return stat[anchor].capUsed >= stat[anchor].cap + character[anchor].cap || character.level.stat - stat.statUsed <= 0 ? true : false;\r\n      } else if (increment === -1) {\r\n        let temp = stat[anchor];\r\n        return temp[target] <= 0 ? true : false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  //Graphql\r\n  const [updateCharacterStats, { loading: characterLoad }] = useMutation(UPDATE_CHARACTER_STATS, {\r\n    variables: {\r\n      characterId: characterId,\r\n      capUsed: stat.capUsed,\r\n      statUsed: stat.statUsed,\r\n      mindCap: stat.mind.cap,\r\n      bodyCap: stat.body.cap,\r\n      soulCap: stat.soul.cap,\r\n      creation: stat.mind.creation,\r\n      destruction: stat.mind.destruction,\r\n      restoration: stat.mind.restoration,\r\n      projection: stat.mind.projection,\r\n      vitality: stat.body.vitality,\r\n      defense: stat.body.defense,\r\n      strength: stat.body.strength,\r\n      dexterity: stat.body.dexterity,\r\n      luck: stat.soul.luck,\r\n      capacity: stat.soul.capacity,\r\n      clarity: stat.soul.clarity,\r\n      will: stat.soul.will,\r\n    },\r\n  });\r\n\r\n  function finalize() {\r\n    updateCharacterStats();\r\n    refetch();\r\n    if (!characterLoad || !refreshData) {\r\n      resetStat();\r\n    }\r\n    setRerender(Math.random());\r\n  }\r\n\r\n  //Display\r\n  const [selected, setSelected] = useState({\r\n    stats: true,\r\n    attributes: false,\r\n    status: false,\r\n    perks: false,\r\n  });\r\n\r\n  const select = (target) => {\r\n    setSelected({ stats: false, attributes: false, status: false, perks: false, [target]: true });\r\n  };\r\n\r\n  const backgroundCalc = (target) => {\r\n    if (selected[target]) {\r\n      return \"rgb(133, 20, 133)\";\r\n    } else {\r\n      return \"darkred\";\r\n    }\r\n  };\r\n\r\n  const anchors = [\"mind\", \"body\", \"soul\"];\r\n  const targets = [\r\n    [\"creation\", \"destruction\", \"restoration\", \"projection\"],\r\n    [\"vitality\", \"defense\", \"strength\", \"dexterity\"],\r\n    [\"luck\", \"capacity\", \"clarity\", \"will\"],\r\n  ];\r\n\r\n  const attributesTargets = [\"space\", \"time\", \"death\", \"life\", \"fire\", \"water\", \"earth\", \"air\"];\r\n\r\n  const statusAnchors = [\"buffs\", \"debuffs\"];\r\n  const statusTargets = [\r\n    [\r\n      [\"regen\", \"dread\", \"poison\", \"scorch\", \"cold\", \"spark\", \"reflect\", \"summon\", \"taunt\", \"flee\"],\r\n      [\"immortal\", \"strong\", \"warped\", \"sniper\", \"wellspring\", \"overcharged\", \"scavenger\", \"swift\"],\r\n    ],\r\n    [\r\n      [\"fear\", \"burn\", \"freeze\", \"shock\", \"toxin\", \"decay\", \"bleed\", \"exhaustion\"],\r\n      [\"explosion\", \"paralysis\", \"frozen\", \"scorched\", \"sleep\"],\r\n    ],\r\n  ];\r\n\r\n  let debuffResistance = character.soul.will * 2 + character.body.defense * 0.5;\r\n\r\n  const displayCap = (anchor) => {\r\n    return <span className=\"subheader\">{`:${stat[anchor].capUsed}/${character[anchor].cap + stat[anchor].cap}`}</span>;\r\n  };\r\n\r\n  useEffect(() => {\r\n    resetStat();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [character]);\r\n\r\n  const viewManager = () => {\r\n    if (selected.stats) {\r\n      return (\r\n        <div key={rerender} style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ backgroundColor: \"#111\", borderRadius: \"5px\", width: \"120px\", height: \"40px\", float: \"left\" }}>\r\n              <div style={{ float: \"left\" }}>\r\n                <img src={Cap} style={{ marginLeft: \"5px\", marginTop: \"3px\" }} alt=\"Cap Points\" />\r\n                <span className=\"stats-text\" style={{ marginLeft: \"2px\" }}>\r\n                  {character.level.cap - stat.capUsed}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div style={{ float: \"left\", paddingTop: \"20px\", marginLeft: \"12.5%\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Stats\r\n              </span>\r\n            </div>\r\n            <div style={{ backgroundColor: \"#111\", borderRadius: \"5px\", width: \"120px\", height: \"40px\", float: \"right\" }}>\r\n              <div style={{ float: \"left\" }}>\r\n                <img src={Stat} style={{ marginLeft: \"5px\", marginTop: \"3px\" }} alt=\"Stat Points\" />\r\n                <span className=\"stats-text\" style={{ marginLeft: \"2px\" }}>\r\n                  {character.level.stat - stat.statUsed}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}>\r\n            {anchors.map((anchor, index) => (\r\n              <div style={{ marginBottom: \"10px\" }} key={`${anchor}-${index}-${rerender}`}>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignContent: \"center\", height: \"30px\", marginBottom: \"10px\" }}>\r\n                  <h1 className=\"subheader\" style={{ fontSize: \"18px\", marginTop: \"10px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                    {anchor}\r\n                    <span className=\"subheader\">{`:${stat[anchor].capUsed}/${character[anchor].cap + stat[anchor].cap}`}</span>\r\n                  </h1>\r\n                  <div>\r\n                    <button\r\n                      className=\"null-button\"\r\n                      style={{ float: \"right\", height: \"30px\", width: \"40px\", marginTop: 0, marginRight: \"5px\" }}\r\n                      disabled={disableCalc(\"cap\", anchor, \"\", 1)}\r\n                      onClick={() => changeCap(anchor, 1)}\r\n                    >\r\n                      +\r\n                    </button>\r\n                    <button\r\n                      className=\"null-button\"\r\n                      style={{ float: \"right\", height: \"30px\", width: \"40px\", marginTop: 0 }}\r\n                      disabled={disableCalc(\"cap\", anchor, \"\", -1)}\r\n                      onClick={() => changeCap(anchor, -1)}\r\n                    >\r\n                      -\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                {targets[index].map((target, index) => (\r\n                  <div\r\n                    style={{\r\n                      display: \"flex\",\r\n                      justifyContent: \"space-between\",\r\n                      alignContent: \"center\",\r\n                      height: \"30px\",\r\n                      paddingLeft: \"10px\",\r\n                    }}\r\n                    key={`${anchor}-${target}-${index}`}\r\n                  >\r\n                    <h1 className=\"subheader\" style={{ fontSize: \"14px\", marginTop: \"5px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                      {`- ${target}`}\r\n                      <span className=\"subheader\" style={{ fontSize: \"14px\", verticalAlign: \"middle\" }}>{`:${\r\n                        character[anchor][target] + stat[anchor][target]\r\n                      }`}</span>\r\n                    </h1>\r\n                    <div>\r\n                      <button\r\n                        className=\"null-button\"\r\n                        style={{ float: \"right\", height: \"20px\", width: \"25px\", fontSize: \"10px\", marginTop: 0 }}\r\n                        disabled={disableCalc(\"stat\", anchor, target, 1)}\r\n                        onClick={() => changeStat(anchor, target, 1)}\r\n                      >\r\n                        +\r\n                      </button>\r\n                      <button\r\n                        className=\"null-button\"\r\n                        style={{ float: \"right\", height: \"20px\", width: \"25px\", fontSize: \"10px\", marginTop: 0 }}\r\n                        disabled={disableCalc(\"stat\", anchor, target, -1)}\r\n                        onClick={() => changeStat(anchor, target, -1)}\r\n                      >\r\n                        -\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.attributes) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Attributes\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}>\r\n            {attributesTargets.map((target, index) => (\r\n              <div style={{ marginBottom: \"10px\" }} key={`${target}-${index}`}>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignContent: \"center\", height: \"30px\", marginBottom: \"10px\" }}>\r\n                  <h1 className=\"subheader\" style={{ fontSize: \"18px\", marginTop: \"10px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                    {target}\r\n                  </h1>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignContent: \"center\",\r\n                    height: \"30px\",\r\n                    paddingLeft: \"10px\",\r\n                  }}\r\n                >\r\n                  <h1 className=\"subheader\" style={{ fontSize: \"14px\", marginTop: \"5px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                    {`- default`}\r\n                    <span className=\"subheader\" style={{ fontSize: \"14px\", verticalAlign: \"middle\" }}>\r\n                      {`:${character.attributes[target].default}`}\r\n                    </span>\r\n                  </h1>\r\n                </div>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignContent: \"center\",\r\n                    height: \"30px\",\r\n                    paddingLeft: \"10px\",\r\n                  }}\r\n                >\r\n                  <h1 className=\"subheader\" style={{ fontSize: \"14px\", marginTop: \"5px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                    {`- mod`}\r\n                    <span className=\"subheader\" style={{ fontSize: \"14px\", verticalAlign: \"middle\" }}>\r\n                      {`:${character.attributes[target].mod}`}\r\n                    </span>\r\n                  </h1>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.perks) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Perks (WIP)\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}></div>\r\n        </div>\r\n      );\r\n    } else if (selected.status) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Status\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}>\r\n            {statusAnchors.map((anchor, index) => (\r\n              <div style={{ marginBottom: \"10px\" }} key={`${anchor}-${index}`}>\r\n                <div style={{ display: \"flex\", justifyContent: \"space-between\", alignContent: \"center\", height: \"30px\", marginBottom: \"10px\" }}>\r\n                  <h1 className=\"subheader\" style={{ fontSize: \"18px\", marginTop: \"10px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                    {anchor}\r\n                  </h1>\r\n                </div>\r\n                <div style={{ marginBottom: \"10px\" }}>\r\n                  {statusTargets[index][0].map((target) => (\r\n                    <div style={{ marginBottom: \"10px\" }} key={`${anchor}-${target}-${index}`}>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          alignContent: \"center\",\r\n                          height: \"30px\",\r\n                          paddingLeft: \"10px\",\r\n                        }}\r\n                      >\r\n                        <h1 className=\"subheader\" style={{ fontSize: \"12px\", marginTop: \"5px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                          {target}\r\n                        </h1>\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          alignContent: \"center\",\r\n                          height: \"20px\",\r\n                          paddingLeft: \"12px\",\r\n                        }}\r\n                      >\r\n                        <h1 className=\"subheader\" style={{ fontSize: \"10px\", marginTop: \"2px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                          {index === 1\r\n                            ? `-default: ${character[anchor][target].default - debuffResistance}`\r\n                            : `- default: ${character[anchor][target].default}`}\r\n                        </h1>\r\n                      </div>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          alignContent: \"center\",\r\n                          height: \"20px\",\r\n                          paddingLeft: \"12px\",\r\n                        }}\r\n                      >\r\n                        <h1 className=\"subheader\" style={{ fontSize: \"10px\", marginTop: \"2px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                          {`- mod: ${character[anchor][target].mod}`}\r\n                        </h1>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                <div style={{ marginBottom: \"20px\" }}>\r\n                  {statusTargets[index][1].map((target) => (\r\n                    <div key={`${anchor}-${target}-${index}`}>\r\n                      <div\r\n                        style={{\r\n                          display: \"flex\",\r\n                          justifyContent: \"space-between\",\r\n                          alignContent: \"center\",\r\n                          height: \"30px\",\r\n                          paddingLeft: \"10px\",\r\n                        }}\r\n                      >\r\n                        <h1 className=\"subheader\" style={{ fontSize: \"12px\", marginTop: \"5px\", float: \"left\", textTransform: \"capitalize\" }}>\r\n                          {`${target}`}\r\n                          <span className=\"subheader\" style={{ fontSize: \"10px\", verticalAlign: \"middle\" }}>\r\n                            {`: ${character[anchor][target]}`}\r\n                          </span>\r\n                        </h1>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <h1>uh oh, an error has occurred</h1>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"stats\" key={rerender}>\r\n      <div style={{ display: \"flex\", justifyContent: \"space-between\", marginBottom: \"10px\" }}>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"initial\", width: \"100px\", cursor: \"pointer\", backgroundColor: backgroundCalc(\"stats\") }}\r\n          onClick={() => select(\"stats\")}\r\n        >\r\n          stats\r\n        </button>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"initial\", width: \"150px\", cursor: \"pointer\", backgroundColor: backgroundCalc(\"attributes\") }}\r\n          onClick={() => select(\"attributes\")}\r\n        >\r\n          attributes\r\n        </button>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"initial\", width: \"100px\", cursor: \"pointer\", backgroundColor: backgroundCalc(\"perks\") }}\r\n          onClick={() => select(\"perks\")}\r\n        >\r\n          perks\r\n        </button>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"initial\", width: \"100px\", cursor: \"pointer\", backgroundColor: backgroundCalc(\"status\") }}\r\n          onClick={() => select(\"status\")}\r\n        >\r\n          status\r\n        </button>\r\n      </div>\r\n      <div className=\"divider-alternate\" style={{ marginBottom: \"15px\" }}></div>\r\n      <div className=\"stats-container\">{viewManager()}</div>\r\n      <div>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"left\", width: \"120px\", cursor: \"pointer\", marginTop: \"20px\", marginLeft: \"20px\", backgroundColor: \"#000\" }}\r\n          onClick={resetStat}\r\n        >\r\n          discard\r\n        </button>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"right\", width: \"120px\", cursor: \"pointer\", marginTop: \"20px\", marginRight: \"20px\", backgroundColor: \"green\" }}\r\n          onClick={finalize}\r\n        >\r\n          {characterLoad || refreshData ? <img src={Loading} alt=\"loading\" style={{ marginTop: \"-10px\" }} /> : \"finalize\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst UPDATE_CHARACTER_STATS = gql`\r\n  mutation updateCharacterStats(\r\n    $characterId: ID!\r\n    $capUsed: Int!\r\n    $statUsed: Int!\r\n    $mindCap: Int!\r\n    $bodyCap: Int!\r\n    $soulCap: Int!\r\n    $creation: Int!\r\n    $restoration: Int!\r\n    $destruction: Int!\r\n    $projection: Int!\r\n    $vitality: Int!\r\n    $defense: Int!\r\n    $strength: Int!\r\n    $dexterity: Int!\r\n    $luck: Int!\r\n    $capacity: Int!\r\n    $clarity: Int!\r\n    $will: Int!\r\n  ) {\r\n    updateCharacterStats(\r\n      updateCharacterStatsInput: {\r\n        characterId: $characterId\r\n        capUsed: $capUsed\r\n        statUsed: $statUsed\r\n        mindCap: $mindCap\r\n        bodyCap: $bodyCap\r\n        soulCap: $soulCap\r\n        creation: $creation\r\n        restoration: $restoration\r\n        destruction: $destruction\r\n        projection: $projection\r\n        vitality: $vitality\r\n        defense: $defense\r\n        strength: $strength\r\n        dexterity: $dexterity\r\n        luck: $luck\r\n        capacity: $capacity\r\n        clarity: $clarity\r\n        will: $will\r\n      }\r\n    ) {\r\n      id\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, memo } from \"react\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Minor Modules\r\nimport Item from \"./item\";\r\n\r\n//Contexts\r\nimport { DragContext } from \"../../helper/drag\";\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Assets\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nfunction Equipment({ equipmentId }) {\r\n  //General\r\n  const drag = useContext(DragContext);\r\n  const character = useContext(CharacterContext);\r\n\r\n  //Get Equipment\r\n  const { loading, data, refetch } = useQuery(FETCH_EQUIPMENT, { variables: { equipmentId }, pollInterval: 200 });\r\n\r\n  //Switch Items\r\n  const [switchItems] = useMutation(SWITCH_ITEMS, {\r\n    variables: { firstAnchor: drag.draggedFrom, secondAnchor: drag.draggedTo, firstTarget: drag.dragging, secondTarget: drag.draggedOn },\r\n  });\r\n\r\n  //Dragging\r\n  const dragStart = (event, target) => {\r\n    let img = new Image();\r\n    img.src = \"\";\r\n    event.dataTransfer.setDragImage(img, 0, 0);\r\n    drag.start({ firstAnchor: equipmentId, firstTarget: target });\r\n  };\r\n\r\n  const dragOver = (event, target) => {\r\n    event.preventDefault();\r\n    drag.over({ secondAnchor: equipmentId, secondTarget: target });\r\n  };\r\n\r\n  const finishDrag = async () => {\r\n    if (drag.draggedFrom && drag.draggedOn) {\r\n      if (drag.dragging.substring(0, 4) === \"slot\") {\r\n        let tempAbilities = character.abilities;\r\n        tempAbilities[drag.dragging] = null;\r\n        character.use(tempAbilities);\r\n      }\r\n      switchItems();\r\n      refetch();\r\n    }\r\n    drag.drop();\r\n  };\r\n\r\n  const backgroundCalculator = (slot) => {\r\n    if (drag.isDragging) {\r\n      if (slot === drag.dragging && equipmentId === drag.draggedFrom) {\r\n        return \"#000\";\r\n      }\r\n      if (slot === drag.draggedOn && equipmentId === drag.draggedTo) {\r\n        return \"#111\";\r\n      }\r\n    } else {\r\n      return \"#333\";\r\n    }\r\n  };\r\n\r\n  if (!loading) {\r\n    const inv = data.getEquipment;\r\n\r\n    return (\r\n      <div style={{ padding: \"7px\" }}>\r\n        <Grid\r\n          container\r\n          justify=\"center\"\r\n          style={{ backgroundColor: \"#111\", borderRadius: \"10px\", width: \"420px\", height: \"600\", border: \"2px solid black\" }}\r\n          spacing={2}\r\n        >\r\n          <Grid item xs={4}></Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Head</h1>\r\n              <div className=\"inventory\">\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"head\"), cursor: inv.head.item ? \"grab\" : \"default\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.head.item ? true : false}\r\n                  key={`${equipmentId}-head`}\r\n                  onDragStart={(e) => dragStart(e, \"head\")}\r\n                  onDragOver={(e) => dragOver(e, \"head\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.head.item ? <Item itemId={inv.head.item} type=\"head\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}></Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Left Hand</h1>\r\n              <div className=\"inventory\">\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"leftHand\"), cursor: inv.leftHand.item ? \"grab\" : \"default\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.leftHand.item ? true : false}\r\n                  key={`${equipmentId}-leftHand`}\r\n                  onDragStart={(e) => dragStart(e, \"leftHand\")}\r\n                  onDragOver={(e) => dragOver(e, \"leftHand\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.leftHand.item ? <Item itemId={inv.leftHand.item} type=\"leftHand\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Upper Body</h1>\r\n              <div className=\"inventory\" style={{ height: \"80px\" }}>\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"upperBody\"), cursor: inv.upperBody.item ? \"grab\" : \"default\", height: \"80px\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.upperBody.item ? true : false}\r\n                  key={`${equipmentId}-upperBody`}\r\n                  onDragStart={(e) => dragStart(e, \"upperBody\")}\r\n                  onDragOver={(e) => dragOver(e, \"upperBody\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.upperBody.item ? <Item itemId={inv.upperBody.item} type=\"upperBody\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Right Hand</h1>\r\n              <div className=\"inventory\">\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"rightHand\"), cursor: inv.rightHand.item ? \"grab\" : \"default\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.rightHand.item ? true : false}\r\n                  key={`${equipmentId}-rightHand`}\r\n                  onDragStart={(e) => dragStart(e, \"rightHand\")}\r\n                  onDragOver={(e) => dragOver(e, \"rightHand\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.rightHand.item ? <Item itemId={inv.rightHand.item} type=\"rightHand\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Ring</h1>\r\n              <div className=\"inventory\">\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"ringOne\"), cursor: inv.ringOne.item ? \"grab\" : \"default\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.ringOne.item ? true : false}\r\n                  key={`${equipmentId}-ringOne`}\r\n                  onDragStart={(e) => dragStart(e, \"ringOne\")}\r\n                  onDragOver={(e) => dragOver(e, \"ringOne\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.ringOne.item ? <Item itemId={inv.ringOne.item} type=\"ringOne\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Lower Body</h1>\r\n              <div className=\"inventory\">\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"lowerBody\"), cursor: inv.lowerBody.item ? \"grab\" : \"default\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.lowerBody.item ? true : false}\r\n                  key={`${equipmentId}-lowerBody`}\r\n                  onDragStart={(e) => dragStart(e, \"lowerBody\")}\r\n                  onDragOver={(e) => dragOver(e, \"lowerBody\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.lowerBody.item ? <Item itemId={inv.lowerBody.item} type=\"lowerBody\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Ring</h1>\r\n              <div className=\"inventory\">\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"ringTwo\"), cursor: inv.ringTwo.item ? \"grab\" : \"default\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.ringTwo.item ? true : false}\r\n                  key={`${equipmentId}-ringTwo`}\r\n                  onDragStart={(e) => dragStart(e, \"ringTwo\")}\r\n                  onDragOver={(e) => dragOver(e, \"ringTwo\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.ringTwo.item ? <Item itemId={inv.ringTwo.item} type=\"ringTwo\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}></Grid>\r\n          <Grid item xs={4}>\r\n            <div style={{ padding: \"5px\", backgroundColor: \"#222\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\">Feet</h1>\r\n              <div className=\"inventory\">\r\n                <li\r\n                  style={{ backgroundColor: backgroundCalculator(\"feet\"), cursor: inv.feet.item ? \"grab\" : \"default\" }}\r\n                  className=\"slot\"\r\n                  draggable={inv.feet.item ? true : false}\r\n                  key={`${equipmentId}-feet`}\r\n                  onDragStart={(e) => dragStart(e, \"feet\")}\r\n                  onDragOver={(e) => dragOver(e, \"feet\")}\r\n                  onDragLeave={drag.leave}\r\n                  onDrop={finishDrag}\r\n                >\r\n                  {inv.feet.item ? <Item itemId={inv.feet.item} type=\"feet\" status=\"equip\" /> : null}\r\n                </li>\r\n              </div>\r\n            </div>\r\n          </Grid>\r\n          <Grid item xs={4}></Grid>\r\n        </Grid>\r\n      </div>\r\n    );\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport default memo(Equipment);\r\n\r\nconst SWITCH_ITEMS = gql`\r\n  mutation switchItems($firstAnchor: ID!, $secondAnchor: ID!, $firstTarget: String!, $secondTarget: String!) {\r\n    switchItems(switchItemsInput: { firstAnchor: $firstAnchor, secondAnchor: $secondAnchor, firstTarget: $firstTarget, secondTarget: $secondTarget })\r\n  }\r\n`;\r\n\r\nconst FETCH_EQUIPMENT = gql`\r\n  query($equipmentId: ID!) {\r\n    getEquipment(equipmentId: $equipmentId) {\r\n      id\r\n      head {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      upperBody {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      lowerBody {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      feet {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      ringOne {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      ringTwo {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      leftHand {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      rightHand {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useState, useContext, useEffect, memo } from \"react\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Minor Modules\r\nimport Item from \"./item\";\r\n\r\n//Contexts\r\nimport { DragContext } from \"../../helper/drag\";\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Helpers\r\nimport { parseEquipped, abilityArray, slottedAbilityDetails } from \"../../helper/helpers\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\n//Assets\r\nimport Loading from \"../../assets/loading/donkey_web.gif\";\r\n\r\nfunction Character() {\r\n  //Data\r\n  const character = useContext(CharacterContext);\r\n  const drag = useContext(DragContext);\r\n\r\n  //Get Equipped items\r\n  const { loading: equipmentLoad, data: equipmentData } = useQuery(FETCH_EQUIPS, { variables: { equipmentId: character.equipment }, pollInterval: 1000 });\r\n\r\n  //Get Abilities\r\n  const { loading: abilitiesInvLoad, data: abilitiesInvData, refetch } = useQuery(FETCH_ABILITIES_INV, {\r\n    variables: { abilitiesInvId: character.abilitiesInv },\r\n    pollInterval: 200,\r\n  });\r\n\r\n  //Switch items\r\n  const [switchItems] = useMutation(SWITCH_ITEMS, {\r\n    variables: { firstAnchor: drag.draggedFrom, secondAnchor: drag.draggedTo, firstTarget: drag.dragging, secondTarget: drag.draggedOn },\r\n  });\r\n\r\n  const [changeSkin, {loading: skinLoad}] = useMutation(CHANGE_SKIN);\r\n\r\n  //Calculations\r\n  //stores stat values of items equipped\r\n  const [stat, setStat] = useState(parseEquipped(character.equipped));\r\n\r\n  //stores how many slots you have available persistently\r\n  const [slots, setSlots] = useState(abilityArray(character.slots + stat.slots));\r\n\r\n  //Values: used for vanity only\r\n  const [values, setValues] = useState({\r\n    skinIndex: \"\",\r\n    characterId: character.characterId,\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const resetValues = () => {\r\n    setValues({\r\n      skinIndex: \"\",\r\n      characterId: character.characterId,\r\n    });\r\n  };\r\n\r\n  //stores ability inventory (all ability slot id's)\r\n  const [storedAbilities, setStoredAbilities] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!equipmentLoad && equipmentData) {\r\n      let tempEquipment = equipmentData.getEquips;\r\n      character.equip(tempEquipment);\r\n      setStat(parseEquipped(character.equipped));\r\n      setSlots(abilityArray(character.slots + stat.slots));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [equipmentData]);\r\n\r\n  useEffect(() => {\r\n    if (!abilitiesInvLoad && abilitiesInvData) {\r\n      let tempAbilities = abilitiesInvData.getAbilitiesInv;\r\n      setStoredAbilities(tempAbilities);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [abilitiesInvData]);\r\n\r\n  //Display\r\n  const [selected, setSelected] = useState({\r\n    character: true,\r\n    stats: false,\r\n    relations: false,\r\n    vanity: false,\r\n    connections: false,\r\n    abilities: false,\r\n  });\r\n\r\n  const select = (target) => {\r\n    setSelected({ character: false, stats: false, relations: false, vanity: false, connections: false, abilities: false, [target]: true });\r\n  };\r\n\r\n  const backgroundCalc = (target) => {\r\n    if (selected[target]) {\r\n      return \"rgb(133, 20, 133)\";\r\n    } else {\r\n      return \"darkred\";\r\n    }\r\n  };\r\n\r\n  const colorCalc = (anchor) => {\r\n    if (anchor === \"mind\") {\r\n      return \"darkcyan\";\r\n    } else if (anchor === \"body\") {\r\n      return \"firebrick\";\r\n    } else if (anchor === \"soul\") {\r\n      return \"darkorchid\";\r\n    }\r\n  };\r\n\r\n  const backgroundCalculator = (slot) => {\r\n    if (drag.isDragging) {\r\n      if (slot === drag.dragging && character.abilitiesInv === drag.draggedFrom) {\r\n        return \"#000\";\r\n      }\r\n      if (slot === drag.draggedOn && character.abilitiesInv === drag.draggedTo) {\r\n        return \"#111\";\r\n      }\r\n    } else {\r\n      return \"#333\";\r\n    }\r\n  };\r\n\r\n  //mapping targets\r\n  const anchors = [\"mind\", \"body\", \"soul\"];\r\n  const targets = [\r\n    [\"creation\", \"destruction\", \"restoration\", \"projection\"],\r\n    [\"vitality\", \"defense\", \"strength\", \"dexterity\"],\r\n    [\"luck\", \"capacity\", \"clarity\", \"will\"],\r\n  ];\r\n\r\n  //TODO use this somewhere else\r\n  // let alignmentText;\r\n  // if (character.alignment > 300) alignmentText = \"King Incarnate\";\r\n  // if (character.alignment > 100) alignmentText = \"Saint\";\r\n  // if (character.alignment > 50) alignmentText = \"Hero\";\r\n  // if (character.alignment > 10) alignmentText = \"Good\";\r\n  // if (character.alignment <= 10 && character.alignment >= -10) alignmentText = \"Neutral\";\r\n  // if (character.alignment < -10) alignmentText = \"Impure\";\r\n  // if (character.alignment < -50) alignmentText = \"Asura\";\r\n  // if (character.alignment < -100) alignmentText = \"Sage\";\r\n  // if (character.alignment < -300) alignmentText = \"Demon Incarnate\";\r\n\r\n  //Dragging (abilities tab)\r\n  const dragStart = (event, target) => {\r\n    let img = new Image();\r\n    img.src = \"\";\r\n    event.dataTransfer.setDragImage(img, 0, 0);\r\n    drag.start({ firstAnchor: character.abilitiesInv, firstTarget: target });\r\n  };\r\n\r\n  const dragOver = (event, target) => {\r\n    event.preventDefault();\r\n    drag.over({ secondAnchor: character.abilitiesInv, secondTarget: target });\r\n  };\r\n\r\n  const finishDrag = async () => {\r\n    if (drag.draggedFrom && drag.draggedOn) {\r\n      if (drag.dragging.substring(0, 4) === \"slot\") {\r\n        let tempAbilities = character.abilities;\r\n        tempAbilities[drag.dragging] = null;\r\n        character.use(tempAbilities);\r\n      }\r\n      switchItems();\r\n      refetch();\r\n    }\r\n    drag.drop();\r\n  };\r\n\r\n  const capitalize = (word) => {\r\n    let string = word[0];\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  };\r\n\r\n  let healthMax = character.health.max + character.body.cap * 2 + character.body.vitality * 4 + stat.body.cap * 2 + stat.body.vitality * 4;\r\n  let healthRegen =\r\n    character.health.division + character.soul.cap + character.body.vitality + character.body.defense + stat.soul.cap + stat.body.vitality + stat.body.defense;\r\n  let manaMax =\r\n    character.mana.max +\r\n    character.mind.cap * 2 +\r\n    character.soul.capacity * 4 +\r\n    character.soul.clarity * 2 +\r\n    stat.mind.cap * 2 +\r\n    stat.soul.capacity * 4 +\r\n    stat.soul.clarity * 2;\r\n  let manaRegen =\r\n    character.mana.division +\r\n    character.soul.cap +\r\n    character.soul.clarity * 2 +\r\n    character.soul.capacity * 1 +\r\n    character.mind.cap * 0.25 +\r\n    stat.soul.cap +\r\n    stat.soul.clarity * 2 +\r\n    stat.soul.capacity * 1 +\r\n    stat.mind.cap * 0.25;\r\n  let staminaMax = character.stamina.max + character.body.strength * 4 + character.body.dexterity * 2 + stat.body.strength * 4 + stat.body.dexterity * 2;\r\n  let staminaRegen = character.stamina.division + character.body.strength + character.body.dexterity * 2 + stat.body.strength + stat.body.dexterity;\r\n  let shieldMax = character.shield.max + character.mind.projection * 5 + stat.mind.projection * 5;\r\n  let shieldRegen = character.shield.division + character.mind.projection * 0.5 + stat.mind.projection * 0.5;\r\n  let highestStat = Math.max(healthMax, manaMax, staminaMax, shieldMax);\r\n\r\n  let healthMeasure;\r\n  let manaMeasure;\r\n  let staminaMeasure;\r\n  let shieldMeasure;\r\n\r\n  let damageReduction = character.defRes + character.body.defense * 0.5 + character.soul.will * 0.25;\r\n  let debuffResistance = character.debuffRes + character.soul.will * 2 + character.body.defense * 0.5;\r\n\r\n  if (healthMax === highestStat) {\r\n    healthMeasure = \"100%\";\r\n    manaMeasure = `${(manaMax / healthMax) * 100}%`;\r\n    staminaMeasure = `${(staminaMax / healthMax) * 100}%`;\r\n    shieldMeasure = `${(shieldMax / healthMax) * 100}%`;\r\n  } else if (manaMax === highestStat) {\r\n    manaMeasure = \"100%\";\r\n    healthMeasure = `${(healthMax / manaMax) * 100}%`;\r\n    staminaMeasure = `${(staminaMax / manaMax) * 100}%`;\r\n    shieldMeasure = `${(shieldMax / manaMax) * 100}%`;\r\n  } else if (staminaMax === highestStat) {\r\n    staminaMeasure = \"100%\";\r\n    healthMeasure = `${(healthMax / staminaMax) * 100}%`;\r\n    manaMeasure = `${(manaMax / staminaMax) * 100}%`;\r\n    shieldMeasure = `${(shieldMax / staminaMax) * 100}%`;\r\n  } else if (shieldMax === highestStat) {\r\n    shieldMeasure = \"100%\";\r\n    healthMeasure = `${(healthMax / shieldMax) * 100}%`;\r\n    manaMeasure = `${(manaMax / shieldMax) * 100}%`;\r\n    staminaMeasure = `${(staminaMax / shieldMax) * 100}%`;\r\n  }\r\n\r\n  let expCalc = character.level.lvl * character.level.lvl * 10 + 5;\r\n\r\n  const viewManager = () => {\r\n    if (selected.character) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                {character.name}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}>\r\n            <h1 className=\"subheader\">{`EXP: ${character.level.xp}/${expCalc}`}</h1>\r\n            <div style={{ backgroundColor: \"#111\", paddingTop: \"10px\", marginTop: \"10px\", paddingBottom: \"10px\", height: \"350px\", borderRadius: \"5px\" }}>\r\n              <div style={{ padding: \"10px\" }}>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"12px\", textAlign: \"left\", marginLeft: \"8px\" }}>\r\n                  {`Health: ${character.health.current}/${healthMax}`}\r\n                </h1>\r\n                <div\r\n                  className=\"stat-bar\"\r\n                  data-total={`${healthMax}`}\r\n                  data-value={`${character.health.current}`}\r\n                  style={{ width: healthMeasure, marginRight: \"auto\" }}\r\n                >\r\n                  <div className=\"bar\" style={{ background: \"#c54\" }}>\r\n                    <div className=\"hit\"></div>\r\n                  </div>\r\n                </div>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"6px\", marginTop: \"5px\" }}>\r\n                  {`  regen: ${healthRegen} per turn`}\r\n                </h1>\r\n              </div>\r\n              <div style={{ padding: \"10px\" }}>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"12px\", textAlign: \"left\", marginLeft: \"8px\" }}>\r\n                  {`Mana: ${character.mana.current}/${manaMax}`}\r\n                </h1>\r\n                <div\r\n                  className=\"stat-bar\"\r\n                  data-total={`${manaMax}`}\r\n                  data-value={`${character.mana.current}`}\r\n                  style={{ width: manaMeasure, marginRight: \"auto\" }}\r\n                >\r\n                  <div className=\"bar\" style={{ background: \"#4474cc\" }}>\r\n                    <div className=\"hit\"></div>\r\n                  </div>\r\n                </div>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"6px\", marginTop: \"5px\" }}>\r\n                  {`  regen: ${manaRegen} per turn`}\r\n                </h1>\r\n              </div>\r\n              <div style={{ padding: \"10px\" }}>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"12px\", textAlign: \"left\", marginLeft: \"8px\" }}>\r\n                  {`Stamina: ${character.stamina.current}/${staminaMax}`}\r\n                </h1>\r\n                <div\r\n                  className=\"stat-bar\"\r\n                  data-total={`${staminaMax}`}\r\n                  data-value={`${character.stamina.current}`}\r\n                  style={{ width: staminaMeasure, marginRight: \"auto\" }}\r\n                >\r\n                  <div className=\"bar\" style={{ background: \"#44cc64\" }}>\r\n                    <div className=\"hit\"></div>\r\n                  </div>\r\n                </div>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"6px\", marginTop: \"5px\" }}>\r\n                  {`  regen: ${staminaRegen} per turn`}\r\n                </h1>\r\n              </div>\r\n              <div style={{ padding: \"10px\", marginBottom: \"5px\" }}>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"12px\", textAlign: \"left\", marginLeft: \"8px\" }}>\r\n                  {`Shield: ${character.shield.current}/${shieldMax}`}\r\n                </h1>\r\n                {shieldMax > 0 ? (\r\n                  <div\r\n                    className=\"stat-bar\"\r\n                    data-total={`${shieldMax}`}\r\n                    data-value={`${character.shield.current}`}\r\n                    style={{ width: shieldMeasure, marginRight: \"auto\", minWidth: \"20px\" }}\r\n                  >\r\n                    <div className=\"bar\" style={{ background: \"#7132a8\" }}>\r\n                      <div className=\"hit\"></div>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n\r\n                <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"6px\", marginTop: \"5px\" }}>\r\n                  {`  regen: ${shieldRegen} flat and 10% max shield per turn`}\r\n                </h1>\r\n              </div>\r\n              <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"16px\", marginTop: \"5px\" }}>\r\n                {`  Damage reduction: ${damageReduction}`}\r\n              </h1>\r\n              <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"16px\", marginTop: \"5px\" }}>\r\n                {`  Debuff Resistance: ${debuffResistance}`}\r\n              </h1>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.stats) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"20px\" }}>\r\n            <Grid container alignItems=\"flex-end\" style={{ marginTop: \"10px\" }}>\r\n              <Grid item xs={3}></Grid>\r\n              <Grid item xs={3}>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"12px\" }}>\r\n                  total\r\n                </h1>\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"12px\" }}>\r\n                  stats\r\n                </h1>\r\n              </Grid>\r\n              <Grid item xs={3}>\r\n                <h1 className=\"subheader\" style={{ fontSize: \"12px\" }}>\r\n                  equips\r\n                </h1>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}>\r\n            <div>\r\n              {anchors.map((anchor, index) => (\r\n                <Grid container style={{ color: colorCalc(anchor), marginBottom: \"18px\" }} key={`${anchor}-${index}`}>\r\n                  <Grid item xs={3}>\r\n                    <h1 className=\"subheader\" style={{ fontSize: \"14px\", textTransform: \"capitalize\", textAlign: \"right\" }}>\r\n                      {`${anchor} Cap`}\r\n                    </h1>\r\n                  </Grid>\r\n                  <Grid item xs={3} className=\"text-outline\">\r\n                    <h1 className=\"subheader\" style={{ fontSize: \"14px\" }}>\r\n                      {`${character[anchor].cap + stat[anchor].cap}`}\r\n                    </h1>\r\n                  </Grid>\r\n                  <Grid item xs={3}>\r\n                    <h1 className=\"subheader\" style={{ fontSize: \"12px\" }}>\r\n                      {character[anchor].cap}\r\n                    </h1>\r\n                  </Grid>\r\n                  <Grid item xs={3}>\r\n                    <h1 className=\"subheader\" style={{ fontSize: \"12px\" }}>\r\n                      {stat[anchor].cap}\r\n                    </h1>\r\n                  </Grid>\r\n                  {targets[index].map((target, targetIndex) => (\r\n                    <Grid item xs={12} style={{ marginBottom: \"3px\", marginTop: targetIndex === 0 ? \"3px\" : \"0px\" }} key={`${anchor}-${target}`}>\r\n                      <Grid container>\r\n                        <Grid item xs={3}>\r\n                          <h1 className=\"subheader\" style={{ fontSize: \"11px\", textTransform: \"capitalize\", textAlign: \"right\" }}>\r\n                            {`${target}`}\r\n                          </h1>\r\n                        </Grid>\r\n                        <Grid item xs={3} className=\"text-outline\">\r\n                          <h1 className=\"subheader\" style={{ fontSize: \"14px\" }}>\r\n                            {`${character[anchor][target] + stat[anchor][target]}`}\r\n                          </h1>\r\n                        </Grid>\r\n                        <Grid item xs={3}>\r\n                          <h1 className=\"subheader\" style={{ fontSize: \"11px\" }}>\r\n                            {character[anchor][target]}\r\n                          </h1>\r\n                        </Grid>\r\n                        <Grid item xs={3}>\r\n                          <h1 className=\"subheader\" style={{ fontSize: \"11px\" }}>\r\n                            {stat[anchor][target]}\r\n                          </h1>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  ))}\r\n                </Grid>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.abilities) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Abilities\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}>\r\n            {slots.map((slot, index) => (\r\n              <Grid\r\n                container\r\n                alignItems=\"center\"\r\n                style={{\r\n                  padding: \"10px\",\r\n                  backgroundColor: \"#222\",\r\n                  borderRadius: \"5px\",\r\n                  width: \"100%\",\r\n                  minHeight: \"200px\",\r\n                  marginBottom: \"20px\",\r\n                  border: \"2px solid black\",\r\n                }}\r\n                key={`${character.id}-${slot}`}\r\n              >\r\n                <Grid item xs={2}>\r\n                  <div className=\"inventory\" style={{ height: \"60px\", width: \"60px\", backgroundColor: \"#000\", marginBottom: \"-10px\" }}>\r\n                    <li\r\n                      style={{ backgroundColor: backgroundCalculator(slot), cursor: storedAbilities[slot].item ? \"grab\" : \"default\" }}\r\n                      className=\"slot\"\r\n                      draggable={storedAbilities[slot].item ? true : false}\r\n                      onDragStart={(e) => dragStart(e, slot)}\r\n                      onDragOver={(e) => dragOver(e, slot)}\r\n                      onDragLeave={drag.leave}\r\n                      onDrop={finishDrag}\r\n                    >\r\n                      {storedAbilities[slot].item ? <Item itemId={storedAbilities[slot].item} status=\"slottedAbility\" slot={slot} /> : null}\r\n                    </li>\r\n                  </div>\r\n                </Grid>\r\n                <Grid item xs={10} style={{ paddingTop: \"8px\", paddingLeft: \"15px\" }}>\r\n                  <Grid item xs={12} style={{ height: \"20px\" }}>\r\n                    <Grid container>\r\n                      <Grid item xs={6}>\r\n                        <h1 className=\"subheader\" style={{ fontSize: \"14px\", textAlign: \"left\", marginLeft: \"15px\" }}>\r\n                          {character.abilities[slot] ? character.abilities[slot].name : \"\"}\r\n                        </h1>\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <h1 className=\"subheader\" style={{ fontSize: \"12px\" }}>\r\n                          {character.abilities[slot] ? `level ${character.abilities[slot].ability.lvl}` : \"\"}\r\n                        </h1>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <div style={{ display: \"flex\", alignItems: \"flex-end\" }}>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{\r\n                        fontSize: \"15px\",\r\n                        textAlign: \"left\",\r\n                        marginTop: \"2px\",\r\n                        lineHeight: \"1.6\",\r\n                        fontFamily: \"Piazzolla\",\r\n                        backgroundColor: \"#111\",\r\n                        borderRadius: \"5px\",\r\n                        padding: \"5px\",\r\n                        paddingLeft: \"10px\",\r\n                        marginLeft: \"-5px\",\r\n                        width: \"100%\",\r\n                        height: \"55px\",\r\n                      }}\r\n                    >\r\n                      {character.abilities[slot] ? character.abilities[slot].desc : \"\"}\r\n                    </h1>\r\n                  </div>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={12}\r\n                  style={{\r\n                    padding: \"5px\",\r\n                    paddingLeft: \"8px\",\r\n                    paddingRight: \"8px\",\r\n                    backgroundColor: \"#111\",\r\n                    borderRadius: \"5px\",\r\n                    minHeight: \"80px\",\r\n                  }}\r\n                >\r\n                  {character.abilities[slot] ? slottedAbilityDetails(character.abilities[slot], character, stat).map((field) => field) : \"\"}\r\n                </Grid>\r\n              </Grid>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.relations) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                relations (WIP)\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}></div>\r\n        </div>\r\n      );\r\n    } else if (selected.vanity) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Vanity\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}>\r\n            <Grid container>\r\n              <Grid item xs={12}>\r\n                {\" \"}\r\n                <img\r\n                  src={require(`../../assets/skins/${character.skins[0]}.jpg`)}\r\n                  style={{ height: \"200px\", borderRadius: \"5px\", border: \"2.5px solid #222\" }}\r\n                  alt={`character graphic for ${character.skins[0]}`}\r\n                />\r\n                <h1 className=\"subheader\">{capitalize(character.skins[0])}</h1>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <label htmlFor=\"skinSelect\">Select Skin</label>\r\n                <select id=\"skinSelect\" name=\"skinIndex\" value={values.skinIndex} onChange={handleChange}>\r\n                  <option value=\"\"></option>\r\n                  {character.skins[1].map((skin, index) => (\r\n                    <option key={skin} value={index}>\r\n                      {skin}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <button\r\n                  className=\"submit-button\"\r\n                  onClick={() => {\r\n                    if (values.skinIndex) {\r\n                      let newValues = values;\r\n                      newValues.skinIndex = parseInt(newValues.skinIndex);\r\n                      setValues(newValues);\r\n                      changeSkin({ variables: values });\r\n                    }\r\n                  }}\r\n                  style={{ marginBottom: \"10px\", width: \"82.5%\", marginTop: \"auto\" }}\r\n                  disabled={skinLoad}\r\n                >\r\n                  {skinLoad ? <img src={Loading} alt=\"loading\" style={{ marginTop: \"-10px\" }} /> : \"Change Skin\"}\r\n                </button>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.connections) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                connections (WIP)\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"400px\" }}></div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <h1>uh oh, an error has occurred</h1>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"stats\" style={{ width: \"520px\" }}>\r\n      <Grid style={{ marginBottom: \"10px\", width: \"100%\" }} container justify=\"space-between\" align=\"start\" spacing={1}>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"character\") }} onClick={() => select(\"character\")}>\r\n            character\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"stats\") }} onClick={() => select(\"stats\")}>\r\n            stats\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"abilities\") }} onClick={() => select(\"abilities\")}>\r\n            abilities\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"relations\") }} onClick={() => select(\"relations\")}>\r\n            relations\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"connections\") }} onClick={() => select(\"connections\")}>\r\n            connections\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"vanity\") }} onClick={() => select(\"vanity\")}>\r\n            vanity\r\n          </button>\r\n        </Grid>\r\n      </Grid>\r\n      <div className=\"divider-alternate\" style={{ marginBottom: \"15px\" }}></div>\r\n      {character.name ? <div className=\"stats-container\">{viewManager()}</div> : \"\"}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default memo(Character);\r\n\r\nconst SWITCH_ITEMS = gql`\r\n  mutation switchItems($firstAnchor: ID!, $secondAnchor: ID!, $firstTarget: String!, $secondTarget: String!) {\r\n    switchItems(switchItemsInput: { firstAnchor: $firstAnchor, secondAnchor: $secondAnchor, firstTarget: $firstTarget, secondTarget: $secondTarget })\r\n  }\r\n`;\r\n\r\nconst CHANGE_SKIN = gql`\r\n  mutation changeSkin($skinIndex: Int!, $characterId: ID!) {\r\n    changeSkin(skinIndex: $skinIndex, characterId: $characterId) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_EQUIPS = gql`\r\n  query($equipmentId: ID!) {\r\n    getEquips(equipmentId: $equipmentId) {\r\n      head {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      upperBody {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      lowerBody {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      feet {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      leftHand {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      rightHand {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      ringOne {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      ringTwo {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_ABILITIES_INV = gql`\r\n  query($abilitiesInvId: ID!) {\r\n    getAbilitiesInv(abilitiesInvId: $abilitiesInvId) {\r\n      slotOne {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotTwo {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotThree {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotFour {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotFive {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotSix {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotSeven {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotEight {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotNine {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotTen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotEleven {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotTwelve {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotThirteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotFourteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotFifteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotSixteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotSeventeen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotEighteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotNineteen {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n      slotTwenty {\r\n        item\r\n        enchantments {\r\n          target\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, {useContext } from \"react\";\r\nimport {useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n//Contexts\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nexport default function Dungeon() {\r\n  //Context\r\n  const charContext = useContext(CharacterContext);\r\n\r\n  //Graphql\r\n  const { loading: dungeonLoad, data: dungeonData } = useQuery(FETCH_DUNGEON, { variables: { dungeonId: charContext.place } });\r\n  const { loading: playersLoad, data: playersData } = useQuery(FETCH_PLAYERS, { variables: { dungeonId: charContext.place }, pollInterval: 200 });\r\n\r\n  const tokenCalc = (dungeon) => {\r\n    console.log(dungeon.players);\r\n    const index = dungeon.players.indexOf(charContext.characterId);\r\n    return dungeon.tokens[index];\r\n  };\r\n\r\n  return (\r\n    <div className=\"stats-container\" style={{ height: \"525px\", width: \"550px\" }}>\r\n      <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n        <div style={{ display: \"block\", height: \"45px\" }}>\r\n          <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n            <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n              Players\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"divider\"></div>\r\n        <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"440px\" }}>\r\n          {!dungeonLoad && dungeonData && !playersLoad && playersData ? (\r\n            <div>\r\n              <h1 className=\"subheader\"> {`You currently have ${tokenCalc(dungeonData.getDungeon)} tokens`}</h1>\r\n              {playersData.getPlayers.map((character, index) => (\r\n                <div\r\n                  key={character.id}\r\n                  style={{\r\n                    padding: \"5px\",\r\n                    borderRadius: \"5px\",\r\n                    border: \"3.5px solid #222\",\r\n                    backgroundColor: \"#000\",\r\n                    userSelect: \"none\",\r\n                    marginBottom: \"15px\",\r\n                    boxShadow: \"0px 10px 7px -5px #000000\",\r\n                  }}\r\n                >\r\n                  <Grid container style={{ borderRadius: \"5px\" }}>\r\n                    <Grid item xs={6}>\r\n                      <img\r\n                        src={require(`../../assets/skins/${character.skins[0]}.jpg`)}\r\n                        style={{ width: \"100%\", borderRadius: \"5px\" }}\r\n                        alt={`character graphic for ${character.skins[0]}`}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                      <div style={{ marginLeft: \"10px\", paddingRight: \"5px\" }}>\r\n                        <h1 className=\"stats-text-alternate\" style={{ fontSize: \"26px\", height: \"30px\", marginTop: \"2px\", marginBottom: \"5px\" }}>\r\n                          {character.name}\r\n                        </h1>\r\n                        <h1\r\n                          className=\"subheader\"\r\n                          style={{\r\n                            fontSize: \"12px\",\r\n                            height: \"15\",\r\n                            lineHeight: \"1.2\",\r\n                            padding: \"5px\",\r\n                            paddingTop: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            backgroundColor: \"#111\",\r\n                          }}\r\n                        >{`Level ${character.level.lvl} ${character.spirit}`}</h1>\r\n                        <h1\r\n                          className=\"subheader\"\r\n                          style={{\r\n                            fontSize: \"10px\",\r\n                            height: \"15\",\r\n                            lineHeight: \"2\",\r\n                            padding: \"5px\",\r\n                            paddingTop: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            backgroundColor: \"#111\",\r\n                          }}\r\n                        >\r\n                          Tokens per Room: &nbsp;&nbsp;&nbsp;&thinsp;&thinsp;&thinsp;&thinsp;&thinsp;{`${dungeonData.getDungeon.tokenDistribution[index]}`}\r\n                        </h1>\r\n                        <h1\r\n                          className=\"subheader\"\r\n                          style={{\r\n                            fontSize: \"10px\",\r\n                            height: \"15\",\r\n                            lineHeight: \"2\",\r\n                            padding: \"5px\",\r\n                            paddingTop: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            backgroundColor: \"#111\",\r\n                          }}\r\n                        >{`Total Tokens Earned: ${dungeonData.getDungeon.totalTokens[index]}`}</h1>\r\n                      </div>\r\n                    </Grid>\r\n                  </Grid>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            \"Loading...\"\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst FETCH_DUNGEON = gql`\r\n  query($dungeonId: ID!) {\r\n    getDungeon(dungeonId: $dungeonId) {\r\n      players\r\n      tokens\r\n      totalTokens\r\n      tokenDistribution\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_PLAYERS = gql`\r\n  query($dungeonId: ID!) {\r\n    getPlayers(dungeonId: $dungeonId) {\r\n      name\r\n      skins\r\n      spirit\r\n      level {\r\n        lvl\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, useState } from \"react\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Context\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nexport default function Players({ players, turn}) {\r\n  const character = useContext(CharacterContext);\r\n\r\n  const getWidth = (healthMax, manaMax, staminaMax, shieldMax) => {\r\n    let highestStat = Math.max(healthMax, manaMax, staminaMax, shieldMax);\r\n    let healthMeasure;\r\n    let manaMeasure;\r\n    let staminaMeasure;\r\n    let shieldMeasure;\r\n\r\n    if (healthMax === highestStat) {\r\n      healthMeasure = \"100%\";\r\n      manaMeasure = `${(manaMax / healthMax) * 100}%`;\r\n      staminaMeasure = `${(staminaMax / healthMax) * 100}%`;\r\n      shieldMeasure = `${(shieldMax / healthMax) * 100}%`;\r\n    } else if (manaMax === highestStat) {\r\n      manaMeasure = \"100%\";\r\n      healthMeasure = `${(healthMax / manaMax) * 100}%`;\r\n      staminaMeasure = `${(staminaMax / manaMax) * 100}%`;\r\n      shieldMeasure = `${(shieldMax / manaMax) * 100}%`;\r\n    } else if (staminaMax === highestStat) {\r\n      staminaMeasure = \"100%\";\r\n      healthMeasure = `${(healthMax / staminaMax) * 100}%`;\r\n      manaMeasure = `${(manaMax / staminaMax) * 100}%`;\r\n      shieldMeasure = `${(shieldMax / staminaMax) * 100}%`;\r\n    } else if (shieldMax === highestStat) {\r\n      shieldMeasure = \"100%\";\r\n      healthMeasure = `${(healthMax / shieldMax) * 100}%`;\r\n      manaMeasure = `${(manaMax / shieldMax) * 100}%`;\r\n      staminaMeasure = `${(staminaMax / shieldMax) * 100}%`;\r\n    }\r\n\r\n    return { healthMeasure, manaMeasure, staminaMeasure, shieldMeasure };\r\n  };\r\n\r\n  const calcHit = (curr, max) => {\r\n    if(curr > max){\r\n      return \"0%\"\r\n    } else if(curr <= 0){\r\n      return \"100%\"\r\n    } else {\r\n      return `${(1 - curr / max) * 100}%`\r\n    }\r\n  }\r\n\r\n  const playerDisplay = (player) => {\r\n    let measures = getWidth(player.health.max, player.mana.max, player.stamina.max, player.shield.max);\r\n    let healthHit = calcHit(player.health.current, player.health.max);\r\n    let manaHit = calcHit(player.mana.current, player.mana.max);\r\n    let staminaHit = calcHit(player.stamina.current, player.stamina.max);\r\n    let shieldHit = calcHit(player.shield.current, player.shield.max);\r\n\r\n    return (\r\n      <Grid item xs={2} key={player.id}>\r\n        <div style={{ borderRadius: \"5px\", border: player.id === turn[0][0] ? \"2px solid #918959\" : \"2px solid #111\", padding: \"10px\", height: \"100%\" }}>\r\n          <h1 className=\"subheader\">{player.name}</h1>\r\n          <img\r\n            src={require(`../../assets/skins/${player.skin}.jpg`)}\r\n            style={{ width: \"80%\", borderRadius: \"5px\" }}\r\n            alt={`character graphic for ${player.name}`}\r\n          />\r\n          <div style={{ marginTop: \"4px\", border: \"2px solid #111\", padding: \"3px\", borderRadius: \"4px\" }}>\r\n            <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"2px\" }}>\r\n              {`${player.health.current}/${player.health.max} - Health`}\r\n            </h1>\r\n            <div className=\"stat-bar\" style={{ width: measures.healthMeasure, marginRight: \"auto\" }}>\r\n              <div className=\"bar\" style={{ background: \"#c54\" }}>\r\n                <div className=\"hit\" style={{ width: healthHit }}></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginTop: \"4px\", border: \"2px solid #111\", padding: \"3px\", borderRadius: \"4px\" }}>\r\n            <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"2px\" }}>\r\n              {`${player.mana.current}/${player.mana.max} - Mana`}\r\n            </h1>\r\n            <div className=\"stat-bar\" style={{ width: measures.manaMeasure, marginRight: \"auto\" }}>\r\n              <div className=\"bar\" style={{ background: \"#4474cc\" }}>\r\n                <div className=\"hit\" style={{ width: manaHit }}></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div style={{ marginTop: \"4px\", border: \"2px solid #111\", padding: \"3px\", borderRadius: \"4px\" }}>\r\n            <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"2px\" }}>\r\n              {`${player.stamina.current}/${player.stamina.max} - Stamina`}\r\n            </h1>\r\n            <div className=\"stat-bar\" style={{ width: measures.staminaMeasure, marginRight: \"auto\" }}>\r\n              <div className=\"bar\" style={{ background: \"#44cc64\" }}>\r\n                <div className=\"hit\" style={{ width: staminaHit }}></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {measures.shieldMeasure !== \"0%\" && (\r\n            <div style={{ marginTop: \"4px\", border: \"2px solid #111\", padding: \"3px\", borderRadius: \"5px\" }}>\r\n              <h1 className=\"subheader\" style={{ fontSize: \"10px\", textAlign: \"left\", marginLeft: \"2px\" }}>\r\n                {`${player.shield.current}/${player.shield.max} - Shield`}\r\n              </h1>\r\n              <div className=\"stat-bar\" style={{ width: measures.shieldMeasure, marginRight: \"auto\" }}>\r\n                <div className=\"bar\" style={{ background: \"#7132a8\" }}>\r\n                  <div className=\"hit\" style={{ width: shieldHit }}></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Grid container spacing={2}>\r\n        {players.map((player) => playerDisplay(player))}\r\n      </Grid>\r\n    </div>\r\n  );\r\n}\r\n","//General\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Context\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nexport default function Occupant({ occupant, turn}) {\r\n  const getWidth = (healthMax, shieldMax) => {\r\n    let highestStat = Math.max(healthMax, shieldMax);\r\n    let healthMeasure;\r\n    let shieldMeasure;\r\n\r\n    if (healthMax === highestStat) {\r\n      healthMeasure = \"100%\";\r\n      shieldMeasure = `${(shieldMax / healthMax) * 100}%`;\r\n    } else if (shieldMax === highestStat) {\r\n      shieldMeasure = \"100%\";\r\n      healthMeasure = `${(healthMax / shieldMax) * 100}%`;\r\n    }\r\n\r\n    return { healthMeasure, shieldMeasure };\r\n  };\r\n\r\n  let measures = getWidth(occupant.health.max, occupant.shield.max);\r\n\r\n  const [healthWidth, setHealthWidth] = useState(`${(1 - occupant.health.current / occupant.health.max) * 100}%`);\r\n\r\n  const calcHealth = () => {\r\n    if(occupant.health.current > occupant.health.max){\r\n      setHealthWidth(\"0%\")\r\n    } else if(occupant.health.current <= 0){\r\n      setHealthWidth(\"100%\")\r\n    } else {\r\n      setHealthWidth(`${(1 - occupant.health.current / occupant.health.max) * 100}%`);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    calcHealth();\r\n  }, [occupant.health])\r\n\r\n  const occupantDisplay = (\r\n    <div style={{ height: \"100%\", padding: \"10px\"}}>\r\n      <h1 className=\"subheader\" style={{fontSize: \"20px\", color: occupant.id === turn[0][0] && \"darkred\"}}>{occupant.name}</h1>\r\n      <div style={{ width: \"70%\" }}>\r\n        <div style={{ marginTop: \"20px\" }}>\r\n          <h1 className=\"subheader\" style={{ fontSize: \"12px\", textAlign: \"left\", marginLeft: \"2px\" }}>\r\n            {`${occupant.health.current}/${occupant.health.max} - Health`}\r\n          </h1>\r\n          <div className=\"stat-bar\" style={{ width: measures.healthMeasure, marginRight: \"auto\" }}>\r\n            <div className=\"bar\" style={{ background: \"#c54\" }}>\r\n              <div className=\"hit\" style={{ width: healthWidth, maxWidth: \"100%\", minWidth: \"0%\"}}></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {measures.shieldMeasure !== \"0%\" && (\r\n          <div style={{ marginTop: \"20px\" }}>\r\n            <h1 className=\"subheader\" style={{ fontSize: \"12px\", textAlign: \"left\", marginLeft: \"2px\" }}>\r\n              {`${occupant.shield.current}/${occupant.shield.max} - Shield`}\r\n            </h1>\r\n            <div className=\"stat-bar\" style={{ width: measures.shieldMeasure, marginRight: \"auto\" }}>\r\n              <div className=\"bar\" style={{ background: \"#7132a8\" }}>\r\n                <div className=\"hit\" style={{ width: `${(1 - occupant.shield.current / occupant.shield.max) * 100}%` }}></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <img\r\n        src={require(`../../assets/skins/${occupant.skin}.jpg`)}\r\n        style={{ height: \"350px\", borderRadius: \"5px\" }}\r\n        alt={`character graphic for ${occupant.name}`}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  return occupantDisplay;\r\n}\r\n","//General\r\nimport React, { memo, useContext, useEffect, useState } from \"react\";\r\nimport { useQuery, useMutation} from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Contexts\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nfunction AbilityButton({ itemId, slot }) {\r\n  //Context\r\n  const character = useContext(CharacterContext);\r\n\r\n  //Get Item\r\n  const { loading: itemLoad, data: itemData } = useQuery(FETCH_ITEM, { variables: { itemId } });\r\n  const [sendAbility, { loading: sendAbilityLoad }] = useMutation(SEND_ABILITY);\r\n\r\n  //Getting ability off of item\r\n  let loadingAbility = itemData ? false : true;\r\n  let abilityId = itemData ? itemData.getItem.ability : \"\";\r\n  const { loading: abilityLoad, data: abilityData } = useQuery(FETCH_ABILITY, {\r\n    skip: loadingAbility,\r\n    variables: { abilityId: abilityId },\r\n  });\r\n\r\n  if (!itemLoad && itemData && !abilityLoad && abilityData) {\r\n    return (\r\n      <Grid item xs={6}>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ display: \"flex\", alignItems: \"center\", height: \"60px\", width: \"80%\", backgroundColor: \"#111\", cursor: \"pointer\" }}\r\n          onClick={() => {\r\n            sendAbility({ variables: { characterId: character.characterId, dungeonId: character.place, slot: slot } });\r\n          }}\r\n        >\r\n          <Grid container justify=\"center\" alignItems=\"center\">\r\n            <Grid item xs={5} md={3}>\r\n              <object\r\n                className=\"item\"\r\n                style={{ height: \"48px\", width: \"48px\", cursor: \"grab\" }}\r\n                data={require(`../../assets/items/${abilityData.getAbility.tag}.svg`)}\r\n                type=\"image/svg+xml\"\r\n              >\r\n                <img src={require(`../../assets/items/${abilityData.getAbility.tag}.svg`)} alt={abilityData.getAbility.name} />\r\n              </object>\r\n            </Grid>\r\n            <Grid item xs={7} md={9}>\r\n              <span className=\"subheader\" style={{ marginLeft: \"20px\" }}>\r\n                {itemData.getItem.name}\r\n              </span>\r\n            </Grid>\r\n          </Grid>\r\n        </button>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nexport default memo(AbilityButton);\r\n\r\nconst FETCH_ITEM = gql`\r\n  query($itemId: ID!) {\r\n    getItem(itemId: $itemId) {\r\n      name\r\n      desc\r\n      path\r\n      type\r\n      ability\r\n      slots\r\n      mind {\r\n        cap\r\n        creation\r\n        restoration\r\n        destruction\r\n        projection\r\n      }\r\n      body {\r\n        cap\r\n        vitality\r\n        defense\r\n        strength\r\n        dexterity\r\n      }\r\n      soul {\r\n        luck\r\n        capacity\r\n        clarity\r\n        will\r\n      }\r\n      essence {\r\n        focus\r\n        value\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_ABILITY = gql`\r\n  query($abilityId: ID!) {\r\n    getAbility(abilityId: $abilityId) {\r\n      id\r\n      tag\r\n      lvl\r\n      target\r\n      healthCost\r\n      manaCost\r\n      staminaCost\r\n      shieldCost\r\n      mindReq\r\n      bodyReq\r\n      soulReq\r\n      repeatable {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      mindRepeat {\r\n        cap\r\n        creation\r\n        destruction\r\n        restoration\r\n        projection\r\n      }\r\n      bodyRepeat {\r\n        cap\r\n        vitality\r\n        defense\r\n        strength\r\n        dexterity\r\n      }\r\n      soulRepeat {\r\n        cap\r\n        luck\r\n        capacity\r\n        clarity\r\n        will\r\n      }\r\n      effects {\r\n        name\r\n        target\r\n        turns\r\n        modifiers {\r\n          target\r\n          scale {\r\n            health {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            stamina {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            mana {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            shield {\r\n              max\r\n              current\r\n              division\r\n            }\r\n            mind {\r\n              cap\r\n              creation\r\n              destruction\r\n              restoration\r\n              projection\r\n            }\r\n            body {\r\n              cap\r\n              vitality\r\n              defense\r\n              strength\r\n              dexterity\r\n            }\r\n            soul {\r\n              cap\r\n              luck\r\n              capacity\r\n              clarity\r\n              will\r\n            }\r\n            attributes {\r\n              space {\r\n                default\r\n                mod\r\n              }\r\n              time {\r\n                default\r\n                mod\r\n              }\r\n              death {\r\n                default\r\n                mod\r\n              }\r\n              life {\r\n                default\r\n                mod\r\n              }\r\n              fire {\r\n                default\r\n                mod\r\n              }\r\n              water {\r\n                default\r\n                mod\r\n              }\r\n              earth {\r\n                default\r\n                mod\r\n              }\r\n              air {\r\n                default\r\n                mod\r\n              }\r\n            }\r\n            debuffs {\r\n              fear {\r\n                default\r\n                mod\r\n              }\r\n              burn {\r\n                default\r\n                mod\r\n              }\r\n              freeze {\r\n                default\r\n                mod\r\n              }\r\n              shock {\r\n                default\r\n                mod\r\n              }\r\n              toxin {\r\n                default\r\n                mod\r\n              }\r\n              decay {\r\n                default\r\n                mod\r\n              }\r\n              bleed {\r\n                default\r\n                mod\r\n              }\r\n              exhaustion {\r\n                default\r\n                mod\r\n              }\r\n              explosion\r\n              paralysis\r\n              frozen\r\n              scorched\r\n            }\r\n            buffs {\r\n              regen {\r\n                default\r\n                mod\r\n              }\r\n              dread {\r\n                default\r\n                mod\r\n              }\r\n              poison {\r\n                default\r\n                mod\r\n              }\r\n              scorch {\r\n                default\r\n                mod\r\n              }\r\n              cold {\r\n                default\r\n                mod\r\n              }\r\n              spark {\r\n                default\r\n                mod\r\n              }\r\n              reflect {\r\n                default\r\n                mod\r\n              }\r\n              summon {\r\n                default\r\n                mod\r\n              }\r\n              taunt {\r\n                default\r\n                mod\r\n              }\r\n              flee {\r\n                default\r\n                mod\r\n              }\r\n              immortal\r\n              strong\r\n              warped\r\n              sniper\r\n              wellspring\r\n              overcharged\r\n              scavenger\r\n              swift\r\n            }\r\n            scaled\r\n            value\r\n          }\r\n        }\r\n      }\r\n      damage {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      healthGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      manaGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      staminaGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n      shieldGain {\r\n        health {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n          division\r\n        }\r\n        mind {\r\n          cap\r\n          creation\r\n          destruction\r\n          restoration\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        attributes {\r\n          space {\r\n            default\r\n            mod\r\n          }\r\n          time {\r\n            default\r\n            mod\r\n          }\r\n          death {\r\n            default\r\n            mod\r\n          }\r\n          life {\r\n            default\r\n            mod\r\n          }\r\n          fire {\r\n            default\r\n            mod\r\n          }\r\n          water {\r\n            default\r\n            mod\r\n          }\r\n          earth {\r\n            default\r\n            mod\r\n          }\r\n          air {\r\n            default\r\n            mod\r\n          }\r\n        }\r\n        debuffs {\r\n          fear {\r\n            default\r\n            mod\r\n          }\r\n          burn {\r\n            default\r\n            mod\r\n          }\r\n          freeze {\r\n            default\r\n            mod\r\n          }\r\n          shock {\r\n            default\r\n            mod\r\n          }\r\n          toxin {\r\n            default\r\n            mod\r\n          }\r\n          decay {\r\n            default\r\n            mod\r\n          }\r\n          bleed {\r\n            default\r\n            mod\r\n          }\r\n          exhaustion {\r\n            default\r\n            mod\r\n          }\r\n          explosion\r\n          paralysis\r\n          frozen\r\n          scorched\r\n          sleep\r\n        }\r\n        buffs {\r\n          regen {\r\n            default\r\n            mod\r\n          }\r\n          dread {\r\n            default\r\n            mod\r\n          }\r\n          poison {\r\n            default\r\n            mod\r\n          }\r\n          scorch {\r\n            default\r\n            mod\r\n          }\r\n          cold {\r\n            default\r\n            mod\r\n          }\r\n          spark {\r\n            default\r\n            mod\r\n          }\r\n          reflect {\r\n            default\r\n            mod\r\n          }\r\n          summon {\r\n            default\r\n            mod\r\n          }\r\n          taunt {\r\n            default\r\n            mod\r\n          }\r\n          flee {\r\n            default\r\n            mod\r\n          }\r\n          immortal\r\n          strong\r\n          warped\r\n          sniper\r\n          wellspring\r\n          overcharged\r\n          scavenger\r\n          swift\r\n        }\r\n        scaled\r\n        value\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst SEND_ABILITY = gql`\r\n  mutation sendAbility($characterId: ID!, $dungeonId: ID!, $slot: String!) {\r\n    sendAbility(characterId: $characterId, dungeonId: $dungeonId, slot: $slot)\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, useState } from \"react\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Minor Modules\r\nimport AbilityButton from \"./abilityButton\";\r\n\r\n//Context\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Assets\r\nimport Loading from \"../../assets/loading/donkey_web.gif\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\nimport character from \"./character\";\r\n\r\nexport default function DungeonUI({ dungeon, dungeonLoad }) {\r\n  const charContext = useContext(CharacterContext);\r\n  const abilitiesInvId = charContext.abilitiesInv;\r\n  const { loading: abilitiesInvLoad, data: abilitiesInvData } = useQuery(FETCH_ABILITIES_INV, { variables: { abilitiesInvId }, pollInterval: 200 });\r\n\r\n  const [votes, setVotes] = useState({ action: null, destination: null });\r\n\r\n  const setRoom = (index) => {\r\n    setVotes({ ...votes, destination: index });\r\n  };\r\n  const resetRoom = () => {\r\n    setVotes({ ...votes, destination: null });\r\n  };\r\n\r\n  const setAction = (index) => {\r\n    setVotes({ ...votes, action: index });\r\n  };\r\n\r\n  const resetAction = () => {\r\n    setVotes({ ...votes, action: null });\r\n  };\r\n\r\n  //Graphql\r\n  const [roomVote, { loading: roomLoad }] = useMutation(ROOM_VOTE, {\r\n    update(_, { data: roomData }) {\r\n      resetRoom();\r\n    },\r\n  });\r\n\r\n  const [actionVote, { loading: actionLoad }] = useMutation(ACTION_VOTE, {\r\n    update(_, { data: actionData }) {\r\n      resetAction();\r\n    },\r\n  });\r\n\r\n  //Display\r\n  const [selected, setSelected] = useState({\r\n    narrator: true,\r\n    turn: false,\r\n    tokens: false,\r\n    loot: false,\r\n    actions: false,\r\n    records: false,\r\n  });\r\n\r\n  const select = (target) => {\r\n    setSelected({ narrator: false, turn: false, tokens: false, loot: false, actions: false, records: false, [target]: true });\r\n  };\r\n\r\n  const backgroundCalc = (target) => {\r\n    if (target === \"turn\") {\r\n      if (dungeon.turn[0][0] === charContext.characterId) {\r\n        if (selected[target]) {\r\n          return \"#8718a8\";\r\n        } else {\r\n          return \"goldenrod\";\r\n        }\r\n      } else {\r\n        if (selected[target]) {\r\n          return \"#802960\";\r\n        } else {\r\n          return \"#873a2e\";\r\n        }\r\n      }\r\n    } else {\r\n      if (selected[target]) {\r\n        return \"#802960\";\r\n      } else {\r\n        return \"#873a2e\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const tokenCalc = () => {\r\n    console.log(dungeon);\r\n    const index = dungeon.playerIds.indexOf(charContext.characterId);\r\n    return dungeon.tokens[index];\r\n  };\r\n\r\n  const isHostile = () => {\r\n    if (dungeon.occupants.length >= 1) {\r\n      for (let i = 0; i < dungeon.occupants.length; i++) {\r\n        let nonliving = [\"treasure\", \"spring\", \"monument\"];\r\n        let notFullHealth = dungeon.occupants[i].health.current < dungeon.occupants[i].health.max;\r\n        let notPassiveAlignment = dungeon.occupants[i].alignment < 30;\r\n        let notFriendlyAlignment = dungeon.occupants[i].alignment < 60;\r\n        let isLiving = nonliving.includes(dungeon.occupants[i].spirit);\r\n        if (notPassiveAlignment) {\r\n          return true;\r\n        } else if (isLiving && notFullHealth && notFriendlyAlignment) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const titleGenerator = () => {\r\n    let title = ``;\r\n    if (isHostile()) {\r\n      if (dungeon.turn[0][0] === charContext.characterId) {\r\n        title = `It is your turn`;\r\n      } else {\r\n        let currPlayerIndex = dungeon.playerIds.indexOf(dungeon.turn[0][0]);\r\n        let currPlayer = dungeon.players[currPlayerIndex];\r\n        if (currPlayer) {\r\n          title = `It is ${currPlayer.name}'s turn`;\r\n        } else if (dungeon.occupants[0]){\r\n          title = `It is the ${dungeon.occupants[0].spirit}'s turn`;\r\n        }\r\n      }\r\n    } else {\r\n      title = `room dissolves in ${dungeon.room.lifespan} turns`;\r\n    }\r\n    return title;\r\n  };\r\n\r\n  const alertText = titleGenerator();\r\n\r\n  const isParty = () => {\r\n    if (dungeon.playerIds.length > 1) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const hasVote = (anchor) => {\r\n    if (anchor.includes(charContext.characterId)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const instantActions = [\"flee\", \"leave\"];\r\n  const notHostileActions = [\"rest\", \"embark\", \"leave\"];\r\n  const slots = [\r\n    \"slotOne\",\r\n    \"slotTwo\",\r\n    \"slotThree\",\r\n    \"slotFour\",\r\n    \"slotFive\",\r\n    \"slotSix\",\r\n    \"slotSeven\",\r\n    \"slotEight\",\r\n    \"slotNine\",\r\n    \"slotTen\",\r\n    \"slotEleven\",\r\n    \"slotTwelve\",\r\n    \"slotThirteen\",\r\n    \"slotFourteen\",\r\n    \"slotFifteen\",\r\n    \"slotSixteen\",\r\n    \"slotSeventeen\",\r\n    \"slotEighteen\",\r\n    \"slotNineteen\",\r\n    \"slotTwenty\",\r\n  ];\r\n\r\n  const viewManager = () => {\r\n    if (selected.narrator) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\", height: \"320px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"16px\" }}>\r\n                {alertText}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"255px\" }}>\r\n            <div>\r\n              {dungeon.log.map((msg, index) => (\r\n                <div className=\"narrator-block\" key={`${dungeon.id}-${index}-${msg}`}>\r\n                  <h1 className=\"narrator-text\">{msg}</h1>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.tokens) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\", height: \"320px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"16px\" }}>\r\n                {alertText}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"255px\" }}>\r\n            <div>\r\n              <h1 className=\"subheader\"> {`You currently have ${tokenCalc()} tokens`}</h1>\r\n              {dungeon.players.map((player, index) => (\r\n                <div\r\n                  key={player.id}\r\n                  style={{\r\n                    padding: \"5px\",\r\n                    borderRadius: \"5px\",\r\n                    border: \"3.5px solid #222\",\r\n                    backgroundColor: \"#000\",\r\n                    userSelect: \"none\",\r\n                    marginBottom: \"15px\",\r\n                    boxShadow: \"0px 10px 7px -5px #000000\",\r\n                  }}\r\n                >\r\n                  <Grid container style={{ borderRadius: \"5px\" }}>\r\n                    <Grid item xs={6}>\r\n                      <img\r\n                        src={require(`../../assets/skins/${player.skin}.jpg`)}\r\n                        style={{ width: \"100%\", borderRadius: \"5px\" }}\r\n                        alt={`character graphic for ${player.name}`}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                      <div style={{ marginLeft: \"10px\", paddingRight: \"5px\" }}>\r\n                        <h1 className=\"stats-text-alternate\" style={{ fontSize: \"26px\", height: \"30px\", marginTop: \"2px\", marginBottom: \"5px\" }}>\r\n                          {player.name}\r\n                        </h1>\r\n                        <h1\r\n                          className=\"subheader\"\r\n                          style={{\r\n                            fontSize: \"12px\",\r\n                            height: \"15\",\r\n                            lineHeight: \"1.2\",\r\n                            padding: \"5px\",\r\n                            paddingTop: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            backgroundColor: \"#111\",\r\n                          }}\r\n                        >{`Level ${player.level} ${player.spirit}`}</h1>\r\n                        <h1\r\n                          className=\"subheader\"\r\n                          style={{\r\n                            textAlign: \"left\",\r\n                            fontSize: \"10px\",\r\n                            height: \"15\",\r\n                            lineHeight: \"2\",\r\n                            padding: \"5px\",\r\n                            paddingTop: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            backgroundColor: \"#111\",\r\n                          }}\r\n                        >\r\n                          Tokens per Room: {`${dungeon.tokenDistribution[index]}`}\r\n                        </h1>\r\n                        <h1\r\n                          className=\"subheader\"\r\n                          style={{\r\n                            textAlign: \"left\",\r\n                            fontSize: \"10px\",\r\n                            height: \"15\",\r\n                            lineHeight: \"2\",\r\n                            padding: \"5px\",\r\n                            paddingTop: \"10px\",\r\n                            borderRadius: \"5px\",\r\n                            backgroundColor: \"#111\",\r\n                          }}\r\n                        >\r\n                          Total Tokens Earned: {`${dungeon.totalTokens[index]}`}\r\n                        </h1>\r\n                      </div>\r\n                    </Grid>\r\n                  </Grid>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.actions) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\", height: \"320px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"16px\" }}>\r\n                {alertText}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"255px\" }}>\r\n            <div>\r\n              <Grid container>\r\n                {dungeon.actions.actions.map((action, index) => (\r\n                  <Grid item xs={6} key={action}>\r\n                    <button\r\n                      className=\"submit-button\"\r\n                      disabled={actionLoad || dungeonLoad || ((action === \"rest\" || action === \"embark\") && isHostile())}\r\n                      style={{\r\n                        marginBottom: \"10px\",\r\n                        width: \"95%\",\r\n                        height: isParty() ? \"47px\" : \"30px\",\r\n                        marginTop: \"auto\",\r\n                        backgroundColor:\r\n                          notHostileActions.includes(action) && isHostile() ? \"black\" : hasVote(dungeon.actions.data[index]) ? \"indigo\" : \"darkslategray\",\r\n                        pointerEvents: (actionLoad && \"none\") || (notHostileActions.includes(action) && isHostile() && \"none\"),\r\n                        borderColor: notHostileActions.includes(action) && isHostile() && \"#222\",\r\n                        boxShadow: \"1px 15px 9px -10px #000000\",\r\n                        boxShadow: notHostileActions.includes(action) && isHostile() && \"\",\r\n                        color: notHostileActions.includes(action) && isHostile() && \"#222\",\r\n                      }}\r\n                      onClick={() => {\r\n                        if (hasVote(dungeon.actions.data[index])) {\r\n                          actionVote({ variables: { index, action: \"remove\", characterId: charContext.characterId, dungeonId: charContext.place } });\r\n                        } else {\r\n                          actionVote({ variables: { index, action: \"add\", characterId: charContext.characterId, dungeonId: charContext.place } });\r\n                        }\r\n                        setAction(index);\r\n                      }}\r\n                    >\r\n                      {actionLoad && votes.action === index ? (\r\n                        <div>\r\n                          {isParty() && <h1 className=\"subheader\">{`${action}`}</h1>}\r\n                          <img src={Loading} alt=\"loading\" style={{ marginTop: \"-18px\" }} />\r\n                        </div>\r\n                      ) : !isHostile() && instantActions.includes(action) && isParty() ? (\r\n                        <div>\r\n                          <h1 className=\"subheader\">{`${action}`}</h1>\r\n                          <h1 className=\"subheader\" style={{ height: \"10px\" }}>{``}</h1>\r\n                        </div>\r\n                      ) : (\r\n                        <div>\r\n                          <h1 className=\"subheader\">{`${action}`}</h1>\r\n                          {isParty() ? <h1 className=\"subheader\">{`(${dungeon.actions.data[index].length}/${dungeon.playerIds.length})`}</h1> : \"\"}\r\n                        </div>\r\n                      )}\r\n                    </button>\r\n                  </Grid>\r\n                ))}\r\n                <div className=\"divider-alternate\" style={{ marginBottom: \"10px\" }}></div>\r\n                <Grid item xs={12}>\r\n                  <h1 className=\"subheader\">The exit leads to...</h1>\r\n                </Grid>\r\n                {dungeon.leadingRooms.map((room, index) => (\r\n                  <Grid item xs={12} key={`${room.environment}-${index}`}>\r\n                    <button\r\n                      className=\"submit-button\"\r\n                      disabled={roomLoad || dungeonLoad}\r\n                      style={{\r\n                        marginBottom: \"10px\",\r\n                        width: \"95%\",\r\n                        height: isParty() ? \"47px\" : \"30px\",\r\n                        width: isParty() ? \"100%\" : \"60%\",\r\n                        marginTop: \"auto\",\r\n                        backgroundColor: hasVote(room.vote) ? \"darkred\" : \"#000\",\r\n                        pointerEvents: roomLoad && \"none\",\r\n                        boxShadow: \"1px 15px 9px -10px #000000\",\r\n                      }}\r\n                      onClick={() => {\r\n                        if (hasVote(room.vote)) {\r\n                          roomVote({ variables: { index, action: \"remove\", characterId: charContext.characterId, dungeonId: charContext.place } });\r\n                        } else {\r\n                          roomVote({ variables: { index, action: \"add\", characterId: charContext.characterId, dungeonId: charContext.place } });\r\n                        }\r\n                        setRoom(index);\r\n                      }}\r\n                    >\r\n                      {roomLoad && votes.destination === index ? (\r\n                        <div>\r\n                          {isParty() && <h1 className=\"subheader\">{`${room.environment}`}</h1>}\r\n                          <img src={Loading} alt=\"loading\" style={{ marginTop: \"-18px\" }} />\r\n                        </div>\r\n                      ) : (\r\n                        <div style={{ verticaAlign: \"middle\" }}>\r\n                          <h1 className=\"subheader\">{`${room.environment}`}</h1>\r\n                          {isParty() ? <h1 className=\"subheader\">{`(${room.vote.length}/${dungeon.playerIds.length})`}</h1> : \"\"}\r\n                        </div>\r\n                      )}\r\n                    </button>\r\n                  </Grid>\r\n                ))}\r\n              </Grid>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.turn) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\", height: \"320px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"16px\" }}>\r\n                {alertText}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"255px\" }}>\r\n            <div>\r\n              {dungeon.turn[0][0] === charContext.characterId ? (\r\n                <div>\r\n                  <Grid container>\r\n                    <Grid item xs={6}>\r\n                      <button\r\n                        className=\"submit-button\"\r\n                        style={{\r\n                          marginBottom: \"10px\",\r\n                          width: \"95%\",\r\n                          height: \"30px\",\r\n                          marginTop: \"auto\",\r\n                          backgroundColor: \"darkslategray\",\r\n                          cursor: \"pointer\",\r\n                          pointerEvents: roomLoad && \"none\",\r\n                          boxShadow: \"1px 15px 9px -10px #000000\",\r\n                        }}\r\n                      >\r\n                        Idle\r\n                      </button>\r\n                    </Grid>\r\n                    <Grid item xs={6} style={{ marginBottom: \"5px\" }}>\r\n                      <button\r\n                        className=\"submit-button\"\r\n                        style={{\r\n                          marginBottom: \"10px\",\r\n                          width: \"95%\",\r\n                          height: \"30px\",\r\n                          marginTop: \"auto\",\r\n                          backgroundColor: \"darkslategray\",\r\n                          cursor: \"pointer\",\r\n                          pointerEvents: roomLoad && \"none\",\r\n                          boxShadow: \"1px 15px 9px -10px #000000\",\r\n                        }}\r\n                      >\r\n                        Skip Turn\r\n                      </button>\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Grid container>\r\n                    <div className=\"divider-alternate\" style={{ marginBottom: \"10px\" }}></div>\r\n                    {!abilitiesInvLoad && abilitiesInvData\r\n                      ? slots.map((slot, index) =>\r\n                          index < charContext.slots && abilitiesInvData.getAbilitiesInv[slot].item ? (\r\n                            <AbilityButton key={slot} itemId={abilitiesInvData.getAbilitiesInv[slot].item} dungeonId={dungeon.id} slot={slot}/>\r\n                          ) : (\r\n                            \"\"\r\n                          )\r\n                        )\r\n                      : \"\"}\r\n                  </Grid>\r\n                </div>\r\n              ) : (\r\n                \"\"\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        borderRadius: \"5px\",\r\n        borderTopLeftRadius: \"0px\",\r\n        borderTopRightRadius: \"0px\",\r\n        border: \"2.5px solid #222\",\r\n        backgroundColor: \"#111\",\r\n        padding: \"10px\",\r\n        height: \"450px\",\r\n        width: \"100%\",\r\n      }}\r\n    >\r\n      <Grid style={{ marginBottom: \"10px\", width: \"100%\" }} container justify=\"space-between\" align=\"start\" spacing={1}>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"narrator\") }} onClick={() => select(\"narrator\")}>\r\n            narrator\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"tokens\") }} onClick={() => select(\"tokens\")}>\r\n            tokens\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button\r\n            className=\"submit-button\"\r\n            disabled={!isHostile}\r\n            style={{\r\n              cursor: \"pointer\",\r\n              backgroundColor: !isHostile ? \"#000\" : backgroundCalc(\"actions\"),\r\n              pointerEvents: !isHostile && \"none\",\r\n              borderColor: !isHostile && \"#222\",\r\n              color: !isHostile && \"#333\",\r\n            }}\r\n            onClick={() => select(\"actions\")}\r\n          >\r\n            actions\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"turn\") }} onClick={() => select(\"turn\")}>\r\n            turn\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"loot\") }} onClick={() => select(\"loot\")}>\r\n            loot\r\n          </button>\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <button className=\"submit-button\" style={{ cursor: \"pointer\", backgroundColor: backgroundCalc(\"records\") }} onClick={() => select(\"records\")}>\r\n            records\r\n          </button>\r\n        </Grid>\r\n      </Grid>\r\n      <div className=\"divider-alternate\" style={{ marginBottom: \"15px\" }}></div>\r\n      <div className=\"stats-container\" style={{ height: \"340px\" }}>\r\n        {viewManager()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ROOM_VOTE = gql`\r\n  mutation roomVote($index: Int!, $action: String!, $characterId: ID!, $dungeonId: ID!) {\r\n    roomVote(index: $index, action: $action, characterId: $characterId, dungeonId: $dungeonId) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst ACTION_VOTE = gql`\r\n  mutation actionVote($index: Int!, $action: String!, $characterId: ID!, $dungeonId: ID!) {\r\n    actionVote(index: $index, action: $action, characterId: $characterId, dungeonId: $dungeonId) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_ABILITIES_INV = gql`\r\n  query($abilitiesInvId: ID!) {\r\n    getAbilitiesInv(abilitiesInvId: $abilitiesInvId) {\r\n      slotOne {\r\n        item\r\n      }\r\n      slotTwo {\r\n        item\r\n      }\r\n      slotThree {\r\n        item\r\n      }\r\n      slotFour {\r\n        item\r\n      }\r\n      slotFive {\r\n        item\r\n      }\r\n      slotSix {\r\n        item\r\n      }\r\n      slotSeven {\r\n        item\r\n      }\r\n      slotEight {\r\n        item\r\n      }\r\n      slotNine {\r\n        item\r\n      }\r\n      slotTen {\r\n        item\r\n      }\r\n      slotEleven {\r\n        item\r\n      }\r\n      slotTwelve {\r\n        item\r\n      }\r\n      slotThirteen {\r\n        item\r\n      }\r\n      slotFourteen {\r\n        item\r\n      }\r\n      slotFifteen {\r\n        item\r\n      }\r\n      slotSixteen {\r\n        item\r\n      }\r\n      slotSeventeen {\r\n        item\r\n      }\r\n      slotEighteen {\r\n        item\r\n      }\r\n      slotNineteen {\r\n        item\r\n      }\r\n      slotTwenty {\r\n        item\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\n//Minor Modules\r\nimport Modal from \"../minor/modal\";\r\nimport Inventory from \"../minor/inventory\";\r\nimport Stats from \"../minor/stats\";\r\nimport Equipment from \"../minor/equipment\";\r\nimport Character from \"../minor/character\";\r\nimport Dungeon from \"../minor/dungeon\";\r\nimport Players from \"../minor/players\";\r\nimport Occupant from \"../minor/occupant\";\r\nimport DungeonUI from \"../minor/dungeonui\";\r\n\r\n//Contexts\r\nimport { AuthContext } from \"../../helper/auth\";\r\nimport { CharacterContext } from \"../../helper/character\";\r\nimport { PlaceContext } from \"../../helper/place\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\n//Assets\r\nimport Load from \"../../assets/loading/large_donkey_web.gif\";\r\n\r\nexport default function Settlement() {\r\n  //GENERAL VALUES\r\n  const context = useContext(AuthContext);\r\n  const character = useContext(CharacterContext);\r\n  const place = useContext(PlaceContext);\r\n\r\n  const characterId = context.character.id;\r\n  const userId = context.user.id;\r\n\r\n  const [modal, setModal] = useState({\r\n    stats: false,\r\n    character: false,\r\n    equipment: false,\r\n    inventory: false,\r\n    dungeon: false,\r\n  });\r\n\r\n  const toggleModal = (target) => {\r\n    let toggle = !modal[target];\r\n    setModal({ ...modal, [target]: toggle });\r\n  };\r\n\r\n  //Page loading in with all data\r\n  //Character Data\r\n  let isPlace = character.place ? false : true;\r\n  const { loading: characterLoad, data: characterData, refetch } = useQuery(FETCH_CHARACTER, { variables: { characterId }, pollInterval: 500 });\r\n  const { loading: dungeonLoad, data: dungeonData } = useQuery(FETCH_DUNGEON_OUTPUT, {\r\n    variables: { dungeonId: character.place, characterId: character.characterId },\r\n    skip: isPlace,\r\n    pollInterval: 100,\r\n  });\r\n\r\n  //Getting equipped items, important for applying stats without renders (Lazy Query)\r\n  const [getEquips, { loading: equipmentLoad, data: equipmentData }] = useLazyQuery(FETCH_EQUIPS);\r\n\r\n  useEffect(() => {\r\n    if (!characterLoad) {\r\n      let tempData = characterData;\r\n      let tempCharacter = tempData.getCharacter;\r\n      character.update({ ...tempCharacter, characterId: characterId });\r\n      let tempEquipment = tempCharacter.equipment;\r\n      getEquips({ variables: { equipmentId: tempEquipment } });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [characterData]);\r\n\r\n  useEffect(() => {\r\n    if (equipmentData && !equipmentLoad) {\r\n      let tempData = equipmentData.getEquips;\r\n      character.equip(tempData);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [equipmentData]);\r\n\r\n  if (characterLoad) {\r\n    return \"\";\r\n  } else {\r\n    return (\r\n      <Grid container justify=\"center\" style={{ height: \"100vh\", overflow: \"hidden\" }}>\r\n        <Grid item md={10} lg={11} align=\"center\" style={{ backgroundColor: \"#000\" }}>\r\n          {dungeonData ? (\r\n            <Grid container alignContent=\"space-between\" style={{ height: \"100%\" }}>\r\n              <Grid item xs={4} style={{ height: \"42.5%\" }}>\r\n                <Slide direction=\"down\" in={true} mountOnEnter unmountOnExit>\r\n                    <Grid item xs={12}>\r\n                      <DungeonUI dungeon={dungeonData.getDungeonOutput} dungeonLoad={dungeonLoad} />\r\n                    </Grid>\r\n                  </Slide>\r\n              </Grid>\r\n              <Grid item xs={1}></Grid>\r\n              <Grid item xs={7}>\r\n                {dungeonData.getDungeonOutput.occupants[0] ? (\r\n                  <Slide direction=\"down\" in={!!dungeonData.getDungeonOutput.occupants[0]} mountOnEnter unmountOnExit>\r\n                    <Grid item xs={12}>\r\n                      <Occupant occupant={dungeonData.getDungeonOutput.occupants[0]} turn={dungeonData.getDungeonOutput.turn} />\r\n                    </Grid>\r\n                  </Slide>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Slide direction=\"up\" in={true} mountOnEnter unmountOnExit>\r\n                  <Grid item xs={12}>\r\n                    <Players players={dungeonData.getDungeonOutput.players} turn={dungeonData.getDungeonOutput.turn} />\r\n                  </Grid>\r\n                </Slide>\r\n              </Grid>\r\n            </Grid>\r\n          ) : (\r\n            <div className=\"loading\" style={{ backgroundColor: \"#000\" }}>\r\n              <img src={Load} alt=\"loading\" />\r\n              <h1 className=\"header-alternate\" style={{ marginTop: \"50px\" }}>\r\n                Loading...\r\n              </h1>\r\n            </div>\r\n          )}\r\n        </Grid>\r\n        <Grid item md={2} lg={1} style={{ backgroundColor: \"#1c1c1c\", borderLeft: \"2px solid #111\", overflow: \"hidden\" }} align=\"center\">\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"character\")}>\r\n            character\r\n          </button>\r\n          {modal.character ? <Modal title=\"Character\" component={<Character />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"stats\")}>\r\n            stats\r\n          </button>\r\n          {modal.stats ? (\r\n            <Modal\r\n              title={characterData.getCharacter.name}\r\n              subtitle={\r\n                <div>\r\n                  <h4 className=\"subheader\">{`Level ${characterData.getCharacter.level.lvl}`}</h4>\r\n                </div>\r\n              }\r\n              component={<Stats characterId={characterId} refetch={refetch} refreshData={characterLoad} />}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"equipment\")}>\r\n            equipment\r\n          </button>\r\n          {modal.equipment ? <Modal title=\"Equipment\" component={<Equipment equipmentId={characterData.getCharacter.equipment} />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"inventory\")}>\r\n            inventory\r\n          </button>\r\n          {modal.inventory ? <Modal title=\"Inventory\" component={<Inventory inventoryId={characterData.getCharacter.inventory} />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"dungeon\")}>\r\n            bidding\r\n          </button>\r\n          {modal.dungeon ? <Modal title=\"Dungeon\" component={<Dungeon />} /> : \"\"}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst FETCH_DUNGEON_OUTPUT = gql`\r\n  query($dungeonId: ID!, $characterId: ID!) {\r\n    getDungeonOutput(dungeonId: $dungeonId, characterId: $characterId) {\r\n      room {\r\n        environment\r\n        lifespan\r\n        template {\r\n          name\r\n        }\r\n      }\r\n      players {\r\n        id\r\n        name\r\n        spirit\r\n        level\r\n        skin\r\n        health {\r\n          max\r\n          current\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n        }\r\n      }\r\n      occupants {\r\n        id\r\n        name\r\n        spirit\r\n        level\r\n        skin\r\n        alignment\r\n        health {\r\n          max\r\n          current\r\n        }\r\n        mana {\r\n          max\r\n          current\r\n        }\r\n        stamina {\r\n          max\r\n          current\r\n        }\r\n        shield {\r\n          max\r\n          current\r\n        }\r\n      }\r\n      log\r\n      tokens\r\n      tokenDistribution\r\n      totalTokens\r\n      playerIds\r\n      actions {\r\n        actions\r\n        data\r\n      }\r\n      leadingRooms {\r\n        environment\r\n        vote\r\n      }\r\n      turn\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_CHARACTER = gql`\r\n  query($characterId: ID!) {\r\n    getCharacter(characterId: $characterId) {\r\n      owner\r\n      name\r\n      place\r\n      tags\r\n      titles\r\n      level {\r\n        lvl\r\n        xp\r\n        cap\r\n        stat\r\n      }\r\n      alignment\r\n      humanity\r\n      slots\r\n      cooldowns\r\n      mind {\r\n        cap\r\n        creation\r\n        destruction\r\n        restoration\r\n        projection\r\n      }\r\n      body {\r\n        cap\r\n        vitality\r\n        defense\r\n        strength\r\n        dexterity\r\n      }\r\n      soul {\r\n        cap\r\n        luck\r\n        capacity\r\n        clarity\r\n        will\r\n      }\r\n      attributes {\r\n        space {\r\n          default\r\n          mod\r\n        }\r\n        time {\r\n          default\r\n          mod\r\n        }\r\n        death {\r\n          default\r\n          mod\r\n        }\r\n        life {\r\n          default\r\n          mod\r\n        }\r\n        fire {\r\n          default\r\n          mod\r\n        }\r\n        water {\r\n          default\r\n          mod\r\n        }\r\n        earth {\r\n          default\r\n          mod\r\n        }\r\n        air {\r\n          default\r\n          mod\r\n        }\r\n      }\r\n      buffs {\r\n        regen {\r\n          default\r\n          mod\r\n        }\r\n        dread {\r\n          default\r\n          mod\r\n        }\r\n        poison {\r\n          default\r\n          mod\r\n        }\r\n        scorch {\r\n          default\r\n          mod\r\n        }\r\n        cold {\r\n          default\r\n          mod\r\n        }\r\n        spark {\r\n          default\r\n          mod\r\n        }\r\n        reflect {\r\n          default\r\n          mod\r\n        }\r\n        summon {\r\n          default\r\n          mod\r\n        }\r\n        taunt {\r\n          default\r\n          mod\r\n        }\r\n        flee {\r\n          default\r\n          mod\r\n        }\r\n        immortal\r\n        strong\r\n        warped\r\n        sniper\r\n        wellspring\r\n        overcharged\r\n        scavenger\r\n        swift\r\n      }\r\n      debuffs {\r\n        fear {\r\n          default\r\n          mod\r\n        }\r\n        burn {\r\n          default\r\n          mod\r\n        }\r\n        freeze {\r\n          default\r\n          mod\r\n        }\r\n        shock {\r\n          default\r\n          mod\r\n        }\r\n        toxin {\r\n          default\r\n          mod\r\n        }\r\n        decay {\r\n          default\r\n          mod\r\n        }\r\n        bleed {\r\n          default\r\n          mod\r\n        }\r\n        exhaustion {\r\n          default\r\n          mod\r\n        }\r\n        explosion\r\n        paralysis\r\n        frozen\r\n        scorched\r\n        sleep\r\n      }\r\n      perks\r\n      abilitiesInv\r\n      equipment\r\n      inventory\r\n      familiar\r\n      skins\r\n      health {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      mana {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      stamina {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      shield {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      defRes\r\n      debuffRes\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_EQUIPS = gql`\r\n  query($equipmentId: ID!) {\r\n    getEquips(equipmentId: $equipmentId) {\r\n      head {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      upperBody {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      lowerBody {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      feet {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      leftHand {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      rightHand {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      ringOne {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      ringTwo {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, memo } from \"react\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Context\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nfunction PartyDetails({ partyId, kickable, kick, leave }) {\r\n  const charContext = useContext(CharacterContext);\r\n\r\n  //Get Party\r\n  const { loading: partyLoad, data: partyData } = useQuery(FETCH_PARTY, {\r\n    variables: { partyId },\r\n    pollInterval: 200,\r\n  });\r\n\r\n  const { loading: membersLoad, data: membersData } = useQuery(FETCH_MEMBERS, {\r\n    variables: { partyId },\r\n    pollInterval: 200,\r\n  });\r\n\r\n  if (!partyLoad && !membersLoad) {\r\n    const party = partyData.getParty;\r\n    const characters = membersData.getMembers;\r\n\r\n    return (\r\n      <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\", height: \"500px\" }}>\r\n        <div style={{ display: \"block\", height: \"45px\" }}>\r\n          <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n            <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n              {party.name}\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div className=\"divider\"></div>\r\n        <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"440px\" }}>\r\n          <h1 className=\"subheader\">{`Party (${party.characters.length} / 6)`}</h1>\r\n          {characters.map((character) => (\r\n            <div\r\n              key={character.id}\r\n              style={{\r\n                padding: \"5px\",\r\n                borderRadius: \"5px\",\r\n                border: \"3.5px solid #222\",\r\n                backgroundColor: \"#000\",\r\n                userSelect: \"none\",\r\n                marginBottom: \"15px\",\r\n                boxShadow: \"0px 10px 7px -5px #000000\",\r\n              }}\r\n            >\r\n              <Grid container style={{ borderRadius: \"5px\" }}>\r\n                <Grid item xs={6}>\r\n                  <img\r\n                    src={require(`../../assets/skins/${character.skins[0]}.jpg`)}\r\n                    style={{ width: \"100%\", borderRadius: \"5px\" }}\r\n                    alt={`character graphic for ${character.skins[0]}`}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={6}>\r\n                  <div style={{ marginLeft: \"10px\", paddingRight: \"5px\" }}>\r\n                    <h1 className=\"stats-text-alternate\" style={{ fontSize: \"26px\", height: \"30px\", marginTop: \"2px\", marginBottom: \"5px\" }}>\r\n                      {character.name}\r\n                    </h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{ fontSize: \"10px\", height: \"15\", padding: \"5px\", paddingTop: \"10px\", borderRadius: \"5px\", backgroundColor: \"#111\" }}\r\n                    >{`Level ${character.level.lvl} ${character.spirit}`}</h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{ fontSize: \"10px\", height: \"15\", padding: \"5px\", paddingTop: \"10px\", borderRadius: \"5px\", backgroundColor: \"#111\" }}\r\n                    >{`${character.health.current} Health`}</h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{ fontSize: \"10px\", height: \"15\", padding: \"5px\", paddingTop: \"10px\", borderRadius: \"5px\", backgroundColor: \"#111\" }}\r\n                    >{`${character.shield.current} Shield`}</h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{ fontSize: \"10px\", height: \"15\", padding: \"5px\", paddingTop: \"10px\", borderRadius: \"5px\", backgroundColor: \"#111\" }}\r\n                    >{`${character.stamina.current} Stamina`}</h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{ fontSize: \"10px\", height: \"15\", padding: \"5px\", paddingTop: \"10px\", borderRadius: \"5px\", backgroundColor: \"#111\" }}\r\n                    >{`${character.mana.current} Mana`}</h1>\r\n                  </div>\r\n                </Grid>\r\n                {charContext.characterId === character.id ? (\r\n                  <Grid item xs={12}>\r\n                    <button\r\n                      className=\"submit-button\"\r\n                      onClick={() => {\r\n                        leave({ variables: { partyId: party.id, characterId: charContext.characterId } });\r\n                      }}\r\n                      style={{ marginBottom: \"10px\", width: \"82.5%\", marginTop: \"auto\" }}\r\n                    >\r\n                      Leave Party\r\n                    </button>\r\n                  </Grid>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n                {party.characters[0] === charContext.characterId && character.id !== charContext.characterId && kickable ? (\r\n                  <Grid item xs={12}>\r\n                    <button\r\n                      className=\"submit-button\"\r\n                      onClick={() => {\r\n                        kick({ variables: { partyId: party.id, characterId: character.id } });\r\n                      }}\r\n                      style={{ marginBottom: \"10px\", width: \"82.5%\", marginTop: \"auto\" }}\r\n                    >\r\n                      Kick from Party\r\n                    </button>\r\n                  </Grid>\r\n                ) : (\r\n                  \"\"\r\n                )}\r\n              </Grid>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport default memo(PartyDetails);\r\n\r\nconst FETCH_PARTY = gql`\r\n  query($partyId: ID!) {\r\n    getParty(partyId: $partyId) {\r\n      id\r\n      name\r\n      characters\r\n      tokenDistribution\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_MEMBERS = gql`\r\n  query($partyId: ID!) {\r\n    getMembers(partyId: $partyId) {\r\n      id\r\n      name\r\n      party\r\n      level {\r\n        lvl\r\n      }\r\n      spirit\r\n      skins\r\n      health {\r\n        current\r\n      }\r\n      shield {\r\n        current\r\n      }\r\n      stamina {\r\n        current\r\n      }\r\n      mana {\r\n        current\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useState, useContext } from \"react\";\r\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Minor Module\r\nimport PartyDetails from \"./partyDetail\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Contexts\r\nimport { CharacterContext } from \"../../helper/character\";\r\n\r\n//Assets\r\nimport Loading from \"../../assets/loading/donkey_web.gif\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nexport default function Party() {\r\n  //Context\r\n  const character = useContext(CharacterContext);\r\n\r\n  //Calculations\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  //Graphql\r\n  const { loading: partiesLoad, data: partiesData } = useQuery(FETCH_PARTIES, {\r\n    variables: { locationId: character.place },\r\n    pollInterval: 200,\r\n  });\r\n\r\n  const [createParty, { loading: createPartyLoad }] = useMutation(CREATE_PARTY, {\r\n    onError(err) {\r\n      setErrors(err.graphQLErrors[0].extensions.exception.errors);\r\n    },\r\n    variables: { locationId: character.place, characterId: character.characterId, name: values.name },\r\n  });\r\n\r\n  const createPartySubmit = (event) => {\r\n    event.preventDefault();\r\n    createParty();\r\n  };\r\n\r\n  const [joinParty] = useMutation(JOIN_PARTY);\r\n  const [leaveParty] = useMutation(LEAVE_PARTY);\r\n  const [kickParty] = useMutation(KICK_PARTY);\r\n\r\n  //Display\r\n  const [selected, setSelected] = useState({\r\n    party: true,\r\n    lookup: false,\r\n  });\r\n\r\n  const select = (target) => {\r\n    setSelected({ party: false, lookup: false, [target]: true });\r\n  };\r\n\r\n  const backgroundCalc = (target) => {\r\n    if (selected[target]) {\r\n      return \"rgb(133, 20, 133)\";\r\n    } else {\r\n      return \"darkred\";\r\n    }\r\n  };\r\n\r\n  const viewManager = () => {\r\n    if (selected.party) {\r\n      return character.party ? (\r\n        <PartyDetails partyId={character.party} kickable={true} kick={kickParty} leave={leaveParty} />\r\n      ) : (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Create a Party\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"440px\" }}>\r\n            <Grid container style={{ paddingLeft: \"10px\", paddingRight: \"10px\" }}>\r\n              <Grid item xs={12}>\r\n                <label htmlFor=\"partyName\">Party name</label>\r\n                <input type=\"text\" id=\"partyName\" name=\"name\" spellCheck=\"false\" value={values.name} onChange={handleChange} />\r\n                <p>{!errors.name ? \"\" : errors.name}</p>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <button\r\n                  className=\"submit-button\"\r\n                  onClick={createPartySubmit}\r\n                  style={{ borderColor: createPartyLoad ? \"#ab9d48\" : \"#bbb\", marginBottom: \"10px\", width: \"82.5%\", marginTop: \"auto\" }}\r\n                >\r\n                  {createPartyLoad ? <img src={Loading} alt=\"loading\" style={{ marginTop: \"-10px\" }} /> : \"Create Party\"}\r\n                </button>\r\n              </Grid>\r\n            </Grid>\r\n          </div>\r\n        </div>\r\n      );\r\n    } else if (selected.lookup) {\r\n      return (\r\n        <div style={{ paddingTop: \"5px\", paddingLeft: \"5px\", paddingRight: \"5px\" }}>\r\n          <div style={{ display: \"block\", height: \"45px\" }}>\r\n            <div style={{ paddingTop: \"20px\", marginLeft: \"auto\", marginRight: \"auto\" }}>\r\n              <span className=\"subheader\" style={{ fontSize: \"20px\" }}>\r\n                Lookup Parties\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"440px\" }}>\r\n            {!partiesLoad && partiesData\r\n              ? partiesData.getParties.map((party) =>\r\n                  party.charting ? (\r\n                    \"\"\r\n                  ) : (\r\n                    <div\r\n                      key={party.id}\r\n                      style={{\r\n                        padding: \"5px\",\r\n                        borderRadius: \"5px\",\r\n                        border: \"3.5px solid #111\",\r\n                        backgroundColor: \"#222\",\r\n                        userSelect: \"none\",\r\n                        marginBottom: \"15px\",\r\n                        boxShadow: \"0px 10px 7px -5px #000000\",\r\n                      }}\r\n                    >\r\n                      <Grid container>\r\n                        <Grid item xs={8}>\r\n                          <h1\r\n                            className=\"stats-text-alternate\"\r\n                            style={{ textAlign: \"left\", fontSize: \"24px\", height: \"30px\", marginTop: \"2px\", marginBottom: \"20px\" }}\r\n                          >\r\n                            {party.name}\r\n                          </h1>\r\n                          <span\r\n                            className=\"subheader\"\r\n                            style={{ float: \"left\", height: \"15\", padding: \"5px\", paddingTop: \"10px\", borderRadius: \"5px\", backgroundColor: \"#111\" }}\r\n                          >{`${party.characters.length} / 6`}</span>\r\n                        </Grid>\r\n                        <Grid item xs={4}>\r\n                          <button\r\n                            className=\"submit-button\"\r\n                            onClick={(e) => {\r\n                              e.preventDefault();\r\n                              if (party.id === character.party) {\r\n                                leaveParty({ variables: { partyId: party.id, characterId: character.characterId } });\r\n                              } else {\r\n                                joinParty({ variables: { partyId: party.id, characterId: character.characterId } });\r\n                              }\r\n                            }}\r\n                            style={{ backgroundColor: character.party === party.id ? \"darkred\" : \"green\", height: \"100%\", fontSize: \"24px\" }}\r\n                          >\r\n                            {party.id === character.party ? \"Leave\" : \"Join\"}\r\n                          </button>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </div>\r\n                  )\r\n                )\r\n              : \"Loading...\"}\r\n          </div>\r\n        </div>\r\n      );\r\n    } else {\r\n      return <h1>uh oh, an error has occurred</h1>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"stats\">\r\n      <div style={{ display: \"flex\", marginBottom: \"10px\" }}>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"initial\", width: \"150px\", cursor: \"pointer\", backgroundColor: backgroundCalc(\"party\") }}\r\n          onClick={() => select(\"party\")}\r\n        >\r\n          party\r\n        </button>\r\n        <button\r\n          className=\"submit-button\"\r\n          style={{ float: \"initial\", width: \"150px\", marginLeft: \"auto\", cursor: \"pointer\", backgroundColor: backgroundCalc(\"stats\") }}\r\n          onClick={() => select(\"lookup\")}\r\n        >\r\n          lookup\r\n        </button>\r\n      </div>\r\n      <div className=\"divider-alternate\" style={{ marginBottom: \"15px\" }}></div>\r\n      <div className=\"stats-container\" style={{ height: \"525px\" }}>\r\n        {viewManager()}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst FETCH_PARTIES = gql`\r\n  query($locationId: ID!) {\r\n    getParties(locationId: $locationId) {\r\n      id\r\n      name\r\n      characters\r\n      charting\r\n    }\r\n  }\r\n`;\r\n\r\nconst CREATE_PARTY = gql`\r\n  mutation createParty($locationId: ID!, $characterId: ID!, $name: String!) {\r\n    createParty(locationId: $locationId, characterId: $characterId, name: $name) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst JOIN_PARTY = gql`\r\n  mutation joinParty($partyId: ID!, $characterId: ID!) {\r\n    joinParty(partyId: $partyId, characterId: $characterId) {\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nconst LEAVE_PARTY = gql`\r\n  mutation leaveParty($partyId: ID!, $characterId: ID!) {\r\n    leaveParty(partyId: $partyId, characterId: $characterId)\r\n  }\r\n`;\r\n\r\nconst KICK_PARTY = gql`\r\n  mutation kickParty($partyId: ID!, $characterId: ID!) {\r\n    kickParty(partyId: $partyId, characterId: $characterId)\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, memo, useEffect } from \"react\";\r\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Context\r\nimport { CharacterContext } from \"../../helper/character\";\r\nimport { PlaceContext } from \"../../helper/place\";\r\n\r\n//Assets\r\nimport Loading from \"../../assets/loading/donkey_web.gif\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\nfunction Venture() {\r\n  const character = useContext(CharacterContext);\r\n  const place = useContext(PlaceContext);\r\n\r\n  //GraphQl\r\n  let isParty = character.party ? false : true;\r\n\r\n  const { loading: areasLoad, data: areasData } = useQuery(FETCH_AREAS, { variables: { locationId: character.place }, pollInterval: 1000 });\r\n  const { loading: partyLoad, data: partyData } = useQuery(FETCH_PARTY, { variables: { partyId: character.party }, skip: isParty, pollInterval: 1000 });\r\n  const [createDungeon, { loading: dungeonLoad, data: dungeonData }] = useMutation(CREATE_DUNGEON);\r\n\r\n  useEffect(() => {\r\n    if (!dungeonLoad && dungeonData) {\r\n      place.place({\r\n        placeId: dungeonData.createDungeon.id,\r\n        type: \"dungeon\",\r\n        name: dungeonData.createDungeon.name,\r\n        desc: null,\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dungeonData]);\r\n\r\n  //Text Generation\r\n  const rarityText = (rarity) => {\r\n    if (rarity === 0) {\r\n      return \"There are no mutated creatures\";\r\n    } else if (rarity === 1 || rarity === 2) {\r\n      return \"There is a low level of mutation\";\r\n    } else if (rarity === 3) {\r\n      return \"There is a normal level of mutation\";\r\n    } else if (rarity === 4) {\r\n      return \"There is a high level of mutation\";\r\n    } else if (rarity === 5) {\r\n      return \"There is a extreme level of mutation\";\r\n    }\r\n  };\r\n\r\n  const chaosText = (chaos) => {\r\n    if (chaos === 0) {\r\n      return \"- It is easy to traverse this place\";\r\n    } else if (chaos === 1 || chaos === 2) {\r\n      return \"- There are a few tricks to watch out for\";\r\n    } else if (chaos === 3) {\r\n      return \"- You can expect to get a little lost\";\r\n    } else if (chaos === 4 || chaos === 5) {\r\n      return \"- Few can find there way through this place\";\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const dropText = (droprate) => {\r\n    if (droprate === 0) {\r\n      return \"- This place has little to take\";\r\n    } else if (droprate === 1 || droprate === 2) {\r\n      return \"- This place has a few treasures\";\r\n    } else if (droprate === 3) {\r\n      return \"- This place has an adequate number of treasures to find\";\r\n    } else if (droprate === 4 || droprate === 5) {\r\n      return \"- This place is filled with treasures\";\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const alignmentText = (alignment) => {\r\n    if (alignment <= 10) {\r\n      return \"The creatures here act as they should\";\r\n    } else if (alignment > 10 && alignment < 30) {\r\n      return \"The creatures here are somewhat tame\";\r\n    } else if (alignment >= 30 && alignment < 60) {\r\n      return \"The creatures here are somewhat friendly\";\r\n    } else if (alignment >= 60) {\r\n      return \"The creatures here are much more peaceful and kind than their counterparts\";\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const humanityText = (humanity) => {\r\n    if (humanity <= 10) {\r\n      return \"The creatures here are of their base intellect\";\r\n    } else if (humanity > 10 && humanity < 30) {\r\n      return \"The creatures here are somewhat intelligent\";\r\n    } else if (humanity >= 30 && humanity < 60) {\r\n      return \"The creatures here are of noticeable intellect\";\r\n    } else if (humanity >= 60) {\r\n      return \"The intelligence of creatures here rivals man\";\r\n    }\r\n    return \"\";\r\n  };\r\n\r\n  const floorText = (size, rooms, containment) => {\r\n    let generalText = [`There are ${size} floors, each with around ${rooms} rooms. `, []];\r\n    for (let i = 0; i < containment.length; i++) {\r\n      let starterText = `floor ${i + 1}: `;\r\n      let containmentText = \"\";\r\n      if (containment[i] === 0) {\r\n        containmentText = \"can leave after room encounters, cannot perish\";\r\n      } else if (containment[i] === 1) {\r\n        containmentText = \"can leave after room encounters, can perish\";\r\n      } else if (containment[i] === 2) {\r\n        containmentText = \"can only leave through teleporter rooms, can perish\";\r\n      }\r\n      let totalText = starterText + containmentText;\r\n      generalText[1].push(totalText);\r\n    }\r\n    return (\r\n      <div>\r\n        <h1\r\n          className=\"subheader\"\r\n          key=\"general\"\r\n          style={{\r\n            textAlign: \"left\",\r\n            lineHeight: \"1.2\",\r\n            fontSize: \"10px\",\r\n            height: \"15\",\r\n            padding: \"10px\",\r\n            paddingTop: \"10px\",\r\n            borderRadius: \"5px\",\r\n            backgroundColor: \"#111\",\r\n          }}\r\n        >\r\n          {generalText[0]}\r\n        </h1>\r\n        {generalText[1].map((text) => (\r\n          <h1\r\n            className=\"subheader\"\r\n            key={text}\r\n            style={{\r\n              textAlign: \"left\",\r\n              lineHeight: \"1.2\",\r\n              fontSize: \"10px\",\r\n              height: \"15\",\r\n              padding: \"10px\",\r\n              paddingTop: \"10px\",\r\n              borderRadius: \"5px\",\r\n              backgroundColor: \"#111\",\r\n            }}\r\n          >\r\n            {text}\r\n          </h1>\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const typeText = (type) => {\r\n    let newType = type.charAt(0).toUpperCase() + type.slice(1);\r\n    return newType;\r\n  };\r\n\r\n  const buttonText = (isParty, isPartyLeader, type) => {\r\n    if (isParty) {\r\n      return `Enter the ${type}`;\r\n    } else if (!isParty && isPartyLeader) {\r\n      return `Enter the ${type} (with party)`;\r\n    } else {\r\n      return \"Must be party leader to venture\";\r\n    }\r\n  };\r\n\r\n  if ((!areasLoad && areasData && isParty) || (!areasLoad && areasData && !isParty && !partyLoad && partyData)) {\r\n    let areas = areasData.getAreas;\r\n    let party;\r\n    let isPartyLeader = true;\r\n\r\n    if (!isParty) {\r\n      party = partyData.getParty;\r\n      isPartyLeader = party.characters[0] === character.characterId;\r\n    }\r\n\r\n    return (\r\n      <div className=\"stats-container\" style={{ height: \"550px\", width: \"650px\" }}>\r\n        <div className=\"inner-scrollbar\" style={{ padding: \"10px\", height: \"500px\" }}>\r\n          {areas.map((area) => (\r\n            <div\r\n              key={area.id}\r\n              style={{\r\n                padding: \"5px\",\r\n                borderRadius: \"5px\",\r\n                border: \"3.5px solid #111\",\r\n                backgroundColor: \"#222\",\r\n                userSelect: \"none\",\r\n                marginBottom: \"15px\",\r\n                boxShadow: \"0px 10px 7px -5px #000000\",\r\n              }}\r\n            >\r\n              <Grid container style={{ borderRadius: \"5px\" }}>\r\n                <Grid item xs={5}>\r\n                  <img\r\n                    src={require(`../../assets/icons/${area.icon}.jpg`)}\r\n                    style={{ width: \"238px\", height: \"238px\", borderRadius: \"5px\" }}\r\n                    alt={`dungeon graphic for ${area.name}`}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={7}>\r\n                  <div style={{ marginLeft: \"10px\", paddingRight: \"5px\" }}>\r\n                    <h1 className=\"stats-text-alternate\" style={{ fontSize: \"26px\", height: \"30px\", marginTop: \"2px\", marginBottom: \"5px\" }}>\r\n                      {area.name}\r\n                    </h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{\r\n                        lineHeight: \"1.2\",\r\n                        fontSize: \"10px\",\r\n                        height: \"15\",\r\n                        padding: \"5px\",\r\n                        paddingTop: \"10px\",\r\n                        borderRadius: \"5px\",\r\n                        backgroundColor: \"#111\",\r\n                      }}\r\n                    >{`Recommended level: ${area.level}`}</h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{\r\n                        textAlign: \"left\",\r\n                        lineHeight: \"1.2\",\r\n                        fontSize: \"10px\",\r\n                        height: \"15\",\r\n                        padding: \"10px\",\r\n                        paddingTop: \"10px\",\r\n                        borderRadius: \"5px\",\r\n                        backgroundColor: \"#111\",\r\n                      }}\r\n                    >{`${area.desc}`}</h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{\r\n                        textAlign: \"left\",\r\n                        lineHeight: \"1.2\",\r\n                        fontSize: \"10px\",\r\n                        height: \"15\",\r\n                        padding: \"10px\",\r\n                        paddingTop: \"10px\",\r\n                        borderRadius: \"5px\",\r\n                        backgroundColor: \"#111\",\r\n                      }}\r\n                    >\r\n                      {dropText(area.droprate)}\r\n                    </h1>\r\n                    <h1\r\n                      className=\"subheader\"\r\n                      style={{\r\n                        textAlign: \"left\",\r\n                        lineHeight: \"1.2\",\r\n                        fontSize: \"10px\",\r\n                        height: \"15\",\r\n                        padding: \"10px\",\r\n                        paddingTop: \"10px\",\r\n                        borderRadius: \"5px\",\r\n                        backgroundColor: \"#111\",\r\n                      }}\r\n                    >\r\n                      {chaosText(area.chaos)}\r\n                    </h1>\r\n                  </div>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <h1\r\n                    className=\"subheader\"\r\n                    style={{\r\n                      textAlign: \"left\",\r\n                      lineHeight: \"1.2\",\r\n                      fontSize: \"10px\",\r\n                      height: \"15\",\r\n                      padding: \"10px\",\r\n                      paddingTop: \"10px\",\r\n                      borderRadius: \"5px\",\r\n                      backgroundColor: \"#111\",\r\n                    }}\r\n                  >\r\n                    {floorText(area.size, area.length, area.containment)}\r\n                  </h1>\r\n                  <h1\r\n                    className=\"subheader\"\r\n                    style={{\r\n                      textAlign: \"left\",\r\n                      lineHeight: \"1.2\",\r\n                      fontSize: \"10px\",\r\n                      height: \"15\",\r\n                      padding: \"10px\",\r\n                      paddingTop: \"10px\",\r\n                      borderRadius: \"5px\",\r\n                      backgroundColor: \"#111\",\r\n                    }}\r\n                  >\r\n                    {rarityText(area.rarity)}\r\n                  </h1>\r\n                  <h1\r\n                    className=\"subheader\"\r\n                    style={{\r\n                      textAlign: \"left\",\r\n                      lineHeight: \"1.2\",\r\n                      fontSize: \"10px\",\r\n                      height: \"15\",\r\n                      padding: \"10px\",\r\n                      paddingTop: \"10px\",\r\n                      borderRadius: \"5px\",\r\n                      backgroundColor: \"#111\",\r\n                    }}\r\n                  >\r\n                    {humanityText(area.humanity)}\r\n                  </h1>\r\n                  <h1\r\n                    className=\"subheader\"\r\n                    style={{\r\n                      textAlign: \"left\",\r\n                      lineHeight: \"1.2\",\r\n                      fontSize: \"10px\",\r\n                      height: \"15\",\r\n                      padding: \"10px\",\r\n                      paddingTop: \"10px\",\r\n                      borderRadius: \"5px\",\r\n                      backgroundColor: \"#111\",\r\n                    }}\r\n                  >\r\n                    {alignmentText(area.alignment)}\r\n                  </h1>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <button\r\n                    className=\"submit-button\"\r\n                    disabled={!isPartyLeader}\r\n                    style={{\r\n                      backgroundColor: isPartyLeader ? \"green\" : \"gray\",\r\n                      pointerEvents: isPartyLeader ? \"auto\" : \"none\",\r\n                      marginBottom: \"10px\",\r\n                      width: \"82.5%\",\r\n                      marginTop: \"auto\",\r\n                    }}\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      let values = {\r\n                        templateId: area.id,\r\n                        partyId: !isParty ? character.party : null,\r\n                        characterId: character.characterId,\r\n                        locationId: character.place,\r\n                      };\r\n                      console.log(values);\r\n                      createDungeon({ variables: values });\r\n                    }}\r\n                  >\r\n                    {dungeonLoad ? <img src={Loading} alt=\"loading\" style={{ marginTop: \"-10px\" }} /> : buttonText(isParty, isPartyLeader, typeText(area.type))}\r\n                  </button>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nexport default memo(Venture);\r\n\r\nconst FETCH_PARTY = gql`\r\n  query($partyId: ID!) {\r\n    getParty(partyId: $partyId) {\r\n      id\r\n      name\r\n      characters\r\n      tokenDistribution\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_AREAS = gql`\r\n  query($locationId: ID!) {\r\n    getAreas(locationId: $locationId) {\r\n      id\r\n      name\r\n      desc\r\n      icon\r\n      level\r\n      size\r\n      length\r\n      containment\r\n      chaos\r\n      rarity\r\n      droprate\r\n      alignment\r\n      humanity\r\n      type\r\n    }\r\n  }\r\n`;\r\n\r\nconst CREATE_DUNGEON = gql`\r\n  mutation createDungeon($templateId: ID!, $partyId: ID, $characterId: ID!, $locationId: ID!) {\r\n    createDungeon(createDungeonInput: { templateId: $templateId, partyId: $partyId, characterId: $characterId, locationId: $locationId }) {\r\n      id\r\n      name\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext, useState, useEffect } from \"react\";\r\nimport { useQuery, useLazyQuery } from \"@apollo/react-hooks\";\r\nimport gql from \"graphql-tag\";\r\n\r\n//Material UI\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\n//Minor Modules\r\nimport Modal from \"../minor/modal\";\r\nimport Inventory from \"../minor/inventory\";\r\nimport Stats from \"../minor/stats\";\r\nimport Equipment from \"../minor/equipment\";\r\nimport Character from \"../minor/character\";\r\nimport Party from \"../minor/party\";\r\nimport Venture from \"../minor/venture\";\r\n\r\n//Contexts\r\nimport { AuthContext } from \"../../helper/auth\";\r\nimport { CharacterContext } from \"../../helper/character\";\r\nimport { PlaceContext } from \"../../helper/place\";\r\n\r\n//Styles\r\nimport \"../styles/base.css\";\r\n\r\n//Assets\r\n\r\nexport default function Settlement() {\r\n  //GENERAL VALUES\r\n  const context = useContext(AuthContext);\r\n  const character = useContext(CharacterContext);\r\n  const place = useContext(PlaceContext);\r\n\r\n  const characterId = context.character.id;\r\n  const userId = context.user.id;\r\n\r\n  const [modal, setModal] = useState({\r\n    stats: false,\r\n    equipment: false,\r\n    inventory: false,\r\n    vault: false,\r\n    party: false,\r\n    character: false,\r\n    venture: false,\r\n  });\r\n\r\n  const toggleModal = (target) => {\r\n    let toggle = !modal[target];\r\n    setModal({ ...modal, [target]: toggle });\r\n  };\r\n\r\n  //Page loading in with all data\r\n  //Character Data\r\n  const { loading: characterLoad, data: characterData, refetch } = useQuery(FETCH_CHARACTER, { variables: { characterId }, pollInterval: 500 });\r\n\r\n  //Getting user vaults\r\n  const { loading: vaultLoad, data: vaultData } = useQuery(FETCH_VAULTS, { variables: { userId } });\r\n\r\n  //Getting equipped items, important for applying stats without renders (Lazy Query)\r\n  const [getEquips, { loading: equipmentLoad, data: equipmentData }] = useLazyQuery(FETCH_EQUIPS);\r\n\r\n  useEffect(() => {\r\n    if (!characterLoad) {\r\n      let tempData = characterData;\r\n      let tempCharacter = tempData.getCharacter;\r\n      character.update({ ...tempCharacter, characterId: characterId });\r\n      let tempEquipment = tempCharacter.equipment;\r\n      getEquips({ variables: { equipmentId: tempEquipment } });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [characterData]);\r\n\r\n  useEffect(() => {\r\n    if (equipmentData && !equipmentLoad) {\r\n      let tempData = equipmentData.getEquips;\r\n      character.equip(tempData);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [equipmentData]);\r\n\r\n  if (characterLoad) {\r\n    return \"\";\r\n  } else {\r\n    return (\r\n      <Grid container justify=\"center\" style={{ height: \"100vh\" }}>\r\n        <Grid item md={10} lg={11} align=\"center\">\r\n          <h1 className=\"header\">{place.name}</h1>\r\n          <h1 className=\"subheader-alternate\">{place.desc}</h1>\r\n        </Grid>\r\n        <Grid item md={2} lg={1} style={{ backgroundColor: \"#1c1c1c\", borderLeft: \"2px solid black\", overflow: \"hidden\" }} align=\"center\">\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"character\")}>\r\n            character\r\n          </button>\r\n          {modal.character ? <Modal title=\"Character\" component={<Character />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"stats\")}>\r\n            stats\r\n          </button>\r\n          {modal.stats ? (\r\n            <Modal\r\n              title={characterData.getCharacter.name}\r\n              subtitle={\r\n                <div>\r\n                  <h4 className=\"subheader\">{`Level ${characterData.getCharacter.level.lvl}`}</h4>\r\n                </div>\r\n              }\r\n              component={<Stats characterId={characterId} refetch={refetch} refreshData={characterLoad} />}\r\n            />\r\n          ) : (\r\n            \"\"\r\n          )}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"equipment\")}>\r\n            equipment\r\n          </button>\r\n          {modal.equipment ? <Modal title=\"Equipment\" component={<Equipment equipmentId={characterData.getCharacter.equipment} />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"inventory\")}>\r\n            inventory\r\n          </button>\r\n          {modal.inventory ? <Modal title=\"Inventory\" component={<Inventory inventoryId={characterData.getCharacter.inventory} />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"vault\")}>\r\n            vault\r\n          </button>\r\n          {modal.vault && !vaultLoad ? <Modal title=\"Vault\" component={<Inventory inventoryId={vaultData.getUser.vault[0]} />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"party\")}>\r\n            party\r\n          </button>\r\n          {modal.party && character.place ? <Modal title=\"Party\" component={<Party />} /> : \"\"}\r\n          <button className=\"side-button\" onClick={() => toggleModal(\"venture\")}>\r\n            venture\r\n          </button>\r\n          {modal.venture && character.place ? <Modal title=\"Venture\" component={<Venture />} /> : \"\"}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nconst FETCH_CHARACTER = gql`\r\n  query($characterId: ID!) {\r\n    getCharacter(characterId: $characterId) {\r\n      owner\r\n      name\r\n      party\r\n      spirit\r\n      place\r\n      tags\r\n      titles\r\n      level {\r\n        lvl\r\n        xp\r\n        cap\r\n        stat\r\n      }\r\n      alignment\r\n      humanity\r\n      slots\r\n      cooldowns\r\n      mind {\r\n        cap\r\n        creation\r\n        destruction\r\n        restoration\r\n        projection\r\n      }\r\n      body {\r\n        cap\r\n        vitality\r\n        defense\r\n        strength\r\n        dexterity\r\n      }\r\n      soul {\r\n        cap\r\n        luck\r\n        capacity\r\n        clarity\r\n        will\r\n      }\r\n      attributes {\r\n        space {\r\n          default\r\n          mod\r\n        }\r\n        time {\r\n          default\r\n          mod\r\n        }\r\n        death {\r\n          default\r\n          mod\r\n        }\r\n        life {\r\n          default\r\n          mod\r\n        }\r\n        fire {\r\n          default\r\n          mod\r\n        }\r\n        water {\r\n          default\r\n          mod\r\n        }\r\n        earth {\r\n          default\r\n          mod\r\n        }\r\n        air {\r\n          default\r\n          mod\r\n        }\r\n      }\r\n      buffs {\r\n        regen {\r\n          default\r\n          mod\r\n        }\r\n        dread {\r\n          default\r\n          mod\r\n        }\r\n        poison {\r\n          default\r\n          mod\r\n        }\r\n        scorch {\r\n          default\r\n          mod\r\n        }\r\n        cold {\r\n          default\r\n          mod\r\n        }\r\n        spark {\r\n          default\r\n          mod\r\n        }\r\n        reflect {\r\n          default\r\n          mod\r\n        }\r\n        summon {\r\n          default\r\n          mod\r\n        }\r\n        taunt {\r\n          default\r\n          mod\r\n        }\r\n        flee {\r\n          default\r\n          mod\r\n        }\r\n        immortal\r\n        strong\r\n        warped\r\n        sniper\r\n        wellspring\r\n        overcharged\r\n        scavenger\r\n        swift\r\n      }\r\n      debuffs {\r\n        fear {\r\n          default\r\n          mod\r\n        }\r\n        burn {\r\n          default\r\n          mod\r\n        }\r\n        freeze {\r\n          default\r\n          mod\r\n        }\r\n        shock {\r\n          default\r\n          mod\r\n        }\r\n        toxin {\r\n          default\r\n          mod\r\n        }\r\n        decay {\r\n          default\r\n          mod\r\n        }\r\n        bleed {\r\n          default\r\n          mod\r\n        }\r\n        exhaustion {\r\n          default\r\n          mod\r\n        }\r\n        explosion\r\n        paralysis\r\n        frozen\r\n        scorched\r\n        sleep\r\n      }\r\n      perks\r\n      abilitiesInv\r\n      equipment\r\n      inventory\r\n      familiar\r\n      skins\r\n      health {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      mana {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      stamina {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      shield {\r\n        max\r\n        current\r\n        division\r\n      }\r\n      defRes\r\n      debuffRes\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_VAULTS = gql`\r\n  query($userId: ID!) {\r\n    getUser(userId: $userId) {\r\n      vault\r\n    }\r\n  }\r\n`;\r\n\r\nconst FETCH_EQUIPS = gql`\r\n  query($equipmentId: ID!) {\r\n    getEquips(equipmentId: $equipmentId) {\r\n      head {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      upperBody {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      lowerBody {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      feet {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      leftHand {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      rightHand {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      ringOne {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n      ringTwo {\r\n        name\r\n        desc\r\n        path\r\n        type\r\n        ability\r\n        slots\r\n        mind {\r\n          cap\r\n          creation\r\n          restoration\r\n          destruction\r\n          projection\r\n        }\r\n        body {\r\n          cap\r\n          vitality\r\n          defense\r\n          strength\r\n          dexterity\r\n        }\r\n        soul {\r\n          cap\r\n          luck\r\n          capacity\r\n          clarity\r\n          will\r\n        }\r\n        essence {\r\n          focus\r\n          value\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","//General\r\nimport React, { useContext} from \"react\";\r\n\r\n//Pages\r\nimport Login from \"../modules/major/login\";\r\nimport Selection from \"../modules/major/selection\";\r\nimport Dungeon from \"../modules/major/dungeon\";\r\nimport Settlement from \"../modules/major/settlement\";\r\n\r\n//Minor Modules\r\n\r\n//Context\r\nimport { AuthContext } from \"../helper/auth\";\r\nimport { PlaceContext } from \"../helper/place\";\r\n\r\nexport default function Game() {\r\n  const context = useContext(AuthContext);\r\n  const placeContext = useContext(PlaceContext);\r\n\r\n  if (context.user) {\r\n    if (context.character && placeContext.placeId) {\r\n        if(placeContext.type === \"dungeon\") {\r\n          return <Dungeon/>\r\n        } else {\r\n          return <Settlement/>\r\n        }\r\n    } else {\r\n      return <Selection/>;\r\n    }\r\n  } else {\r\n    return <Login />;\r\n  }\r\n}\r\n","//General Imports\r\nimport React from \"react\";\r\n\r\n//Pages\r\nimport Game from \"./pages/game\";\r\n\r\n//Context\r\nimport { AuthProvider } from \"./helper/auth\";\r\nimport { DragProvider } from \"./helper/drag\";\r\nimport { CharacterProvider } from \"./helper/character\";\r\nimport { PlaceProvider } from \"./helper/place\";\r\n\r\nfunction App() {\r\n  return (\r\n    <AuthProvider>\r\n      <DragProvider>\r\n        <CharacterProvider>\r\n          <PlaceProvider>\r\n            <Game />\r\n          </PlaceProvider>\r\n        </CharacterProvider>\r\n      </DragProvider>\r\n    </AuthProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","\r\nimport React from 'react';\r\nimport App from './App';\r\nimport ApolloClient from 'apollo-client';\r\nimport { InMemoryCache } from 'apollo-cache-inmemory';\r\nimport { createHttpLink } from 'apollo-link-http';\r\nimport { ApolloProvider } from '@apollo/react-hooks';\r\nimport { setContext } from 'apollo-link-context';\r\n\r\nconst httpLink = createHttpLink({\r\n  uri: 'https://rogue-rpg-server.herokuapp.com/'\r\n});\r\n\r\nconst authLink = setContext(() => {\r\n  const token = localStorage.getItem('jwtToken');\r\n  return {\r\n    headers: {\r\n      Authorization: token ? `Bearer ${token}` : ''\r\n    }\r\n  };\r\n});\r\n\r\nconst client = new ApolloClient({\r\n  link: authLink.concat(httpLink),\r\n  cache: new InMemoryCache()\r\n});\r\n\r\nexport default (\r\n  <ApolloProvider client={client}>\r\n    <App />\r\n  </ApolloProvider>\r\n);","import ReactDOM from \"react-dom\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport ApolloProvider from \"./ApolloProvider\";\r\nimport \"./index.css\";\r\n\r\nReactDOM.render(ApolloProvider, document.getElementById(\"root\"));\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}